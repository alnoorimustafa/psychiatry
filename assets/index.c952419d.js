var Xu=Object.defineProperty,Zu=Object.defineProperties;var ec=Object.getOwnPropertyDescriptors;var au=Object.getOwnPropertySymbols;var tc=Object.prototype.hasOwnProperty,nc=Object.prototype.propertyIsEnumerable;var uu=(M,f,P)=>f in M?Xu(M,f,{enumerable:!0,configurable:!0,writable:!0,value:P}):M[f]=P,yt=(M,f)=>{for(var P in f||(f={}))tc.call(f,P)&&uu(M,P,f[P]);if(au)for(var P of au(f))nc.call(f,P)&&uu(M,P,f[P]);return M},la=(M,f)=>Zu(M,ec(f));var rc=(M,f)=>()=>(f||M((f={exports:{}}).exports,f),f.exports);import{o as Ae,c as Se,a as k,w as dt,v as pt,F as vt,r as gt,p as Pa,b as Ia,n as ct,t as ot,d as Di,e as cu,f as ic,g as fa,h as sc}from"./vendor.8c70e7bc.js";var Yd=rc((Ra,No)=>{const oc=function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))K(w);new MutationObserver(w=>{for(const D of w)if(D.type==="childList")for(const h of D.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&K(h)}).observe(document,{childList:!0,subtree:!0});function P(w){const D={};return w.integrity&&(D.integrity=w.integrity),w.referrerpolicy&&(D.referrerPolicy=w.referrerpolicy),w.crossorigin==="use-credentials"?D.credentials="include":w.crossorigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function K(w){if(w.ep)return;w.ep=!0;const D=P(w);fetch(w.href,D)}};oc();/*!
  * Bootstrap v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(M,f){typeof Ra=="object"&&typeof No!="undefined"?No.exports=f():typeof define=="function"&&define.amd?define(f):(M=typeof globalThis!="undefined"?globalThis:M||self,M.bootstrap=f())})(globalThis,function(){const M=3,f={find(d,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,d))},findOne(d,n=document.documentElement){return Element.prototype.querySelector.call(n,d)},children(d,n){return[].concat(...d.children).filter(o=>o.matches(n))},parents(d,n){const o=[];let A=d.parentNode;for(;A&&A.nodeType===Node.ELEMENT_NODE&&A.nodeType!==M;)A.matches(n)&&o.push(A),A=A.parentNode;return o},prev(d,n){let o=d.previousElementSibling;for(;o;){if(o.matches(n))return[o];o=o.previousElementSibling}return[]},next(d,n){let o=d.nextElementSibling;for(;o;){if(o.matches(n))return[o];o=o.nextElementSibling}return[]}},P=1e6,K=1e3,w="transitionend",D=d=>d==null?`${d}`:{}.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase(),h=d=>{do d+=Math.floor(Math.random()*P);while(document.getElementById(d));return d},N=d=>{let n=d.getAttribute("data-bs-target");if(!n||n==="#"){let o=d.getAttribute("href");if(!o||!o.includes("#")&&!o.startsWith("."))return null;o.includes("#")&&!o.startsWith("#")&&(o=`#${o.split("#")[1]}`),n=o&&o!=="#"?o.trim():null}return n},W=d=>{const n=N(d);return n&&document.querySelector(n)?n:null},te=d=>{const n=N(d);return n?document.querySelector(n):null},ge=d=>{if(!d)return 0;let{transitionDuration:n,transitionDelay:o}=window.getComputedStyle(d);const A=Number.parseFloat(n),C=Number.parseFloat(o);return!A&&!C?0:(n=n.split(",")[0],o=o.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(o))*K)},ve=d=>{d.dispatchEvent(new Event(w))},ue=d=>!d||typeof d!="object"?!1:(typeof d.jquery!="undefined"&&(d=d[0]),typeof d.nodeType!="undefined"),L=d=>ue(d)?d.jquery?d[0]:d:typeof d=="string"&&d.length>0?f.findOne(d):null,ye=(d,n,o)=>{Object.keys(o).forEach(A=>{const C=o[A],R=n[A],z=R&&ue(R)?"element":D(R);if(!new RegExp(C).test(z))throw new TypeError(`${d.toUpperCase()}: Option "${A}" provided type "${z}" but expected type "${C}".`)})},Ne=d=>!ue(d)||d.getClientRects().length===0?!1:getComputedStyle(d).getPropertyValue("visibility")==="visible",j=d=>!d||d.nodeType!==Node.ELEMENT_NODE||d.classList.contains("disabled")?!0:typeof d.disabled!="undefined"?d.disabled:d.hasAttribute("disabled")&&d.getAttribute("disabled")!=="false",Z=d=>{if(!document.documentElement.attachShadow)return null;if(typeof d.getRootNode=="function"){const n=d.getRootNode();return n instanceof ShadowRoot?n:null}return d instanceof ShadowRoot?d:d.parentNode?Z(d.parentNode):null},g=()=>{},m=d=>d.offsetHeight,u=()=>{const{jQuery:d}=window;return d&&!document.body.hasAttribute("data-bs-no-jquery")?d:null},c=[],v=d=>{document.readyState==="loading"?(c.length||document.addEventListener("DOMContentLoaded",()=>{c.forEach(n=>n())}),c.push(d)):d()},_=()=>document.documentElement.dir==="rtl",Ie=d=>{v(()=>{const n=u();if(n){const o=d.NAME,A=n.fn[o];n.fn[o]=d.jQueryInterface,n.fn[o].Constructor=d,n.fn[o].noConflict=()=>(n.fn[o]=A,d.jQueryInterface)}})},Ct=d=>{typeof d=="function"&&d()},et=(d,n,o=!0)=>{if(!o){Ct(d);return}const A=5,C=ge(n)+A;let R=!1;const z=({target:le})=>{le===n&&(R=!0,n.removeEventListener(w,z),Ct(d))};n.addEventListener(w,z),setTimeout(()=>{R||ve(n)},C)},q=(d,n,o,A)=>{let C=d.indexOf(n);if(C===-1)return d[!o&&A?d.length-1:0];const R=d.length;return C+=o?1:-1,A&&(C=(C+R)%R),d[Math.max(0,Math.min(C,R-1))]},H=/[^.]*(?=\..*)\.|.*/,G=/\..*/,Q=/::\d+$/,he={};let ke=1;const de={mouseenter:"mouseover",mouseleave:"mouseout"},st=/^(mouseenter|mouseleave)/i,Ht=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Pn(d,n){return n&&`${n}::${ke++}`||d.uidEvent||ke++}function Ft(d){const n=Pn(d);return d.uidEvent=n,he[n]=he[n]||{},he[n]}function ni(d,n){return function o(A){return A.delegateTarget=d,o.oneOff&&oe.off(d,A.type,n),n.apply(d,[A])}}function Sr(d,n,o){return function A(C){const R=d.querySelectorAll(n);for(let{target:z}=C;z&&z!==this;z=z.parentNode)for(let le=R.length;le--;)if(R[le]===z)return C.delegateTarget=z,A.oneOff&&oe.off(d,C.type,n,o),o.apply(z,[C]);return null}}function An(d,n,o=null){const A=Object.keys(d);for(let C=0,R=A.length;C<R;C++){const z=d[A[C]];if(z.originalHandler===n&&z.delegationSelector===o)return z}return null}function cs(d,n,o){const A=typeof n=="string",C=A?o:n;let R=Zn(d);return Ht.has(R)||(R=d),[A,C,R]}function ls(d,n,o,A,C){if(typeof n!="string"||!d)return;if(o||(o=A,A=null),st.test(n)){const bt=Nt=>function(xt){if(!xt.relatedTarget||xt.relatedTarget!==xt.delegateTarget&&!xt.delegateTarget.contains(xt.relatedTarget))return Nt.call(this,xt)};A?A=bt(A):o=bt(o)}const[R,z,le]=cs(n,o,A),Te=Ft(d),xe=Te[le]||(Te[le]={}),Le=An(xe,z,R?o:null);if(Le){Le.oneOff=Le.oneOff&&C;return}const Ze=Pn(z,n.replace(H,"")),lt=R?Sr(d,o,A):ni(d,o);lt.delegationSelector=R?o:null,lt.originalHandler=z,lt.oneOff=C,lt.uidEvent=Ze,xe[Ze]=lt,d.addEventListener(le,lt,R)}function Br(d,n,o,A,C){const R=An(n[o],A,C);!R||(d.removeEventListener(o,R,Boolean(C)),delete n[o][R.uidEvent])}function Ni(d,n,o,A){const C=n[o]||{};Object.keys(C).forEach(R=>{if(R.includes(A)){const z=C[R];Br(d,n,o,z.originalHandler,z.delegationSelector)}})}function Zn(d){return d=d.replace(G,""),de[d]||d}const oe={on(d,n,o,A){ls(d,n,o,A,!1)},one(d,n,o,A){ls(d,n,o,A,!0)},off(d,n,o,A){if(typeof n!="string"||!d)return;const[C,R,z]=cs(n,o,A),le=z!==n,Te=Ft(d),xe=n.startsWith(".");if(typeof R!="undefined"){if(!Te||!Te[z])return;Br(d,Te,z,R,C?o:null);return}xe&&Object.keys(Te).forEach(Ze=>{Ni(d,Te,Ze,n.slice(1))});const Le=Te[z]||{};Object.keys(Le).forEach(Ze=>{const lt=Ze.replace(Q,"");if(!le||n.includes(lt)){const bt=Le[Ze];Br(d,Te,z,bt.originalHandler,bt.delegationSelector)}})},trigger(d,n,o){if(typeof n!="string"||!d)return null;const A=u(),C=Zn(n),R=n!==C,z=Ht.has(C);let le,Te=!0,xe=!0,Le=!1,Ze=null;return R&&A&&(le=A.Event(n,o),A(d).trigger(le),Te=!le.isPropagationStopped(),xe=!le.isImmediatePropagationStopped(),Le=le.isDefaultPrevented()),z?(Ze=document.createEvent("HTMLEvents"),Ze.initEvent(C,Te,!0)):Ze=new CustomEvent(n,{bubbles:Te,cancelable:!0}),typeof o!="undefined"&&Object.keys(o).forEach(lt=>{Object.defineProperty(Ze,lt,{get(){return o[lt]}})}),Le&&Ze.preventDefault(),xe&&d.dispatchEvent(Ze),Ze.defaultPrevented&&typeof le!="undefined"&&le.preventDefault(),Ze}},zn=new Map;var Gt={set(d,n,o){zn.has(d)||zn.set(d,new Map);const A=zn.get(d);if(!A.has(n)&&A.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(A.keys())[0]}.`);return}A.set(n,o)},get(d,n){return zn.has(d)&&zn.get(d).get(n)||null},remove(d,n){if(!zn.has(d))return;const o=zn.get(d);o.delete(n),o.size===0&&zn.delete(d)}};const Cr="5.0.2";class Tn{constructor(n){n=L(n),!!n&&(this._element=n,Gt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Gt.remove(this._element,this.constructor.DATA_KEY),oe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(n=>{this[n]=null})}_queueCallback(n,o,A=!0){et(n,o,A)}static getInstance(n){return Gt.get(n,this.DATA_KEY)}static getOrCreateInstance(n,o={}){return this.getInstance(n)||new this(n,typeof o=="object"?o:null)}static get VERSION(){return Cr}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const Hs="alert",ri=".bs.alert",ii=".data-api",Fs='[data-bs-dismiss="alert"]',si=`close${ri}`,er=`closed${ri}`,$i=`click${ri}${ii}`,oi="alert",wn="fade",Li="show";class Qe extends Tn{static get NAME(){return Hs}close(n){const o=n?this._getRootElement(n):this._element,A=this._triggerCloseEvent(o);A===null||A.defaultPrevented||this._removeElement(o)}_getRootElement(n){return te(n)||n.closest(`.${oi}`)}_triggerCloseEvent(n){return oe.trigger(n,si)}_removeElement(n){n.classList.remove(Li);const o=n.classList.contains(wn);this._queueCallback(()=>this._destroyElement(n),n,o)}_destroyElement(n){n.remove(),oe.trigger(n,er)}static jQueryInterface(n){return this.each(function(){const o=Qe.getOrCreateInstance(this);n==="close"&&o[n](this)})}static handleDismiss(n){return function(o){o&&o.preventDefault(),n.close(this)}}}oe.on(document,$i,Fs,Qe.handleDismiss(new Qe)),Ie(Qe);const Tr="button",ki=".bs.button",ai=".data-api",xi="active",On='[data-bs-toggle="button"]',Ks=`click${ki}${ai}`;class hr extends Tn{static get NAME(){return Tr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(xi))}static jQueryInterface(n){return this.each(function(){const o=hr.getOrCreateInstance(this);n==="toggle"&&o[n]()})}}oe.on(document,Ks,On,d=>{d.preventDefault();const n=d.target.closest(On);hr.getOrCreateInstance(n).toggle()}),Ie(hr);function Pi(d){return d==="true"?!0:d==="false"?!1:d===Number(d).toString()?Number(d):d===""||d==="null"?null:d}function Mr(d){return d.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Vt={setDataAttribute(d,n,o){d.setAttribute(`data-bs-${Mr(n)}`,o)},removeDataAttribute(d,n){d.removeAttribute(`data-bs-${Mr(n)}`)},getDataAttributes(d){if(!d)return{};const n={};return Object.keys(d.dataset).filter(o=>o.startsWith("bs")).forEach(o=>{let A=o.replace(/^bs/,"");A=A.charAt(0).toLowerCase()+A.slice(1,A.length),n[A]=Pi(d.dataset[o])}),n},getDataAttribute(d,n){return Pi(d.getAttribute(`data-bs-${Mr(n)}`))},offset(d){const n=d.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}},position(d){return{top:d.offsetTop,left:d.offsetLeft}}},ui="carousel",zt=".bs.carousel",ci=".data-api",bn="ArrowLeft",Gs="ArrowRight",Ii=500,jr=40,li={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Vs={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Yn="next",In="prev",dr="left",Or="right",fs={[bn]:Or,[Gs]:dr},tr=`slide${zt}`,fi=`slid${zt}`,Ws=`keydown${zt}`,zs=`mouseenter${zt}`,qr=`mouseleave${zt}`,pr=`touchstart${zt}`,Ys=`touchmove${zt}`,hs=`touchend${zt}`,Ri=`pointerdown${zt}`,ds=`pointerup${zt}`,ps=`dragstart${zt}`,hi=`load${zt}${ci}`,nr=`click${zt}${ci}`,rr="carousel",Rn="active",Bi="slide",Ur="carousel-item-end",Mi="carousel-item-start",vs="carousel-item-next",ms="carousel-item-prev",Qs="pointer-event",Js=".active",Hr=".active.carousel-item",Xs=".carousel-item",ji=".carousel-item img",_s=".carousel-item-next, .carousel-item-prev",Fr=".carousel-indicators",qi="[data-bs-target]",Zs="[data-bs-slide], [data-bs-slide-to]",gs='[data-bs-ride="carousel"]',cn="touch",Fn="pen";class Dn extends Tn{constructor(n,o){super(n);this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(o),this._indicatorsElement=f.findOne(Fr,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return li}static get NAME(){return ui}next(){this._slide(Yn)}nextWhenVisible(){!document.hidden&&Ne(this._element)&&this.next()}prev(){this._slide(In)}pause(n){n||(this._isPaused=!0),f.findOne(_s,this._element)&&(ve(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(n){n||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(n){this._activeElement=f.findOne(Hr,this._element);const o=this._getItemIndex(this._activeElement);if(n>this._items.length-1||n<0)return;if(this._isSliding){oe.one(this._element,fi,()=>this.to(n));return}if(o===n){this.pause(),this.cycle();return}const A=n>o?Yn:In;this._slide(A,this._items[n])}_getConfig(n){return n=yt(yt(yt({},li),Vt.getDataAttributes(this._element)),typeof n=="object"?n:{}),ye(ui,n,Vs),n}_handleSwipe(){const n=Math.abs(this.touchDeltaX);if(n<=jr)return;const o=n/this.touchDeltaX;this.touchDeltaX=0,!!o&&this._slide(o>0?Or:dr)}_addEventListeners(){this._config.keyboard&&oe.on(this._element,Ws,n=>this._keydown(n)),this._config.pause==="hover"&&(oe.on(this._element,zs,n=>this.pause(n)),oe.on(this._element,qr,n=>this.cycle(n))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const n=C=>{this._pointerEvent&&(C.pointerType===Fn||C.pointerType===cn)?this.touchStartX=C.clientX:this._pointerEvent||(this.touchStartX=C.touches[0].clientX)},o=C=>{this.touchDeltaX=C.touches&&C.touches.length>1?0:C.touches[0].clientX-this.touchStartX},A=C=>{this._pointerEvent&&(C.pointerType===Fn||C.pointerType===cn)&&(this.touchDeltaX=C.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(R=>this.cycle(R),Ii+this._config.interval))};f.find(ji,this._element).forEach(C=>{oe.on(C,ps,R=>R.preventDefault())}),this._pointerEvent?(oe.on(this._element,Ri,C=>n(C)),oe.on(this._element,ds,C=>A(C)),this._element.classList.add(Qs)):(oe.on(this._element,pr,C=>n(C)),oe.on(this._element,Ys,C=>o(C)),oe.on(this._element,hs,C=>A(C)))}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const o=fs[n.key];o&&(n.preventDefault(),this._slide(o))}_getItemIndex(n){return this._items=n&&n.parentNode?f.find(Xs,n.parentNode):[],this._items.indexOf(n)}_getItemByOrder(n,o){const A=n===Yn;return q(this._items,o,A,this._config.wrap)}_triggerSlideEvent(n,o){const A=this._getItemIndex(n),C=this._getItemIndex(f.findOne(Hr,this._element));return oe.trigger(this._element,tr,{relatedTarget:n,direction:o,from:C,to:A})}_setActiveIndicatorElement(n){if(this._indicatorsElement){const o=f.findOne(Js,this._indicatorsElement);o.classList.remove(Rn),o.removeAttribute("aria-current");const A=f.find(qi,this._indicatorsElement);for(let C=0;C<A.length;C++)if(Number.parseInt(A[C].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(n)){A[C].classList.add(Rn),A[C].setAttribute("aria-current","true");break}}}_updateInterval(){const n=this._activeElement||f.findOne(Hr,this._element);if(!n)return;const o=Number.parseInt(n.getAttribute("data-bs-interval"),10);o?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=o):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(n,o){const A=this._directionToOrder(n),C=f.findOne(Hr,this._element),R=this._getItemIndex(C),z=o||this._getItemByOrder(A,C),le=this._getItemIndex(z),Te=Boolean(this._interval),xe=A===Yn,Le=xe?Mi:Ur,Ze=xe?vs:ms,lt=this._orderToDirection(A);if(z&&z.classList.contains(Rn)){this._isSliding=!1;return}if(this._isSliding||this._triggerSlideEvent(z,lt).defaultPrevented||!C||!z)return;this._isSliding=!0,Te&&this.pause(),this._setActiveIndicatorElement(z),this._activeElement=z;const Nt=()=>{oe.trigger(this._element,fi,{relatedTarget:z,direction:lt,from:R,to:le})};if(this._element.classList.contains(Bi)){z.classList.add(Ze),m(z),C.classList.add(Le),z.classList.add(Le);const xt=()=>{z.classList.remove(Le,Ze),z.classList.add(Rn),C.classList.remove(Rn,Ze,Le),this._isSliding=!1,setTimeout(Nt,0)};this._queueCallback(xt,C,!0)}else C.classList.remove(Rn),z.classList.add(Rn),this._isSliding=!1,Nt();Te&&this.cycle()}_directionToOrder(n){return[Or,dr].includes(n)?_()?n===dr?In:Yn:n===dr?Yn:In:n}_orderToDirection(n){return[Yn,In].includes(n)?_()?n===In?dr:Or:n===In?Or:dr:n}static carouselInterface(n,o){const A=Dn.getOrCreateInstance(n,o);let{_config:C}=A;typeof o=="object"&&(C=yt(yt({},C),o));const R=typeof o=="string"?o:C.slide;if(typeof o=="number")A.to(o);else if(typeof R=="string"){if(typeof A[R]=="undefined")throw new TypeError(`No method named "${R}"`);A[R]()}else C.interval&&C.ride&&(A.pause(),A.cycle())}static jQueryInterface(n){return this.each(function(){Dn.carouselInterface(this,n)})}static dataApiClickHandler(n){const o=te(this);if(!o||!o.classList.contains(rr))return;const A=yt(yt({},Vt.getDataAttributes(o)),Vt.getDataAttributes(this)),C=this.getAttribute("data-bs-slide-to");C&&(A.interval=!1),Dn.carouselInterface(o,A),C&&Dn.getInstance(o).to(C),n.preventDefault()}}oe.on(document,nr,Zs,Dn.dataApiClickHandler),oe.on(window,hi,()=>{const d=f.find(gs);for(let n=0,o=d.length;n<o;n++)Dn.carouselInterface(d[n],Dn.getInstance(d[n]))}),Ie(Dn);const Ui="collapse",Dr="bs.collapse",Kr=`.${Dr}`,di=".data-api",Nr={toggle:!0,parent:""},Hi={toggle:"boolean",parent:"(string|element)"},ys=`show${Kr}`,ws=`shown${Kr}`,bs=`hide${Kr}`,pi=`hidden${Kr}`,eo=`click${Kr}${di}`,Tt="show",Qn="collapse",vi="collapsing",mi="collapsed",at="width",to="height",Es=".show, .collapsing",Kn='[data-bs-toggle="collapse"]';class Bn extends Tn{constructor(n,o){super(n);this._isTransitioning=!1,this._config=this._getConfig(o),this._triggerArray=f.find(`${Kn}[href="#${this._element.id}"],${Kn}[data-bs-target="#${this._element.id}"]`);const A=f.find(Kn);for(let C=0,R=A.length;C<R;C++){const z=A[C],le=W(z),Te=f.find(le).filter(xe=>xe===this._element);le!==null&&Te.length&&(this._selector=le,this._triggerArray.push(z))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get Default(){return Nr}static get NAME(){return Ui}toggle(){this._element.classList.contains(Tt)?this.hide():this.show()}show(){if(this._isTransitioning||this._element.classList.contains(Tt))return;let n,o;this._parent&&(n=f.find(Es,this._parent).filter(xe=>typeof this._config.parent=="string"?xe.getAttribute("data-bs-parent")===this._config.parent:xe.classList.contains(Qn)),n.length===0&&(n=null));const A=f.findOne(this._selector);if(n){const xe=n.find(Le=>A!==Le);if(o=xe?Bn.getInstance(xe):null,o&&o._isTransitioning)return}if(oe.trigger(this._element,ys).defaultPrevented)return;n&&n.forEach(xe=>{A!==xe&&Bn.collapseInterface(xe,"hide"),o||Gt.set(xe,Dr,null)});const R=this._getDimension();this._element.classList.remove(Qn),this._element.classList.add(vi),this._element.style[R]=0,this._triggerArray.length&&this._triggerArray.forEach(xe=>{xe.classList.remove(mi),xe.setAttribute("aria-expanded",!0)}),this.setTransitioning(!0);const z=()=>{this._element.classList.remove(vi),this._element.classList.add(Qn,Tt),this._element.style[R]="",this.setTransitioning(!1),oe.trigger(this._element,ws)},Te=`scroll${R[0].toUpperCase()+R.slice(1)}`;this._queueCallback(z,this._element,!0),this._element.style[R]=`${this._element[Te]}px`}hide(){if(this._isTransitioning||!this._element.classList.contains(Tt)||oe.trigger(this._element,bs).defaultPrevented)return;const o=this._getDimension();this._element.style[o]=`${this._element.getBoundingClientRect()[o]}px`,m(this._element),this._element.classList.add(vi),this._element.classList.remove(Qn,Tt);const A=this._triggerArray.length;if(A>0)for(let R=0;R<A;R++){const z=this._triggerArray[R],le=te(z);le&&!le.classList.contains(Tt)&&(z.classList.add(mi),z.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);const C=()=>{this.setTransitioning(!1),this._element.classList.remove(vi),this._element.classList.add(Qn),oe.trigger(this._element,pi)};this._element.style[o]="",this._queueCallback(C,this._element,!0)}setTransitioning(n){this._isTransitioning=n}_getConfig(n){return n=yt(yt({},Nr),n),n.toggle=Boolean(n.toggle),ye(Ui,n,Hi),n}_getDimension(){return this._element.classList.contains(at)?at:to}_getParent(){let{parent:n}=this._config;n=L(n);const o=`${Kn}[data-bs-parent="${n}"]`;return f.find(o,n).forEach(A=>{const C=te(A);this._addAriaAndCollapsedClass(C,[A])}),n}_addAriaAndCollapsedClass(n,o){if(!n||!o.length)return;const A=n.classList.contains(Tt);o.forEach(C=>{A?C.classList.remove(mi):C.classList.add(mi),C.setAttribute("aria-expanded",A)})}static collapseInterface(n,o){let A=Bn.getInstance(n);const C=yt(yt(yt({},Nr),Vt.getDataAttributes(n)),typeof o=="object"&&o?o:{});if(!A&&C.toggle&&typeof o=="string"&&/show|hide/.test(o)&&(C.toggle=!1),A||(A=new Bn(n,C)),typeof o=="string"){if(typeof A[o]=="undefined")throw new TypeError(`No method named "${o}"`);A[o]()}}static jQueryInterface(n){return this.each(function(){Bn.collapseInterface(this,n)})}}oe.on(document,eo,Kn,function(d){(d.target.tagName==="A"||d.delegateTarget&&d.delegateTarget.tagName==="A")&&d.preventDefault();const n=Vt.getDataAttributes(this),o=W(this);f.find(o).forEach(C=>{const R=Bn.getInstance(C);let z;R?(R._parent===null&&typeof n.parent=="string"&&(R._config.parent=n.parent,R._parent=R._getParent()),z="toggle"):z=n,Bn.collapseInterface(C,z)})}),Ie(Bn);var Sn="top",Nn="bottom",Cn="right",pn="left",Gr="auto",$r=[Sn,Nn,Cn,pn],Jn="start",Vr="end",As="clippingParents",vr="viewport",Lr="popper",Ss="reference",Fi=$r.reduce(function(d,n){return d.concat([n+"-"+Jn,n+"-"+Vr])},[]),Ki=[].concat($r,[Gr]).reduce(function(d,n){return d.concat([n,n+"-"+Jn,n+"-"+Vr])},[]),Gi="beforeRead",_i="read",Wr="afterRead",gi="beforeMain",Cs="main",Vi="afterMain",yi="beforeWrite",zr="write",en="afterWrite",ir=[Gi,_i,Wr,gi,Cs,Vi,yi,zr,en];function Gn(d){return d?(d.nodeName||"").toLowerCase():null}function Wt(d){if(d==null)return window;if(d.toString()!=="[object Window]"){var n=d.ownerDocument;return n&&n.defaultView||window}return d}function Yr(d){var n=Wt(d).Element;return d instanceof n||d instanceof Element}function $n(d){var n=Wt(d).HTMLElement;return d instanceof n||d instanceof HTMLElement}function Ts(d){if(typeof ShadowRoot=="undefined")return!1;var n=Wt(d).ShadowRoot;return d instanceof n||d instanceof ShadowRoot}function no(d){var n=d.state;Object.keys(n.elements).forEach(function(o){var A=n.styles[o]||{},C=n.attributes[o]||{},R=n.elements[o];!$n(R)||!Gn(R)||(Object.assign(R.style,A),Object.keys(C).forEach(function(z){var le=C[z];le===!1?R.removeAttribute(z):R.setAttribute(z,le===!0?"":le)}))})}function ro(d){var n=d.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(A){var C=n.elements[A],R=n.attributes[A]||{},z=Object.keys(n.styles.hasOwnProperty(A)?n.styles[A]:o[A]),le=z.reduce(function(Te,xe){return Te[xe]="",Te},{});!$n(C)||!Gn(C)||(Object.assign(C.style,le),Object.keys(R).forEach(function(Te){C.removeAttribute(Te)}))})}}var Wi={name:"applyStyles",enabled:!0,phase:"write",fn:no,effect:ro,requires:["computeStyles"]};function Ln(d){return d.split("-")[0]}function kr(d){var n=d.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,right:n.right,bottom:n.bottom,left:n.left,x:n.left,y:n.top}}function zi(d){var n=kr(d),o=d.offsetWidth,A=d.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-A)<=1&&(A=n.height),{x:d.offsetLeft,y:d.offsetTop,width:o,height:A}}function Os(d,n){var o=n.getRootNode&&n.getRootNode();if(d.contains(n))return!0;if(o&&Ts(o)){var A=n;do{if(A&&d.isSameNode(A))return!0;A=A.parentNode||A.host}while(A)}return!1}function En(d){return Wt(d).getComputedStyle(d)}function Yi(d){return["table","td","th"].indexOf(Gn(d))>=0}function sr(d){return((Yr(d)?d.ownerDocument:d.document)||window.document).documentElement}function wi(d){return Gn(d)==="html"?d:d.assignedSlot||d.parentNode||(Ts(d)?d.host:null)||sr(d)}function xr(d){return!$n(d)||En(d).position==="fixed"?null:d.offsetParent}function mr(d){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,o=navigator.userAgent.indexOf("Trident")!==-1;if(o&&$n(d)){var A=En(d);if(A.position==="fixed")return null}for(var C=wi(d);$n(C)&&["html","body"].indexOf(Gn(C))<0;){var R=En(C);if(R.transform!=="none"||R.perspective!=="none"||R.contain==="paint"||["transform","perspective"].indexOf(R.willChange)!==-1||n&&R.willChange==="filter"||n&&R.filter&&R.filter!=="none")return C;C=C.parentNode}return null}function Pr(d){for(var n=Wt(d),o=xr(d);o&&Yi(o)&&En(o).position==="static";)o=xr(o);return o&&(Gn(o)==="html"||Gn(o)==="body"&&En(o).position==="static")?n:o||mr(d)||n}function bi(d){return["top","bottom"].indexOf(d)>=0?"x":"y"}var or=Math.max,Qr=Math.min,Ei=Math.round;function Ai(d,n,o){return or(d,Qr(n,o))}function Qi(){return{top:0,right:0,bottom:0,left:0}}function Ds(d){return Object.assign({},Qi(),d)}function _r(d,n){return n.reduce(function(o,A){return o[A]=d,o},{})}var s=function(n,o){return n=typeof n=="function"?n(Object.assign({},o.rects,{placement:o.placement})):n,Ds(typeof n!="number"?n:_r(n,$r))};function a(d){var n,o=d.state,A=d.name,C=d.options,R=o.elements.arrow,z=o.modifiersData.popperOffsets,le=Ln(o.placement),Te=bi(le),xe=[pn,Cn].indexOf(le)>=0,Le=xe?"height":"width";if(!(!R||!z)){var Ze=s(C.padding,o),lt=zi(R),bt=Te==="y"?Sn:pn,Nt=Te==="y"?Nn:Cn,xt=o.rects.reference[Le]+o.rects.reference[Te]-z[Te]-o.rects.popper[Le],Bt=z[Te]-o.rects.reference[Te],fn=Pr(R),nn=fn?Te==="y"?fn.clientHeight||0:fn.clientWidth||0:0,hn=xt/2-Bt/2,ht=Ze[bt],yn=nn-lt[Le]-Ze[Nt],Zt=nn/2-lt[Le]/2+hn,dn=Ai(ht,Zt,yn),an=Te;o.modifiersData[A]=(n={},n[an]=dn,n.centerOffset=dn-Zt,n)}}function p(d){var n=d.state,o=d.options,A=o.element,C=A===void 0?"[data-popper-arrow]":A;C!=null&&(typeof C=="string"&&(C=n.elements.popper.querySelector(C),!C)||!Os(n.elements.popper,C)||(n.elements.arrow=C))}var b={name:"arrow",enabled:!0,phase:"main",fn:a,effect:p,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},x={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(d){var n=d.x,o=d.y,A=window,C=A.devicePixelRatio||1;return{x:Ei(Ei(n*C)/C)||0,y:Ei(Ei(o*C)/C)||0}}function ne(d){var n,o=d.popper,A=d.popperRect,C=d.placement,R=d.offsets,z=d.position,le=d.gpuAcceleration,Te=d.adaptive,xe=d.roundOffsets,Le=xe===!0?X(R):typeof xe=="function"?xe(R):R,Ze=Le.x,lt=Ze===void 0?0:Ze,bt=Le.y,Nt=bt===void 0?0:bt,xt=R.hasOwnProperty("x"),Bt=R.hasOwnProperty("y"),fn=pn,nn=Sn,hn=window;if(Te){var ht=Pr(o),yn="clientHeight",Zt="clientWidth";ht===Wt(o)&&(ht=sr(o),En(ht).position!=="static"&&(yn="scrollHeight",Zt="scrollWidth")),ht=ht,C===Sn&&(nn=Nn,Nt-=ht[yn]-A.height,Nt*=le?1:-1),C===pn&&(fn=Cn,lt-=ht[Zt]-A.width,lt*=le?1:-1)}var dn=Object.assign({position:z},Te&&x);if(le){var an;return Object.assign({},dn,(an={},an[nn]=Bt?"0":"",an[fn]=xt?"0":"",an.transform=(hn.devicePixelRatio||1)<2?"translate("+lt+"px, "+Nt+"px)":"translate3d("+lt+"px, "+Nt+"px, 0)",an))}return Object.assign({},dn,(n={},n[nn]=Bt?Nt+"px":"",n[fn]=xt?lt+"px":"",n.transform="",n))}function Oe(d){var n=d.state,o=d.options,A=o.gpuAcceleration,C=A===void 0?!0:A,R=o.adaptive,z=R===void 0?!0:R,le=o.roundOffsets,Te=le===void 0?!0:le,xe={placement:Ln(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:C};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ne(Object.assign({},xe,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:z,roundOffsets:Te})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ne(Object.assign({},xe,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Te})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Oe,data:{}},Ve={passive:!0};function It(d){var n=d.state,o=d.instance,A=d.options,C=A.scroll,R=C===void 0?!0:C,z=A.resize,le=z===void 0?!0:z,Te=Wt(n.elements.popper),xe=[].concat(n.scrollParents.reference,n.scrollParents.popper);return R&&xe.forEach(function(Le){Le.addEventListener("scroll",o.update,Ve)}),le&&Te.addEventListener("resize",o.update,Ve),function(){R&&xe.forEach(function(Le){Le.removeEventListener("scroll",o.update,Ve)}),le&&Te.removeEventListener("resize",o.update,Ve)}}var tt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},St={left:"right",right:"left",bottom:"top",top:"bottom"};function sn(d){return d.replace(/left|right|bottom|top/g,function(n){return St[n]})}var vn={start:"end",end:"start"};function mn(d){return d.replace(/start|end/g,function(n){return vn[n]})}function gr(d){var n=Wt(d),o=n.pageXOffset,A=n.pageYOffset;return{scrollLeft:o,scrollTop:A}}function yr(d){return kr(sr(d)).left+gr(d).scrollLeft}function Si(d){var n=Wt(d),o=sr(d),A=n.visualViewport,C=o.clientWidth,R=o.clientHeight,z=0,le=0;return A&&(C=A.width,R=A.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(z=A.offsetLeft,le=A.offsetTop)),{width:C,height:R,x:z+yr(d),y:le}}function ln(d){var n,o=sr(d),A=gr(d),C=(n=d.ownerDocument)==null?void 0:n.body,R=or(o.scrollWidth,o.clientWidth,C?C.scrollWidth:0,C?C.clientWidth:0),z=or(o.scrollHeight,o.clientHeight,C?C.scrollHeight:0,C?C.clientHeight:0),le=-A.scrollLeft+yr(d),Te=-A.scrollTop;return En(C||o).direction==="rtl"&&(le+=or(o.clientWidth,C?C.clientWidth:0)-R),{width:R,height:z,x:le,y:Te}}function wr(d){var n=En(d),o=n.overflow,A=n.overflowX,C=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+C+A)}function qt(d){return["html","body","#document"].indexOf(Gn(d))>=0?d.ownerDocument.body:$n(d)&&wr(d)?d:qt(wi(d))}function Mt(d,n){var o;n===void 0&&(n=[]);var A=qt(d),C=A===((o=d.ownerDocument)==null?void 0:o.body),R=Wt(A),z=C?[R].concat(R.visualViewport||[],wr(A)?A:[]):A,le=n.concat(z);return C?le:le.concat(Mt(wi(z)))}function tn(d){return Object.assign({},d,{left:d.x,top:d.y,right:d.x+d.width,bottom:d.y+d.height})}function Mn(d){var n=kr(d);return n.top=n.top+d.clientTop,n.left=n.left+d.clientLeft,n.bottom=n.top+d.clientHeight,n.right=n.left+d.clientWidth,n.width=d.clientWidth,n.height=d.clientHeight,n.x=n.left,n.y=n.top,n}function rn(d,n){return n===vr?tn(Si(d)):$n(n)?Mn(n):tn(ln(sr(d)))}function kn(d){var n=Mt(wi(d)),o=["absolute","fixed"].indexOf(En(d).position)>=0,A=o&&$n(d)?Pr(d):d;return Yr(A)?n.filter(function(C){return Yr(C)&&Os(C,A)&&Gn(C)!=="body"}):[]}function Ji(d,n,o){var A=n==="clippingParents"?kn(d):[].concat(n),C=[].concat(A,[o]),R=C[0],z=C.reduce(function(le,Te){var xe=rn(d,Te);return le.top=or(xe.top,le.top),le.right=Qr(xe.right,le.right),le.bottom=Qr(xe.bottom,le.bottom),le.left=or(xe.left,le.left),le},rn(d,R));return z.width=z.right-z.left,z.height=z.bottom-z.top,z.x=z.left,z.y=z.top,z}function Jr(d){return d.split("-")[1]}function Ns(d){var n=d.reference,o=d.element,A=d.placement,C=A?Ln(A):null,R=A?Jr(A):null,z=n.x+n.width/2-o.width/2,le=n.y+n.height/2-o.height/2,Te;switch(C){case Sn:Te={x:z,y:n.y-o.height};break;case Nn:Te={x:z,y:n.y+n.height};break;case Cn:Te={x:n.x+n.width,y:le};break;case pn:Te={x:n.x-o.width,y:le};break;default:Te={x:n.x,y:n.y}}var xe=C?bi(C):null;if(xe!=null){var Le=xe==="y"?"height":"width";switch(R){case Jn:Te[xe]=Te[xe]-(n[Le]/2-o[Le]/2);break;case Vr:Te[xe]=Te[xe]+(n[Le]/2-o[Le]/2);break}}return Te}function _n(d,n){n===void 0&&(n={});var o=n,A=o.placement,C=A===void 0?d.placement:A,R=o.boundary,z=R===void 0?As:R,le=o.rootBoundary,Te=le===void 0?vr:le,xe=o.elementContext,Le=xe===void 0?Lr:xe,Ze=o.altBoundary,lt=Ze===void 0?!1:Ze,bt=o.padding,Nt=bt===void 0?0:bt,xt=Ds(typeof Nt!="number"?Nt:_r(Nt,$r)),Bt=Le===Lr?Ss:Lr,fn=d.elements.reference,nn=d.rects.popper,hn=d.elements[lt?Bt:Le],ht=Ji(Yr(hn)?hn:hn.contextElement||sr(d.elements.popper),z,Te),yn=kr(fn),Zt=Ns({reference:yn,element:nn,strategy:"absolute",placement:C}),dn=tn(Object.assign({},nn,Zt)),an=Le===Lr?dn:yn,Hn={top:ht.top-an.top+xt.top,bottom:an.bottom-ht.bottom+xt.bottom,left:ht.left-an.left+xt.left,right:an.right-ht.right+xt.right},Xn=d.modifiersData.offset;if(Le===Lr&&Xn){var Ir=Xn[C];Object.keys(Hn).forEach(function(ti){var Wn=[Cn,Nn].indexOf(ti)>=0?1:-1,os=[Sn,Nn].indexOf(ti)>=0?"y":"x";Hn[ti]+=Ir[os]*Wn})}return Hn}function Xi(d,n){n===void 0&&(n={});var o=n,A=o.placement,C=o.boundary,R=o.rootBoundary,z=o.padding,le=o.flipVariations,Te=o.allowedAutoPlacements,xe=Te===void 0?Ki:Te,Le=Jr(A),Ze=Le?le?Fi:Fi.filter(function(Nt){return Jr(Nt)===Le}):$r,lt=Ze.filter(function(Nt){return xe.indexOf(Nt)>=0});lt.length===0&&(lt=Ze);var bt=lt.reduce(function(Nt,xt){return Nt[xt]=_n(d,{placement:xt,boundary:C,rootBoundary:R,padding:z})[Ln(xt)],Nt},{});return Object.keys(bt).sort(function(Nt,xt){return bt[Nt]-bt[xt]})}function br(d){if(Ln(d)===Gr)return[];var n=sn(d);return[mn(d),n,mn(n)]}function ce(d){var n=d.state,o=d.options,A=d.name;if(!n.modifiersData[A]._skip){for(var C=o.mainAxis,R=C===void 0?!0:C,z=o.altAxis,le=z===void 0?!0:z,Te=o.fallbackPlacements,xe=o.padding,Le=o.boundary,Ze=o.rootBoundary,lt=o.altBoundary,bt=o.flipVariations,Nt=bt===void 0?!0:bt,xt=o.allowedAutoPlacements,Bt=n.options.placement,fn=Ln(Bt),nn=fn===Bt,hn=Te||(nn||!Nt?[sn(Bt)]:br(Bt)),ht=[Bt].concat(hn).reduce(function(us,Rr){return us.concat(Ln(Rr)===Gr?Xi(n,{placement:Rr,boundary:Le,rootBoundary:Ze,padding:xe,flipVariations:Nt,allowedAutoPlacements:xt}):Rr)},[]),yn=n.rects.reference,Zt=n.rects.popper,dn=new Map,an=!0,Hn=ht[0],Xn=0;Xn<ht.length;Xn++){var Ir=ht[Xn],ti=Ln(Ir),Wn=Jr(Ir)===Jn,os=[Sn,Nn].indexOf(ti)>=0,Oo=os?"width":"height",Ms=_n(n,{placement:Ir,boundary:Le,rootBoundary:Ze,altBoundary:lt,padding:xe}),as=os?Wn?Cn:pn:Wn?Nn:Sn;yn[Oo]>Zt[Oo]&&(as=sn(as));var $a=sn(as),js=[];if(R&&js.push(Ms[ti]<=0),le&&js.push(Ms[as]<=0,Ms[$a]<=0),js.every(function(us){return us})){Hn=Ir,an=!1;break}dn.set(Ir,js)}if(an)for(var oa=Nt?3:1,La=function(Rr){var ua=ht.find(function(ka){var Us=dn.get(ka);if(Us)return Us.slice(0,Rr).every(function(xa){return xa})});if(ua)return Hn=ua,"break"},qs=oa;qs>0;qs--){var aa=La(qs);if(aa==="break")break}n.placement!==Hn&&(n.modifiersData[A]._skip=!0,n.placement=Hn,n.reset=!0)}}var fe={name:"flip",enabled:!0,phase:"main",fn:ce,requiresIfExists:["offset"],data:{_skip:!1}};function we(d,n,o){return o===void 0&&(o={x:0,y:0}),{top:d.top-n.height-o.y,right:d.right-n.width+o.x,bottom:d.bottom-n.height+o.y,left:d.left-n.width-o.x}}function Re(d){return[Sn,Cn,Nn,pn].some(function(n){return d[n]>=0})}function Xe(d){var n=d.state,o=d.name,A=n.rects.reference,C=n.rects.popper,R=n.modifiersData.preventOverflow,z=_n(n,{elementContext:"reference"}),le=_n(n,{altBoundary:!0}),Te=we(z,A),xe=we(le,C,R),Le=Re(Te),Ze=Re(xe);n.modifiersData[o]={referenceClippingOffsets:Te,popperEscapeOffsets:xe,isReferenceHidden:Le,hasPopperEscaped:Ze},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":Le,"data-popper-escaped":Ze})}var We={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xe};function wt(d,n,o){var A=Ln(d),C=[pn,Sn].indexOf(A)>=0?-1:1,R=typeof o=="function"?o(Object.assign({},n,{placement:d})):o,z=R[0],le=R[1];return z=z||0,le=(le||0)*C,[pn,Cn].indexOf(A)>=0?{x:le,y:z}:{x:z,y:le}}function $t(d){var n=d.state,o=d.options,A=d.name,C=o.offset,R=C===void 0?[0,0]:C,z=Ki.reduce(function(Le,Ze){return Le[Ze]=wt(Ze,n.rects,R),Le},{}),le=z[n.placement],Te=le.x,xe=le.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=Te,n.modifiersData.popperOffsets.y+=xe),n.modifiersData[A]=z}var mt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$t};function Rt(d){var n=d.state,o=d.name;n.modifiersData[o]=Ns({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var Lt={name:"popperOffsets",enabled:!0,phase:"read",fn:Rt,data:{}};function Ke(d){return d==="x"?"y":"x"}function Ot(d){var n=d.state,o=d.options,A=d.name,C=o.mainAxis,R=C===void 0?!0:C,z=o.altAxis,le=z===void 0?!1:z,Te=o.boundary,xe=o.rootBoundary,Le=o.altBoundary,Ze=o.padding,lt=o.tether,bt=lt===void 0?!0:lt,Nt=o.tetherOffset,xt=Nt===void 0?0:Nt,Bt=_n(n,{boundary:Te,rootBoundary:xe,padding:Ze,altBoundary:Le}),fn=Ln(n.placement),nn=Jr(n.placement),hn=!nn,ht=bi(fn),yn=Ke(ht),Zt=n.modifiersData.popperOffsets,dn=n.rects.reference,an=n.rects.popper,Hn=typeof xt=="function"?xt(Object.assign({},n.rects,{placement:n.placement})):xt,Xn={x:0,y:0};if(!!Zt){if(R||le){var Ir=ht==="y"?Sn:pn,ti=ht==="y"?Nn:Cn,Wn=ht==="y"?"height":"width",os=Zt[ht],Oo=Zt[ht]+Bt[Ir],Ms=Zt[ht]-Bt[ti],as=bt?-an[Wn]/2:0,$a=nn===Jn?dn[Wn]:an[Wn],js=nn===Jn?-an[Wn]:-dn[Wn],oa=n.elements.arrow,La=bt&&oa?zi(oa):{width:0,height:0},qs=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:Qi(),aa=qs[Ir],us=qs[ti],Rr=Ai(0,dn[Wn],La[Wn]),ua=hn?dn[Wn]/2-as-Rr-aa-Hn:$a-Rr-aa-Hn,ka=hn?-dn[Wn]/2+as+Rr+us+Hn:js+Rr+us+Hn,Us=n.elements.arrow&&Pr(n.elements.arrow),xa=Us?ht==="y"?Us.clientTop||0:Us.clientLeft||0:0,eu=n.modifiersData.offset?n.modifiersData.offset[n.placement][ht]:0,tu=Zt[ht]+ua-eu-xa,nu=Zt[ht]+ka-eu;if(R){var ru=Ai(bt?Qr(Oo,tu):Oo,os,bt?or(Ms,nu):Ms);Zt[ht]=ru,Xn[ht]=ru-os}if(le){var Qu=ht==="x"?Sn:pn,Ju=ht==="x"?Nn:Cn,ca=Zt[yn],iu=ca+Bt[Qu],su=ca-Bt[Ju],ou=Ai(bt?Qr(iu,tu):iu,ca,bt?or(su,nu):su);Zt[yn]=ou,Xn[yn]=ou-ca}}n.modifiersData[A]=Xn}}var Dt={name:"preventOverflow",enabled:!0,phase:"main",fn:Ot,requiresIfExists:["offset"]};function Yt(d){return{scrollLeft:d.scrollLeft,scrollTop:d.scrollTop}}function Ut(d){return d===Wt(d)||!$n(d)?gr(d):Yt(d)}function Kt(d,n,o){o===void 0&&(o=!1);var A=sr(n),C=kr(d),R=$n(n),z={scrollLeft:0,scrollTop:0},le={x:0,y:0};return(R||!R&&!o)&&((Gn(n)!=="body"||wr(A))&&(z=Ut(n)),$n(n)?(le=kr(n),le.x+=n.clientLeft,le.y+=n.clientTop):A&&(le.x=yr(A))),{x:C.left+z.scrollLeft-le.x,y:C.top+z.scrollTop-le.y,width:C.width,height:C.height}}function Qt(d){var n=new Map,o=new Set,A=[];d.forEach(function(R){n.set(R.name,R)});function C(R){o.add(R.name);var z=[].concat(R.requires||[],R.requiresIfExists||[]);z.forEach(function(le){if(!o.has(le)){var Te=n.get(le);Te&&C(Te)}}),A.push(R)}return d.forEach(function(R){o.has(R.name)||C(R)}),A}function on(d){var n=Qt(d);return ir.reduce(function(o,A){return o.concat(n.filter(function(C){return C.phase===A}))},[])}function ar(d){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(d())})})),n}}function jn(d){var n=d.reduce(function(o,A){var C=o[A.name];return o[A.name]=C?Object.assign({},C,A,{options:Object.assign({},C.options,A.options),data:Object.assign({},C.data,A.data)}):A,o},{});return Object.keys(n).map(function(o){return n[o]})}var qn={placement:"bottom",modifiers:[],strategy:"absolute"};function ur(){for(var d=arguments.length,n=new Array(d),o=0;o<d;o++)n[o]=arguments[o];return!n.some(function(A){return!(A&&typeof A.getBoundingClientRect=="function")})}function Er(d){d===void 0&&(d={});var n=d,o=n.defaultModifiers,A=o===void 0?[]:o,C=n.defaultOptions,R=C===void 0?qn:C;return function(le,Te,xe){xe===void 0&&(xe=R);var Le={placement:"bottom",orderedModifiers:[],options:Object.assign({},qn,R),modifiersData:{},elements:{reference:le,popper:Te},attributes:{},styles:{}},Ze=[],lt=!1,bt={state:Le,setOptions:function(fn){xt(),Le.options=Object.assign({},R,Le.options,fn),Le.scrollParents={reference:Yr(le)?Mt(le):le.contextElement?Mt(le.contextElement):[],popper:Mt(Te)};var nn=on(jn([].concat(A,Le.options.modifiers)));return Le.orderedModifiers=nn.filter(function(hn){return hn.enabled}),Nt(),bt.update()},forceUpdate:function(){if(!lt){var fn=Le.elements,nn=fn.reference,hn=fn.popper;if(!!ur(nn,hn)){Le.rects={reference:Kt(nn,Pr(hn),Le.options.strategy==="fixed"),popper:zi(hn)},Le.reset=!1,Le.placement=Le.options.placement,Le.orderedModifiers.forEach(function(Xn){return Le.modifiersData[Xn.name]=Object.assign({},Xn.data)});for(var ht=0;ht<Le.orderedModifiers.length;ht++){if(Le.reset===!0){Le.reset=!1,ht=-1;continue}var yn=Le.orderedModifiers[ht],Zt=yn.fn,dn=yn.options,an=dn===void 0?{}:dn,Hn=yn.name;typeof Zt=="function"&&(Le=Zt({state:Le,options:an,name:Hn,instance:bt})||Le)}}}},update:ar(function(){return new Promise(function(Bt){bt.forceUpdate(),Bt(Le)})}),destroy:function(){xt(),lt=!0}};if(!ur(le,Te))return bt;bt.setOptions(xe).then(function(Bt){!lt&&xe.onFirstUpdate&&xe.onFirstUpdate(Bt)});function Nt(){Le.orderedModifiers.forEach(function(Bt){var fn=Bt.name,nn=Bt.options,hn=nn===void 0?{}:nn,ht=Bt.effect;if(typeof ht=="function"){var yn=ht({state:Le,name:fn,instance:bt,options:hn}),Zt=function(){};Ze.push(yn||Zt)}})}function xt(){Ze.forEach(function(Bt){return Bt()}),Ze=[]}return bt}}var ko=Er(),ha=[tt,Lt,Me,Wi],da=Er({defaultModifiers:ha}),pa=[tt,Lt,Me,Wi,mt,fe,Dt,b,We],io=Er({defaultModifiers:pa}),xo=Object.freeze({__proto__:null,popperGenerator:Er,detectOverflow:_n,createPopperBase:ko,createPopper:io,createPopperLite:da,top:Sn,bottom:Nn,right:Cn,left:pn,auto:Gr,basePlacements:$r,start:Jn,end:Vr,clippingParents:As,viewport:vr,popper:Lr,reference:Ss,variationPlacements:Fi,placements:Ki,beforeRead:Gi,read:_i,afterRead:Wr,beforeMain:gi,main:Cs,afterMain:Vi,beforeWrite:yi,write:zr,afterWrite:en,modifierPhases:ir,applyStyles:Wi,arrow:b,computeStyles:Me,eventListeners:tt,flip:fe,hide:We,offset:mt,popperOffsets:Lt,preventOverflow:Dt});const Ci="dropdown",cr=".bs.dropdown",Zi=".data-api",lr="Escape",so="Space",Po="Tab",oo="ArrowUp",Jt="ArrowDown",$s=2,Ls=new RegExp(`${oo}|${Jt}|${lr}`),va=`hide${cr}`,ao=`hidden${cr}`,ma=`show${cr}`,Xr=`shown${cr}`,ks=`click${cr}`,es=`click${cr}${Zi}`,uo=`keydown${cr}${Zi}`,_a=`keyup${cr}${Zi}`,Ar="show",co="dropup",Io="dropend",lo="dropstart",Ro="navbar",Zr='[data-bs-toggle="dropdown"]',fo=".dropdown-menu",ga=".navbar-nav",ya=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Bo=_()?"top-end":"top-start",ts=_()?"top-start":"top-end",Mo=_()?"bottom-end":"bottom-start",wa=_()?"bottom-start":"bottom-end",jo=_()?"left-start":"right-start",qo=_()?"right-start":"left-start",Uo={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Ho={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class gn extends Tn{constructor(n,o){super(n);this._popper=null,this._config=this._getConfig(o),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get Default(){return Uo}static get DefaultType(){return Ho}static get NAME(){return Ci}toggle(){if(j(this._element))return;if(this._element.classList.contains(Ar)){this.hide();return}this.show()}show(){if(j(this._element)||this._menu.classList.contains(Ar))return;const n=gn.getParentFromElement(this._element),o={relatedTarget:this._element};if(!oe.trigger(this._element,ma,o).defaultPrevented){if(this._inNavbar)Vt.setDataAttribute(this._menu,"popper","none");else{if(typeof xo=="undefined")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let C=this._element;this._config.reference==="parent"?C=n:ue(this._config.reference)?C=L(this._config.reference):typeof this._config.reference=="object"&&(C=this._config.reference);const R=this._getPopperConfig(),z=R.modifiers.find(le=>le.name==="applyStyles"&&le.enabled===!1);this._popper=io(C,this._menu,R),z&&Vt.setDataAttribute(this._menu,"popper","static")}"ontouchstart"in document.documentElement&&!n.closest(ga)&&[].concat(...document.body.children).forEach(C=>oe.on(C,"mouseover",g)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.toggle(Ar),this._element.classList.toggle(Ar),oe.trigger(this._element,Xr,o)}}hide(){if(j(this._element)||!this._menu.classList.contains(Ar))return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_addEventListeners(){oe.on(this._element,ks,n=>{n.preventDefault(),this.toggle()})}_completeHide(n){oe.trigger(this._element,va,n).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(A=>oe.off(A,"mouseover",g)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Ar),this._element.classList.remove(Ar),this._element.setAttribute("aria-expanded","false"),Vt.removeDataAttribute(this._menu,"popper"),oe.trigger(this._element,ao,n))}_getConfig(n){if(n=yt(yt(yt({},this.constructor.Default),Vt.getDataAttributes(this._element)),n),ye(Ci,n,this.constructor.DefaultType),typeof n.reference=="object"&&!ue(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${Ci.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_getMenuElement(){return f.next(this._element,fo)[0]}_getPlacement(){const n=this._element.parentNode;if(n.classList.contains(Io))return jo;if(n.classList.contains(lo))return qo;const o=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(co)?o?ts:Bo:o?wa:Mo}_detectNavbar(){return this._element.closest(`.${Ro}`)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(o=>Number.parseInt(o,10)):typeof n=="function"?o=>n(o,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(n.modifiers=[{name:"applyStyles",enabled:!1}]),yt(yt({},n),typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig)}_selectMenuItem({key:n,target:o}){const A=f.find(ya,this._menu).filter(Ne);!A.length||q(A,o,n===Jt,!A.includes(o)).focus()}static dropdownInterface(n,o){const A=gn.getOrCreateInstance(n,o);if(typeof o=="string"){if(typeof A[o]=="undefined")throw new TypeError(`No method named "${o}"`);A[o]()}}static jQueryInterface(n){return this.each(function(){gn.dropdownInterface(this,n)})}static clearMenus(n){if(n&&(n.button===$s||n.type==="keyup"&&n.key!==Po))return;const o=f.find(Zr);for(let A=0,C=o.length;A<C;A++){const R=gn.getInstance(o[A]);if(!R||R._config.autoClose===!1||!R._element.classList.contains(Ar))continue;const z={relatedTarget:R._element};if(n){const le=n.composedPath(),Te=le.includes(R._menu);if(le.includes(R._element)||R._config.autoClose==="inside"&&!Te||R._config.autoClose==="outside"&&Te||R._menu.contains(n.target)&&(n.type==="keyup"&&n.key===Po||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;n.type==="click"&&(z.clickEvent=n)}R._completeHide(z)}}static getParentFromElement(n){return te(n)||n.parentNode}static dataApiKeydownHandler(n){if(/input|textarea/i.test(n.target.tagName)?n.key===so||n.key!==lr&&(n.key!==Jt&&n.key!==oo||n.target.closest(fo)):!Ls.test(n.key))return;const o=this.classList.contains(Ar);if(!o&&n.key===lr||(n.preventDefault(),n.stopPropagation(),j(this)))return;const A=()=>this.matches(Zr)?this:f.prev(this,Zr)[0];if(n.key===lr){A().focus(),gn.clearMenus();return}if(n.key===oo||n.key===Jt){o||A().click(),gn.getInstance(A())._selectMenuItem(n);return}(!o||n.key===so)&&gn.clearMenus()}}oe.on(document,uo,Zr,gn.dataApiKeydownHandler),oe.on(document,uo,fo,gn.dataApiKeydownHandler),oe.on(document,es,gn.clearMenus),oe.on(document,_a,gn.clearMenus),oe.on(document,es,Zr,function(d){d.preventDefault(),gn.dropdownInterface(this)}),Ie(gn);const Fo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ho=".sticky-top";class po{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",o=>o+n),this._setElementAttributes(Fo,"paddingRight",o=>o+n),this._setElementAttributes(ho,"marginRight",o=>o-n)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,o,A){const C=this.getWidth(),R=z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+C)return;this._saveInitialAttribute(z,o);const le=window.getComputedStyle(z)[o];z.style[o]=`${A(Number.parseFloat(le))}px`};this._applyManipulationCallback(n,R)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Fo,"paddingRight"),this._resetElementAttributes(ho,"marginRight")}_saveInitialAttribute(n,o){const A=n.style[o];A&&Vt.setDataAttribute(n,o,A)}_resetElementAttributes(n,o){const A=C=>{const R=Vt.getDataAttribute(C,o);typeof R=="undefined"?C.style.removeProperty(o):(Vt.removeDataAttribute(C,o),C.style[o]=R)};this._applyManipulationCallback(n,A)}_applyManipulationCallback(n,o){ue(n)?o(n):f.find(n,this._element).forEach(o)}isOverflowing(){return this.getWidth()>0}}const vo={isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},ba={isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ko="backdrop",Ea="modal-backdrop",Aa="fade",Go="show",mo=`mousedown.bs.${Ko}`;class Vo{constructor(n){this._config=this._getConfig(n),this._isAppended=!1,this._element=null}show(n){if(!this._config.isVisible){Ct(n);return}this._append(),this._config.isAnimated&&m(this._getElement()),this._getElement().classList.add(Go),this._emulateAnimation(()=>{Ct(n)})}hide(n){if(!this._config.isVisible){Ct(n);return}this._getElement().classList.remove(Go),this._emulateAnimation(()=>{this.dispose(),Ct(n)})}_getElement(){if(!this._element){const n=document.createElement("div");n.className=Ea,this._config.isAnimated&&n.classList.add(Aa),this._element=n}return this._element}_getConfig(n){return n=yt(yt({},vo),typeof n=="object"?n:{}),n.rootElement=L(n.rootElement),ye(Ko,n,ba),n}_append(){this._isAppended||(this._config.rootElement.appendChild(this._getElement()),oe.on(this._getElement(),mo,()=>{Ct(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(oe.off(this._element,mo),this._element.remove(),this._isAppended=!1)}_emulateAnimation(n){et(n,this._getElement(),this._config.isAnimated)}}const Wo="modal",xn=".bs.modal",Sa=".data-api",_o="Escape",zo={backdrop:!0,keyboard:!0,focus:!0},Ca={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Ta=`hide${xn}`,Yo=`hidePrevented${xn}`,go=`hidden${xn}`,Qo=`show${xn}`,fr=`shown${xn}`,Ti=`focusin${xn}`,Oi=`resize${xn}`,xs=`click.dismiss${xn}`,Jo=`keydown.dismiss${xn}`,Xo=`mouseup.dismiss${xn}`,Ps=`mousedown.dismiss${xn}`,Zo=`click${xn}${Sa}`,yo="modal-open",Oa="fade",ea="show",wo="modal-static",ta=".modal-dialog",Is=".modal-body",Rs='[data-bs-toggle="modal"]',bo='[data-bs-dismiss="modal"]';class ns extends Tn{constructor(n,o){super(n);this._config=this._getConfig(o),this._dialog=f.findOne(ta,this._element),this._backdrop=this._initializeBackDrop(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new po}static get Default(){return zo}static get NAME(){return Wo}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||oe.trigger(this._element,Qo,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(yo),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),oe.on(this._element,xs,bo,A=>this.hide(A)),oe.on(this._dialog,Ps,()=>{oe.one(this._element,Xo,A=>{A.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(n)))}hide(n){if(n&&["A","AREA"].includes(n.target.tagName)&&n.preventDefault(),!this._isShown||this._isTransitioning||oe.trigger(this._element,Ta).defaultPrevented)return;this._isShown=!1;const A=this._isAnimated();A&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),oe.off(document,Ti),this._element.classList.remove(ea),oe.off(this._element,xs),oe.off(this._dialog,Ps),this._queueCallback(()=>this._hideModal(),this._element,A)}dispose(){[window,this._dialog].forEach(n=>oe.off(n,xn)),this._backdrop.dispose(),super.dispose(),oe.off(document,Ti)}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vo({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_getConfig(n){return n=yt(yt(yt({},zo),Vt.getDataAttributes(this._element)),typeof n=="object"?n:{}),ye(Wo,n,Ca),n}_showElement(n){const o=this._isAnimated(),A=f.findOne(Is,this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,A&&(A.scrollTop=0),o&&m(this._element),this._element.classList.add(ea),this._config.focus&&this._enforceFocus();const C=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,oe.trigger(this._element,fr,{relatedTarget:n})};this._queueCallback(C,this._dialog,o)}_enforceFocus(){oe.off(document,Ti),oe.on(document,Ti,n=>{document!==n.target&&this._element!==n.target&&!this._element.contains(n.target)&&this._element.focus()})}_setEscapeEvent(){this._isShown?oe.on(this._element,Jo,n=>{this._config.keyboard&&n.key===_o?(n.preventDefault(),this.hide()):!this._config.keyboard&&n.key===_o&&this._triggerBackdropTransition()}):oe.off(this._element,Jo)}_setResizeEvent(){this._isShown?oe.on(window,Oi,()=>this._adjustDialog()):oe.off(window,Oi)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yo),this._resetAdjustments(),this._scrollBar.reset(),oe.trigger(this._element,go)})}_showBackdrop(n){oe.on(this._element,xs,o=>{if(this._ignoreBackdropClick){this._ignoreBackdropClick=!1;return}o.target===o.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(n)}_isAnimated(){return this._element.classList.contains(Oa)}_triggerBackdropTransition(){if(oe.trigger(this._element,Yo).defaultPrevented)return;const{classList:o,scrollHeight:A,style:C}=this._element,R=A>document.documentElement.clientHeight;!R&&C.overflowY==="hidden"||o.contains(wo)||(R||(C.overflowY="hidden"),o.add(wo),this._queueCallback(()=>{o.remove(wo),R||this._queueCallback(()=>{C.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,o=this._scrollBar.getWidth(),A=o>0;(!A&&n&&!_()||A&&!n&&_())&&(this._element.style.paddingLeft=`${o}px`),(A&&!n&&!_()||!A&&n&&_())&&(this._element.style.paddingRight=`${o}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,o){return this.each(function(){const A=ns.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof A[n]=="undefined")throw new TypeError(`No method named "${n}"`);A[n](o)}})}}oe.on(document,Zo,Rs,function(d){const n=te(this);["A","AREA"].includes(this.tagName)&&d.preventDefault(),oe.one(n,Qo,A=>{A.defaultPrevented||oe.one(n,go,()=>{Ne(this)&&this.focus()})}),ns.getOrCreateInstance(n).toggle(this)}),Ie(ns);const Bs="offcanvas",e=".bs.offcanvas",t=".data-api",r=`load${e}${t}`,i="Escape",l={backdrop:!0,keyboard:!0,scroll:!1},y={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},E="show",T=".offcanvas.show",$=`show${e}`,V=`shown${e}`,re=`hide${e}`,S=`hidden${e}`,B=`focusin${e}`,U=`click${e}${t}`,O=`click.dismiss${e}`,I=`keydown.dismiss${e}`,J='[data-bs-dismiss="offcanvas"]',se='[data-bs-toggle="offcanvas"]';class ee extends Tn{constructor(n,o){super(n);this._config=this._getConfig(o),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get NAME(){return Bs}static get Default(){return l}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||oe.trigger(this._element,$,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new po().hide(),this._enforceFocusOnElement(this._element)),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(E);const A=()=>{oe.trigger(this._element,V,{relatedTarget:n})};this._queueCallback(A,this._element,!0)}hide(){if(!this._isShown||oe.trigger(this._element,re).defaultPrevented)return;oe.off(document,B),this._element.blur(),this._isShown=!1,this._element.classList.remove(E),this._backdrop.hide();const o=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new po().reset(),oe.trigger(this._element,S)};this._queueCallback(o,this._element,!0)}dispose(){this._backdrop.dispose(),super.dispose(),oe.off(document,B)}_getConfig(n){return n=yt(yt(yt({},l),Vt.getDataAttributes(this._element)),typeof n=="object"?n:{}),ye(Bs,n,y),n}_initializeBackDrop(){return new Vo({isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_enforceFocusOnElement(n){oe.off(document,B),oe.on(document,B,o=>{document!==o.target&&n!==o.target&&!n.contains(o.target)&&n.focus()}),n.focus()}_addEventListeners(){oe.on(this._element,O,J,()=>this.hide()),oe.on(this._element,I,n=>{this._config.keyboard&&n.key===i&&this.hide()})}static jQueryInterface(n){return this.each(function(){const o=ee.getOrCreateInstance(this,n);if(typeof n=="string"){if(o[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);o[n](this)}})}}oe.on(document,U,se,function(d){const n=te(this);if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),j(this))return;oe.one(n,S,()=>{Ne(this)&&this.focus()});const o=f.findOne(T);o&&o!==n&&ee.getInstance(o).hide(),ee.getOrCreateInstance(n).toggle(this)}),oe.on(window,r,()=>f.find(T).forEach(d=>ee.getOrCreateInstance(d).show())),Ie(ee);const F=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),me=/^aria-[\w-]*$/i,_e=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/i,Pe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ce=(d,n)=>{const o=d.nodeName.toLowerCase();if(n.includes(o))return F.has(o)?Boolean(_e.test(d.nodeValue)||Pe.test(d.nodeValue)):!0;const A=n.filter(C=>C instanceof RegExp);for(let C=0,R=A.length;C<R;C++)if(A[C].test(o))return!0;return!1},je={"*":["class","dir","id","lang","role",me],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ge(d,n,o){if(!d.length)return d;if(o&&typeof o=="function")return o(d);const C=new window.DOMParser().parseFromString(d,"text/html"),R=Object.keys(n),z=[].concat(...C.body.querySelectorAll("*"));for(let le=0,Te=z.length;le<Te;le++){const xe=z[le],Le=xe.nodeName.toLowerCase();if(!R.includes(Le)){xe.remove();continue}const Ze=[].concat(...xe.attributes),lt=[].concat(n["*"]||[],n[Le]||[]);Ze.forEach(bt=>{Ce(bt,lt)||xe.removeAttribute(bt.nodeName)})}return C.body.innerHTML}const Be="tooltip",Je=".bs.tooltip",ut="bs-tooltip",rt=new RegExp(`(^|\\s)${ut}\\S+`,"g"),Ye=new Set(["sanitize","allowList","sanitizeFn"]),_t={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Y={AUTO:"auto",TOP:"top",RIGHT:_()?"left":"right",BOTTOM:"bottom",LEFT:_()?"right":"left"},ie={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:je,popperConfig:null},pe={HIDE:`hide${Je}`,HIDDEN:`hidden${Je}`,SHOW:`show${Je}`,SHOWN:`shown${Je}`,INSERTED:`inserted${Je}`,CLICK:`click${Je}`,FOCUSIN:`focusin${Je}`,FOCUSOUT:`focusout${Je}`,MOUSEENTER:`mouseenter${Je}`,MOUSELEAVE:`mouseleave${Je}`},$e="fade",Ee="modal",ae="show",be="show",qe="out",Ue=".tooltip-inner",Fe="hover",He="focus",De="click",ze="manual";class it extends Tn{constructor(n,o){if(typeof xo=="undefined")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(n);this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(o),this.tip=null,this._setListeners()}static get Default(){return ie}static get NAME(){return Be}static get Event(){return pe}static get DefaultType(){return _t}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(n){if(!!this._isEnabled)if(n){const o=this._initializeOnDelegatedTarget(n);o._activeTrigger.click=!o._activeTrigger.click,o._isWithActiveTrigger()?o._enter(null,o):o._leave(null,o)}else{if(this.getTipElement().classList.contains(ae)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),oe.off(this._element.closest(`.${Ee}`),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.remove(),this._popper&&this._popper.destroy(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;const n=oe.trigger(this._element,this.constructor.Event.SHOW),o=Z(this._element),A=o===null?this._element.ownerDocument.documentElement.contains(this._element):o.contains(this._element);if(n.defaultPrevented||!A)return;const C=this.getTipElement(),R=h(this.constructor.NAME);C.setAttribute("id",R),this._element.setAttribute("aria-describedby",R),this.setContent(),this._config.animation&&C.classList.add($e);const z=typeof this._config.placement=="function"?this._config.placement.call(this,C,this._element):this._config.placement,le=this._getAttachment(z);this._addAttachmentClass(le);const{container:Te}=this._config;Gt.set(C,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(Te.appendChild(C),oe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=io(this._element,C,this._getPopperConfig(le)),C.classList.add(ae);const xe=typeof this._config.customClass=="function"?this._config.customClass():this._config.customClass;xe&&C.classList.add(...xe.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(lt=>{oe.on(lt,"mouseover",g)});const Le=()=>{const lt=this._hoverState;this._hoverState=null,oe.trigger(this._element,this.constructor.Event.SHOWN),lt===qe&&this._leave(null,this)},Ze=this.tip.classList.contains($e);this._queueCallback(Le,this.tip,Ze)}hide(){if(!this._popper)return;const n=this.getTipElement(),o=()=>{this._isWithActiveTrigger()||(this._hoverState!==be&&n.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),oe.trigger(this._element,this.constructor.Event.HIDDEN),this._popper&&(this._popper.destroy(),this._popper=null))};if(oe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;n.classList.remove(ae),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(R=>oe.off(R,"mouseover",g)),this._activeTrigger[De]=!1,this._activeTrigger[He]=!1,this._activeTrigger[Fe]=!1;const C=this.tip.classList.contains($e);this._queueCallback(o,this.tip,C),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const n=document.createElement("div");return n.innerHTML=this._config.template,this.tip=n.children[0],this.tip}setContent(){const n=this.getTipElement();this.setElementContent(f.findOne(Ue,n),this.getTitle()),n.classList.remove($e,ae)}setElementContent(n,o){if(n!==null){if(ue(o)){o=L(o),this._config.html?o.parentNode!==n&&(n.innerHTML="",n.appendChild(o)):n.textContent=o.textContent;return}this._config.html?(this._config.sanitize&&(o=Ge(o,this._config.allowList,this._config.sanitizeFn)),n.innerHTML=o):n.textContent=o}}getTitle(){let n=this._element.getAttribute("data-bs-original-title");return n||(n=typeof this._config.title=="function"?this._config.title.call(this._element):this._config.title),n}updateAttachment(n){return n==="right"?"end":n==="left"?"start":n}_initializeOnDelegatedTarget(n,o){const A=this.constructor.DATA_KEY;return o=o||Gt.get(n.delegateTarget,A),o||(o=new this.constructor(n.delegateTarget,this._getDelegateConfig()),Gt.set(n.delegateTarget,A,o)),o}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(o=>Number.parseInt(o,10)):typeof n=="function"?o=>n(o,this._element):n}_getPopperConfig(n){const o={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:A=>this._handlePopperPlacementChange(A)}],onFirstUpdate:A=>{A.options.placement!==A.placement&&this._handlePopperPlacementChange(A)}};return yt(yt({},o),typeof this._config.popperConfig=="function"?this._config.popperConfig(o):this._config.popperConfig)}_addAttachmentClass(n){this.getTipElement().classList.add(`${ut}-${this.updateAttachment(n)}`)}_getAttachment(n){return Y[n.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(o=>{if(o==="click")oe.on(this._element,this.constructor.Event.CLICK,this._config.selector,A=>this.toggle(A));else if(o!==ze){const A=o===Fe?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,C=o===Fe?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;oe.on(this._element,A,this._config.selector,R=>this._enter(R)),oe.on(this._element,C,this._config.selector,R=>this._leave(R))}}),this._hideModalHandler=()=>{this._element&&this.hide()},oe.on(this._element.closest(`.${Ee}`),"hide.bs.modal",this._hideModalHandler),this._config.selector?this._config=la(yt({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const n=this._element.getAttribute("title"),o=typeof this._element.getAttribute("data-bs-original-title");(n||o!=="string")&&(this._element.setAttribute("data-bs-original-title",n||""),n&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",n),this._element.setAttribute("title",""))}_enter(n,o){if(o=this._initializeOnDelegatedTarget(n,o),n&&(o._activeTrigger[n.type==="focusin"?He:Fe]=!0),o.getTipElement().classList.contains(ae)||o._hoverState===be){o._hoverState=be;return}if(clearTimeout(o._timeout),o._hoverState=be,!o._config.delay||!o._config.delay.show){o.show();return}o._timeout=setTimeout(()=>{o._hoverState===be&&o.show()},o._config.delay.show)}_leave(n,o){if(o=this._initializeOnDelegatedTarget(n,o),n&&(o._activeTrigger[n.type==="focusout"?He:Fe]=o._element.contains(n.relatedTarget)),!o._isWithActiveTrigger()){if(clearTimeout(o._timeout),o._hoverState=qe,!o._config.delay||!o._config.delay.hide){o.hide();return}o._timeout=setTimeout(()=>{o._hoverState===qe&&o.hide()},o._config.delay.hide)}}_isWithActiveTrigger(){for(const n in this._activeTrigger)if(this._activeTrigger[n])return!0;return!1}_getConfig(n){const o=Vt.getDataAttributes(this._element);return Object.keys(o).forEach(A=>{Ye.has(A)&&delete o[A]}),n=yt(yt(yt({},this.constructor.Default),o),typeof n=="object"&&n?n:{}),n.container=n.container===!1?document.body:L(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),ye(Be,n,this.constructor.DefaultType),n.sanitize&&(n.template=Ge(n.template,n.allowList,n.sanitizeFn)),n}_getDelegateConfig(){const n={};if(this._config)for(const o in this._config)this.constructor.Default[o]!==this._config[o]&&(n[o]=this._config[o]);return n}_cleanTipClass(){const n=this.getTipElement(),o=n.getAttribute("class").match(rt);o!==null&&o.length>0&&o.map(A=>A.trim()).forEach(A=>n.classList.remove(A))}_handlePopperPlacementChange(n){const{state:o}=n;!o||(this.tip=o.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(o.placement)))}static jQueryInterface(n){return this.each(function(){const o=it.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof o[n]=="undefined")throw new TypeError(`No method named "${n}"`);o[n]()}})}}Ie(it);const jt="popover",ft=".bs.popover",kt="bs-popover",Xt=new RegExp(`(^|\\s)${kt}\\S+`,"g"),Vn=la(yt({},it.Default),{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Un=la(yt({},it.DefaultType),{content:"(string|element|function)"}),rs={HIDE:`hide${ft}`,HIDDEN:`hidden${ft}`,SHOW:`show${ft}`,SHOWN:`shown${ft}`,INSERTED:`inserted${ft}`,CLICK:`click${ft}`,FOCUSIN:`focusin${ft}`,FOCUSOUT:`focusout${ft}`,MOUSEENTER:`mouseenter${ft}`,MOUSELEAVE:`mouseleave${ft}`},is="fade",na="show",qa=".popover-header",Ua=".popover-body";class ra extends it{static get Default(){return Vn}static get NAME(){return jt}static get Event(){return rs}static get DefaultType(){return Un}isWithContent(){return this.getTitle()||this._getContent()}getTipElement(){return this.tip?this.tip:(this.tip=super.getTipElement(),this.getTitle()||f.findOne(qa,this.tip).remove(),this._getContent()||f.findOne(Ua,this.tip).remove(),this.tip)}setContent(){const n=this.getTipElement();this.setElementContent(f.findOne(qa,n),this.getTitle());let o=this._getContent();typeof o=="function"&&(o=o.call(this._element)),this.setElementContent(f.findOne(Ua,n),o),n.classList.remove(is,na)}_addAttachmentClass(n){this.getTipElement().classList.add(`${kt}-${this.updateAttachment(n)}`)}_getContent(){return this._element.getAttribute("data-bs-content")||this._config.content}_cleanTipClass(){const n=this.getTipElement(),o=n.getAttribute("class").match(Xt);o!==null&&o.length>0&&o.map(A=>A.trim()).forEach(A=>n.classList.remove(A))}static jQueryInterface(n){return this.each(function(){const o=ra.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof o[n]=="undefined")throw new TypeError(`No method named "${n}"`);o[n]()}})}}Ie(ra);const Da="scrollspy",ia=".bs.scrollspy",du=".data-api",Ha={offset:10,method:"auto",target:""},pu={offset:"number",method:"string",target:"(string|element)"},vu=`activate${ia}`,mu=`scroll${ia}`,_u=`load${ia}${du}`,Fa="dropdown-item",ss="active",gu='[data-bs-spy="scroll"]',yu=".nav, .list-group",Na=".nav-link",wu=".nav-item",Ka=".list-group-item",bu=".dropdown",Eu=".dropdown-toggle",Au="offset",Ga="position";class Eo extends Tn{constructor(n,o){super(n);this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(o),this._selector=`${this._config.target} ${Na}, ${this._config.target} ${Ka}, ${this._config.target} .${Fa}`,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,oe.on(this._scrollElement,mu,()=>this._process()),this.refresh(),this._process()}static get Default(){return Ha}static get NAME(){return Da}refresh(){const n=this._scrollElement===this._scrollElement.window?Au:Ga,o=this._config.method==="auto"?n:this._config.method,A=o===Ga?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),f.find(this._selector).map(R=>{const z=W(R),le=z?f.findOne(z):null;if(le){const Te=le.getBoundingClientRect();if(Te.width||Te.height)return[Vt[o](le).top+A,z]}return null}).filter(R=>R).sort((R,z)=>R[0]-z[0]).forEach(R=>{this._offsets.push(R[0]),this._targets.push(R[1])})}dispose(){oe.off(this._scrollElement,ia),super.dispose()}_getConfig(n){if(n=yt(yt(yt({},Ha),Vt.getDataAttributes(this._element)),typeof n=="object"&&n?n:{}),typeof n.target!="string"&&ue(n.target)){let{id:o}=n.target;o||(o=h(Da),n.target.id=o),n.target=`#${o}`}return ye(Da,n,pu),n}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const n=this._getScrollTop()+this._config.offset,o=this._getScrollHeight(),A=this._config.offset+o-this._getOffsetHeight();if(this._scrollHeight!==o&&this.refresh(),n>=A){const C=this._targets[this._targets.length-1];this._activeTarget!==C&&this._activate(C);return}if(this._activeTarget&&n<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(let C=this._offsets.length;C--;)this._activeTarget!==this._targets[C]&&n>=this._offsets[C]&&(typeof this._offsets[C+1]=="undefined"||n<this._offsets[C+1])&&this._activate(this._targets[C])}_activate(n){this._activeTarget=n,this._clear();const o=this._selector.split(",").map(C=>`${C}[data-bs-target="${n}"],${C}[href="${n}"]`),A=f.findOne(o.join(","));A.classList.contains(Fa)?(f.findOne(Eu,A.closest(bu)).classList.add(ss),A.classList.add(ss)):(A.classList.add(ss),f.parents(A,yu).forEach(C=>{f.prev(C,`${Na}, ${Ka}`).forEach(R=>R.classList.add(ss)),f.prev(C,wu).forEach(R=>{f.children(R,Na).forEach(z=>z.classList.add(ss))})})),oe.trigger(this._scrollElement,vu,{relatedTarget:n})}_clear(){f.find(this._selector).filter(n=>n.classList.contains(ss)).forEach(n=>n.classList.remove(ss))}static jQueryInterface(n){return this.each(function(){const o=Eo.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof o[n]=="undefined")throw new TypeError(`No method named "${n}"`);o[n]()}})}}oe.on(window,_u,()=>{f.find(gu).forEach(d=>new Eo(d))}),Ie(Eo);const Su="tab",Ao=".bs.tab",Cu=".data-api",Tu=`hide${Ao}`,Ou=`hidden${Ao}`,Du=`show${Ao}`,Nu=`shown${Ao}`,$u=`click${Ao}${Cu}`,Lu="dropdown-menu",So="active",Va="fade",Wa="show",ku=".dropdown",xu=".nav, .list-group",za=".active",Ya=":scope > li > .active",Pu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Iu=".dropdown-toggle",Ru=":scope > .dropdown-menu .active";class Co extends Tn{static get NAME(){return Su}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(So))return;let n;const o=te(this._element),A=this._element.closest(xu);if(A){const le=A.nodeName==="UL"||A.nodeName==="OL"?Ya:za;n=f.find(le,A),n=n[n.length-1]}const C=n?oe.trigger(n,Tu,{relatedTarget:this._element}):null;if(oe.trigger(this._element,Du,{relatedTarget:n}).defaultPrevented||C!==null&&C.defaultPrevented)return;this._activate(this._element,A);const z=()=>{oe.trigger(n,Ou,{relatedTarget:this._element}),oe.trigger(this._element,Nu,{relatedTarget:n})};o?this._activate(o,o.parentNode,z):z()}_activate(n,o,A){const R=(o&&(o.nodeName==="UL"||o.nodeName==="OL")?f.find(Ya,o):f.children(o,za))[0],z=A&&R&&R.classList.contains(Va),le=()=>this._transitionComplete(n,R,A);R&&z?(R.classList.remove(Wa),this._queueCallback(le,n,!0)):le()}_transitionComplete(n,o,A){if(o){o.classList.remove(So);const R=f.findOne(Ru,o.parentNode);R&&R.classList.remove(So),o.getAttribute("role")==="tab"&&o.setAttribute("aria-selected",!1)}n.classList.add(So),n.getAttribute("role")==="tab"&&n.setAttribute("aria-selected",!0),m(n),n.classList.contains(Va)&&n.classList.add(Wa);let C=n.parentNode;if(C&&C.nodeName==="LI"&&(C=C.parentNode),C&&C.classList.contains(Lu)){const R=n.closest(ku);R&&f.find(Iu,R).forEach(z=>z.classList.add(So)),n.setAttribute("aria-expanded",!0)}A&&A()}static jQueryInterface(n){return this.each(function(){const o=Co.getOrCreateInstance(this);if(typeof n=="string"){if(typeof o[n]=="undefined")throw new TypeError(`No method named "${n}"`);o[n]()}})}}oe.on(document,$u,Pu,function(d){if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),j(this))return;Co.getOrCreateInstance(this).show()}),Ie(Co);const Qa="toast",ei=".bs.toast",Bu=`click.dismiss${ei}`,Mu=`mouseover${ei}`,ju=`mouseout${ei}`,qu=`focusin${ei}`,Uu=`focusout${ei}`,Hu=`hide${ei}`,Fu=`hidden${ei}`,Ku=`show${ei}`,Gu=`shown${ei}`,Vu="fade",Ja="hide",To="show",Xa="showing",Wu={animation:"boolean",autohide:"boolean",delay:"number"},Za={animation:!0,autohide:!0,delay:5e3},zu='[data-bs-dismiss="toast"]';class sa extends Tn{constructor(n,o){super(n);this._config=this._getConfig(o),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Wu}static get Default(){return Za}static get NAME(){return Qa}show(){if(oe.trigger(this._element,Ku).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Vu);const o=()=>{this._element.classList.remove(Xa),this._element.classList.add(To),oe.trigger(this._element,Gu),this._maybeScheduleHide()};this._element.classList.remove(Ja),m(this._element),this._element.classList.add(Xa),this._queueCallback(o,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(To)||oe.trigger(this._element,Hu).defaultPrevented)return;const o=()=>{this._element.classList.add(Ja),oe.trigger(this._element,Fu)};this._element.classList.remove(To),this._queueCallback(o,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(To)&&this._element.classList.remove(To),super.dispose()}_getConfig(n){return n=yt(yt(yt({},Za),Vt.getDataAttributes(this._element)),typeof n=="object"&&n?n:{}),ye(Qa,n,this.constructor.DefaultType),n}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(n,o){switch(n.type){case"mouseover":case"mouseout":this._hasMouseInteraction=o;break;case"focusin":case"focusout":this._hasKeyboardInteraction=o;break}if(o){this._clearTimeout();return}const A=n.relatedTarget;this._element===A||this._element.contains(A)||this._maybeScheduleHide()}_setListeners(){oe.on(this._element,Bu,zu,()=>this.hide()),oe.on(this._element,Mu,n=>this._onInteraction(n,!0)),oe.on(this._element,ju,n=>this._onInteraction(n,!1)),oe.on(this._element,qu,n=>this._onInteraction(n,!0)),oe.on(this._element,Uu,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const o=sa.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof o[n]=="undefined")throw new TypeError(`No method named "${n}"`);o[n](this)}})}}Ie(sa);var Yu={Alert:Qe,Button:hr,Carousel:Dn,Collapse:Bn,Dropdown:gn,Modal:ns,Offcanvas:ee,Popover:ra,ScrollSpy:Eo,Tab:Co,Toast:sa,Tooltip:it};return Yu});(function(M){if(typeof Ra=="object"&&typeof No!="undefined")No.exports=M();else if(typeof define=="function"&&define.amd)define([],M);else{var f;typeof window!="undefined"?f=window:typeof global!="undefined"?f=global:typeof self!="undefined"?f=self:f=this,f.PouchDB=M()}})(function(){return function(){function M(f,P,K){function w(N,W){if(!P[N]){if(!f[N]){var te=typeof require=="function"&&require;if(!W&&te)return te(N,!0);if(D)return D(N,!0);var ge=new Error("Cannot find module '"+N+"'");throw ge.code="MODULE_NOT_FOUND",ge}var ve=P[N]={exports:{}};f[N][0].call(ve.exports,function(ue){var L=f[N][1][ue];return w(L||ue)},ve,ve.exports,M,f,P,K)}return P[N].exports}for(var D=typeof require=="function"&&require,h=0;h<K.length;h++)w(K[h]);return w}return M}()({1:[function(M,f,P){f.exports=K;function K(w){return function(){var D=arguments.length;if(D){for(var h=[],N=-1;++N<D;)h[N]=arguments[N];return w.call(this,h)}else return w.call(this,[])}}},{}],2:[function(M,f,P){var K=Object.create||Ie,w=Object.keys||Ct,D=Function.prototype.bind||et;function h(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=K(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}f.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._maxListeners=void 0;var N=10,W;try{var te={};Object.defineProperty&&Object.defineProperty(te,"x",{value:0}),W=te.x===0}catch{W=!1}W?Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return N},set:function(q){if(typeof q!="number"||q<0||q!==q)throw new TypeError('"defaultMaxListeners" must be a positive number');N=q}}):h.defaultMaxListeners=N,h.prototype.setMaxListeners=function(H){if(typeof H!="number"||H<0||isNaN(H))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=H,this};function ge(q){return q._maxListeners===void 0?h.defaultMaxListeners:q._maxListeners}h.prototype.getMaxListeners=function(){return ge(this)};function ve(q,H,G){if(H)q.call(G);else for(var Q=q.length,he=v(q,Q),ke=0;ke<Q;++ke)he[ke].call(G)}function ue(q,H,G,Q){if(H)q.call(G,Q);else for(var he=q.length,ke=v(q,he),de=0;de<he;++de)ke[de].call(G,Q)}function L(q,H,G,Q,he){if(H)q.call(G,Q,he);else for(var ke=q.length,de=v(q,ke),st=0;st<ke;++st)de[st].call(G,Q,he)}function ye(q,H,G,Q,he,ke){if(H)q.call(G,Q,he,ke);else for(var de=q.length,st=v(q,de),Ht=0;Ht<de;++Ht)st[Ht].call(G,Q,he,ke)}function Ne(q,H,G,Q){if(H)q.apply(G,Q);else for(var he=q.length,ke=v(q,he),de=0;de<he;++de)ke[de].apply(G,Q)}h.prototype.emit=function(H){var G,Q,he,ke,de,st,Ht=H==="error";if(st=this._events,st)Ht=Ht&&st.error==null;else if(!Ht)return!1;if(Ht){if(arguments.length>1&&(G=arguments[1]),G instanceof Error)throw G;var Pn=new Error('Unhandled "error" event. ('+G+")");throw Pn.context=G,Pn}if(Q=st[H],!Q)return!1;var Ft=typeof Q=="function";switch(he=arguments.length,he){case 1:ve(Q,Ft,this);break;case 2:ue(Q,Ft,this,arguments[1]);break;case 3:L(Q,Ft,this,arguments[1],arguments[2]);break;case 4:ye(Q,Ft,this,arguments[1],arguments[2],arguments[3]);break;default:for(ke=new Array(he-1),de=1;de<he;de++)ke[de-1]=arguments[de];Ne(Q,Ft,this,ke)}return!0};function j(q,H,G,Q){var he,ke,de;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if(ke=q._events,ke?(ke.newListener&&(q.emit("newListener",H,G.listener?G.listener:G),ke=q._events),de=ke[H]):(ke=q._events=K(null),q._eventsCount=0),!de)de=ke[H]=G,++q._eventsCount;else if(typeof de=="function"?de=ke[H]=Q?[G,de]:[de,G]:Q?de.unshift(G):de.push(G),!de.warned&&(he=ge(q),he&&he>0&&de.length>he)){de.warned=!0;var st=new Error("Possible EventEmitter memory leak detected. "+de.length+' "'+String(H)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');st.name="MaxListenersExceededWarning",st.emitter=q,st.type=H,st.count=de.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",st.name,st.message)}return q}h.prototype.addListener=function(H,G){return j(this,H,G,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(H,G){return j(this,H,G,!0)};function Z(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var q=new Array(arguments.length),H=0;H<q.length;++H)q[H]=arguments[H];this.listener.apply(this.target,q)}}function g(q,H,G){var Q={fired:!1,wrapFn:void 0,target:q,type:H,listener:G},he=D.call(Z,Q);return he.listener=G,Q.wrapFn=he,he}h.prototype.once=function(H,G){if(typeof G!="function")throw new TypeError('"listener" argument must be a function');return this.on(H,g(this,H,G)),this},h.prototype.prependOnceListener=function(H,G){if(typeof G!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(H,g(this,H,G)),this},h.prototype.removeListener=function(H,G){var Q,he,ke,de,st;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if(he=this._events,!he)return this;if(Q=he[H],!Q)return this;if(Q===G||Q.listener===G)--this._eventsCount==0?this._events=K(null):(delete he[H],he.removeListener&&this.emit("removeListener",H,Q.listener||G));else if(typeof Q!="function"){for(ke=-1,de=Q.length-1;de>=0;de--)if(Q[de]===G||Q[de].listener===G){st=Q[de].listener,ke=de;break}if(ke<0)return this;ke===0?Q.shift():c(Q,ke),Q.length===1&&(he[H]=Q[0]),he.removeListener&&this.emit("removeListener",H,st||G)}return this},h.prototype.removeAllListeners=function(H){var G,Q,he;if(Q=this._events,!Q)return this;if(!Q.removeListener)return arguments.length===0?(this._events=K(null),this._eventsCount=0):Q[H]&&(--this._eventsCount==0?this._events=K(null):delete Q[H]),this;if(arguments.length===0){var ke=w(Q),de;for(he=0;he<ke.length;++he)de=ke[he],de!=="removeListener"&&this.removeAllListeners(de);return this.removeAllListeners("removeListener"),this._events=K(null),this._eventsCount=0,this}if(G=Q[H],typeof G=="function")this.removeListener(H,G);else if(G)for(he=G.length-1;he>=0;he--)this.removeListener(H,G[he]);return this};function m(q,H,G){var Q=q._events;if(!Q)return[];var he=Q[H];return he?typeof he=="function"?G?[he.listener||he]:[he]:G?_(he):v(he,he.length):[]}h.prototype.listeners=function(H){return m(this,H,!0)},h.prototype.rawListeners=function(H){return m(this,H,!1)},h.listenerCount=function(q,H){return typeof q.listenerCount=="function"?q.listenerCount(H):u.call(q,H)},h.prototype.listenerCount=u;function u(q){var H=this._events;if(H){var G=H[q];if(typeof G=="function")return 1;if(G)return G.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function c(q,H){for(var G=H,Q=G+1,he=q.length;Q<he;G+=1,Q+=1)q[G]=q[Q];q.pop()}function v(q,H){for(var G=new Array(H),Q=0;Q<H;++Q)G[Q]=q[Q];return G}function _(q){for(var H=new Array(q.length),G=0;G<H.length;++G)H[G]=q[G].listener||q[G];return H}function Ie(q){var H=function(){};return H.prototype=q,new H}function Ct(q){for(var H in q)Object.prototype.hasOwnProperty.call(q,H);return H}function et(q){var H=this;return function(){return H.apply(q,arguments)}}},{}],3:[function(M,f,P){(function(K){var w=K.MutationObserver||K.WebKitMutationObserver,D;if(w){var h=0,N=new w(ue),W=K.document.createTextNode("");N.observe(W,{characterData:!0}),D=function(){W.data=h=++h%2}}else if(!K.setImmediate&&typeof K.MessageChannel!="undefined"){var te=new K.MessageChannel;te.port1.onmessage=ue,D=function(){te.port2.postMessage(0)}}else"document"in K&&"onreadystatechange"in K.document.createElement("script")?D=function(){var ye=K.document.createElement("script");ye.onreadystatechange=function(){ue(),ye.onreadystatechange=null,ye.parentNode.removeChild(ye),ye=null},K.document.documentElement.appendChild(ye)}:D=function(){setTimeout(ue,0)};var ge,ve=[];function ue(){ge=!0;for(var ye,Ne,j=ve.length;j;){for(Ne=ve,ve=[],ye=-1;++ye<j;)Ne[ye]();j=ve.length}ge=!1}f.exports=L;function L(ye){ve.push(ye)===1&&!ge&&D()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],4:[function(M,f,P){typeof Object.create=="function"?f.exports=function(w,D){D&&(w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:f.exports=function(w,D){if(D){w.super_=D;var h=function(){};h.prototype=D.prototype,w.prototype=new h,w.prototype.constructor=w}}},{}],5:[function(M,f,P){var K=f.exports={},w,D;function h(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?w=setTimeout:w=h}catch{w=h}try{typeof clearTimeout=="function"?D=clearTimeout:D=N}catch{D=N}})();function W(g){if(w===setTimeout)return setTimeout(g,0);if((w===h||!w)&&setTimeout)return w=setTimeout,setTimeout(g,0);try{return w(g,0)}catch{try{return w.call(null,g,0)}catch{return w.call(this,g,0)}}}function te(g){if(D===clearTimeout)return clearTimeout(g);if((D===N||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(g);try{return D(g)}catch{try{return D.call(null,g)}catch{return D.call(this,g)}}}var ge=[],ve=!1,ue,L=-1;function ye(){!ve||!ue||(ve=!1,ue.length?ge=ue.concat(ge):L=-1,ge.length&&Ne())}function Ne(){if(!ve){var g=W(ye);ve=!0;for(var m=ge.length;m;){for(ue=ge,ge=[];++L<m;)ue&&ue[L].run();L=-1,m=ge.length}ue=null,ve=!1,te(g)}}K.nextTick=function(g){var m=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)m[u-1]=arguments[u];ge.push(new j(g,m)),ge.length===1&&!ve&&W(Ne)};function j(g,m){this.fun=g,this.array=m}j.prototype.run=function(){this.fun.apply(null,this.array)},K.title="browser",K.browser=!0,K.env={},K.argv=[],K.version="",K.versions={};function Z(){}K.on=Z,K.addListener=Z,K.once=Z,K.off=Z,K.removeListener=Z,K.removeAllListeners=Z,K.emit=Z,K.prependListener=Z,K.prependOnceListener=Z,K.listeners=function(g){return[]},K.binding=function(g){throw new Error("process.binding is not supported")},K.cwd=function(){return"/"},K.chdir=function(g){throw new Error("process.chdir is not supported")},K.umask=function(){return 0}},{}],6:[function(M,f,P){(function(K){if(typeof P=="object")f.exports=K();else{var w;try{w=window}catch{w=self}w.SparkMD5=K()}})(function(K){var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function D(g,m){var u=g[0],c=g[1],v=g[2],_=g[3];u+=(c&v|~c&_)+m[0]-680876936|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[1]-389564586|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[2]+606105819|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[3]-1044525330|0,c=(c<<22|c>>>10)+v|0,u+=(c&v|~c&_)+m[4]-176418897|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[5]+1200080426|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[6]-1473231341|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[7]-45705983|0,c=(c<<22|c>>>10)+v|0,u+=(c&v|~c&_)+m[8]+1770035416|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[9]-1958414417|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[10]-42063|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[11]-1990404162|0,c=(c<<22|c>>>10)+v|0,u+=(c&v|~c&_)+m[12]+1804603682|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[13]-40341101|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[14]-1502002290|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[15]+1236535329|0,c=(c<<22|c>>>10)+v|0,u+=(c&_|v&~_)+m[1]-165796510|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[6]-1069501632|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[11]+643717713|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[0]-373897302|0,c=(c<<20|c>>>12)+v|0,u+=(c&_|v&~_)+m[5]-701558691|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[10]+38016083|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[15]-660478335|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[4]-405537848|0,c=(c<<20|c>>>12)+v|0,u+=(c&_|v&~_)+m[9]+568446438|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[14]-1019803690|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[3]-187363961|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[8]+1163531501|0,c=(c<<20|c>>>12)+v|0,u+=(c&_|v&~_)+m[13]-1444681467|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[2]-51403784|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[7]+1735328473|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[12]-1926607734|0,c=(c<<20|c>>>12)+v|0,u+=(c^v^_)+m[5]-378558|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[8]-2022574463|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[11]+1839030562|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[14]-35309556|0,c=(c<<23|c>>>9)+v|0,u+=(c^v^_)+m[1]-1530992060|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[4]+1272893353|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[7]-155497632|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[10]-1094730640|0,c=(c<<23|c>>>9)+v|0,u+=(c^v^_)+m[13]+681279174|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[0]-358537222|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[3]-722521979|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[6]+76029189|0,c=(c<<23|c>>>9)+v|0,u+=(c^v^_)+m[9]-640364487|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[12]-421815835|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[15]+530742520|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[2]-995338651|0,c=(c<<23|c>>>9)+v|0,u+=(v^(c|~_))+m[0]-198630844|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[7]+1126891415|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[14]-1416354905|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[5]-57434055|0,c=(c<<21|c>>>11)+v|0,u+=(v^(c|~_))+m[12]+1700485571|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[3]-1894986606|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[10]-1051523|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[1]-2054922799|0,c=(c<<21|c>>>11)+v|0,u+=(v^(c|~_))+m[8]+1873313359|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[15]-30611744|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[6]-1560198380|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[13]+1309151649|0,c=(c<<21|c>>>11)+v|0,u+=(v^(c|~_))+m[4]-145523070|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[11]-1120210379|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[2]+718787259|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[9]-343485551|0,c=(c<<21|c>>>11)+v|0,g[0]=u+g[0]|0,g[1]=c+g[1]|0,g[2]=v+g[2]|0,g[3]=_+g[3]|0}function h(g){var m=[],u;for(u=0;u<64;u+=4)m[u>>2]=g.charCodeAt(u)+(g.charCodeAt(u+1)<<8)+(g.charCodeAt(u+2)<<16)+(g.charCodeAt(u+3)<<24);return m}function N(g){var m=[],u;for(u=0;u<64;u+=4)m[u>>2]=g[u]+(g[u+1]<<8)+(g[u+2]<<16)+(g[u+3]<<24);return m}function W(g){var m=g.length,u=[1732584193,-271733879,-1732584194,271733878],c,v,_,Ie,Ct,et;for(c=64;c<=m;c+=64)D(u,h(g.substring(c-64,c)));for(g=g.substring(c-64),v=g.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<v;c+=1)_[c>>2]|=g.charCodeAt(c)<<(c%4<<3);if(_[c>>2]|=128<<(c%4<<3),c>55)for(D(u,_),c=0;c<16;c+=1)_[c]=0;return Ie=m*8,Ie=Ie.toString(16).match(/(.*?)(.{0,8})$/),Ct=parseInt(Ie[2],16),et=parseInt(Ie[1],16)||0,_[14]=Ct,_[15]=et,D(u,_),u}function te(g){var m=g.length,u=[1732584193,-271733879,-1732584194,271733878],c,v,_,Ie,Ct,et;for(c=64;c<=m;c+=64)D(u,N(g.subarray(c-64,c)));for(g=c-64<m?g.subarray(c-64):new Uint8Array(0),v=g.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<v;c+=1)_[c>>2]|=g[c]<<(c%4<<3);if(_[c>>2]|=128<<(c%4<<3),c>55)for(D(u,_),c=0;c<16;c+=1)_[c]=0;return Ie=m*8,Ie=Ie.toString(16).match(/(.*?)(.{0,8})$/),Ct=parseInt(Ie[2],16),et=parseInt(Ie[1],16)||0,_[14]=Ct,_[15]=et,D(u,_),u}function ge(g){var m="",u;for(u=0;u<4;u+=1)m+=w[g>>u*8+4&15]+w[g>>u*8&15];return m}function ve(g){var m;for(m=0;m<g.length;m+=1)g[m]=ge(g[m]);return g.join("")}ve(W("hello"))!=="5d41402abc4b2a76b9719d911017c592",typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function g(m,u){return m=m|0||0,m<0?Math.max(m+u,0):Math.min(m,u)}ArrayBuffer.prototype.slice=function(m,u){var c=this.byteLength,v=g(m,c),_=c,Ie,Ct,et,q;return u!==K&&(_=g(u,c)),v>_?new ArrayBuffer(0):(Ie=_-v,Ct=new ArrayBuffer(Ie),et=new Uint8Array(Ct),q=new Uint8Array(this,v,Ie),et.set(q),Ct)}}();function ue(g){return/[\u0080-\uFFFF]/.test(g)&&(g=unescape(encodeURIComponent(g))),g}function L(g,m){var u=g.length,c=new ArrayBuffer(u),v=new Uint8Array(c),_;for(_=0;_<u;_+=1)v[_]=g.charCodeAt(_);return m?v:c}function ye(g){return String.fromCharCode.apply(null,new Uint8Array(g))}function Ne(g,m,u){var c=new Uint8Array(g.byteLength+m.byteLength);return c.set(new Uint8Array(g)),c.set(new Uint8Array(m),g.byteLength),u?c:c.buffer}function j(g){var m=[],u=g.length,c;for(c=0;c<u-1;c+=2)m.push(parseInt(g.substr(c,2),16));return String.fromCharCode.apply(String,m)}function Z(){this.reset()}return Z.prototype.append=function(g){return this.appendBinary(ue(g)),this},Z.prototype.appendBinary=function(g){this._buff+=g,this._length+=g.length;var m=this._buff.length,u;for(u=64;u<=m;u+=64)D(this._hash,h(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},Z.prototype.end=function(g){var m=this._buff,u=m.length,c,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_;for(c=0;c<u;c+=1)v[c>>2]|=m.charCodeAt(c)<<(c%4<<3);return this._finish(v,u),_=ve(this._hash),g&&(_=j(_)),this.reset(),_},Z.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Z.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},Z.prototype.setState=function(g){return this._buff=g.buff,this._length=g.length,this._hash=g.hash,this},Z.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},Z.prototype._finish=function(g,m){var u=m,c,v,_;if(g[u>>2]|=128<<(u%4<<3),u>55)for(D(this._hash,g),u=0;u<16;u+=1)g[u]=0;c=this._length*8,c=c.toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(c[2],16),_=parseInt(c[1],16)||0,g[14]=v,g[15]=_,D(this._hash,g)},Z.hash=function(g,m){return Z.hashBinary(ue(g),m)},Z.hashBinary=function(g,m){var u=W(g),c=ve(u);return m?j(c):c},Z.ArrayBuffer=function(){this.reset()},Z.ArrayBuffer.prototype.append=function(g){var m=Ne(this._buff.buffer,g,!0),u=m.length,c;for(this._length+=g.byteLength,c=64;c<=u;c+=64)D(this._hash,N(m.subarray(c-64,c)));return this._buff=c-64<u?new Uint8Array(m.buffer.slice(c-64)):new Uint8Array(0),this},Z.ArrayBuffer.prototype.end=function(g){var m=this._buff,u=m.length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v,_;for(v=0;v<u;v+=1)c[v>>2]|=m[v]<<(v%4<<3);return this._finish(c,u),_=ve(this._hash),g&&(_=j(_)),this.reset(),_},Z.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Z.ArrayBuffer.prototype.getState=function(){var g=Z.prototype.getState.call(this);return g.buff=ye(g.buff),g},Z.ArrayBuffer.prototype.setState=function(g){return g.buff=L(g.buff,!0),Z.prototype.setState.call(this,g)},Z.ArrayBuffer.prototype.destroy=Z.prototype.destroy,Z.ArrayBuffer.prototype._finish=Z.prototype._finish,Z.ArrayBuffer.hash=function(g,m){var u=te(new Uint8Array(g)),c=ve(u);return m?j(c):c},Z})},{}],7:[function(M,f,P){var K=M(10),w=M(11),D=w;D.v1=K,D.v4=w,f.exports=D},{"10":10,"11":11}],8:[function(M,f,P){for(var K=[],w=0;w<256;++w)K[w]=(w+256).toString(16).substr(1);function D(h,N){var W=N||0,te=K;return[te[h[W++]],te[h[W++]],te[h[W++]],te[h[W++]],"-",te[h[W++]],te[h[W++]],"-",te[h[W++]],te[h[W++]],"-",te[h[W++]],te[h[W++]],"-",te[h[W++]],te[h[W++]],te[h[W++]],te[h[W++]],te[h[W++]],te[h[W++]]].join("")}f.exports=D},{}],9:[function(M,f,P){var K=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(K){var w=new Uint8Array(16);f.exports=function(){return K(w),w}}else{var D=new Array(16);f.exports=function(){for(var N=0,W;N<16;N++)(N&3)==0&&(W=Math.random()*4294967296),D[N]=W>>>((N&3)<<3)&255;return D}}},{}],10:[function(M,f,P){var K=M(9),w=M(8),D,h,N=0,W=0;function te(ge,ve,ue){var L=ve&&ue||0,ye=ve||[];ge=ge||{};var Ne=ge.node||D,j=ge.clockseq!==void 0?ge.clockseq:h;if(Ne==null||j==null){var Z=K();Ne==null&&(Ne=D=[Z[0]|1,Z[1],Z[2],Z[3],Z[4],Z[5]]),j==null&&(j=h=(Z[6]<<8|Z[7])&16383)}var g=ge.msecs!==void 0?ge.msecs:new Date().getTime(),m=ge.nsecs!==void 0?ge.nsecs:W+1,u=g-N+(m-W)/1e4;if(u<0&&ge.clockseq===void 0&&(j=j+1&16383),(u<0||g>N)&&ge.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");N=g,W=m,h=j,g+=122192928e5;var c=((g&268435455)*1e4+m)%4294967296;ye[L++]=c>>>24&255,ye[L++]=c>>>16&255,ye[L++]=c>>>8&255,ye[L++]=c&255;var v=g/4294967296*1e4&268435455;ye[L++]=v>>>8&255,ye[L++]=v&255,ye[L++]=v>>>24&15|16,ye[L++]=v>>>16&255,ye[L++]=j>>>8|128,ye[L++]=j&255;for(var _=0;_<6;++_)ye[L+_]=Ne[_];return ve||w(ye)}f.exports=te},{"8":8,"9":9}],11:[function(M,f,P){var K=M(9),w=M(8);function D(h,N,W){var te=N&&W||0;typeof h=="string"&&(N=h==="binary"?new Array(16):null,h=null),h=h||{};var ge=h.random||(h.rng||K)();if(ge[6]=ge[6]&15|64,ge[8]=ge[8]&63|128,N)for(var ve=0;ve<16;++ve)N[te+ve]=ge[ve];return N||w(ge)}f.exports=D},{"8":8,"9":9}],12:[function(M,f,P){P.stringify=function(D){var h=[];h.push({obj:D});for(var N="",W,te,ge,ve,ue,L,ye,Ne,j,Z,g;W=h.pop();)if(te=W.obj,ge=W.prefix||"",ve=W.val||"",N+=ge,ve)N+=ve;else if(typeof te!="object")N+=typeof te=="undefined"?null:JSON.stringify(te);else if(te===null)N+="null";else if(Array.isArray(te)){for(h.push({val:"]"}),ue=te.length-1;ue>=0;ue--)L=ue===0?"":",",h.push({obj:te[ue],prefix:L});h.push({val:"["})}else{ye=[];for(Ne in te)te.hasOwnProperty(Ne)&&ye.push(Ne);for(h.push({val:"}"}),ue=ye.length-1;ue>=0;ue--)j=ye[ue],Z=te[j],g=ue>0?",":"",g+=JSON.stringify(j)+":",h.push({obj:Z,prefix:g});h.push({val:"{"})}return N};function K(w,D,h){var N=h[h.length-1];w===N.element&&(h.pop(),N=h[h.length-1]);var W=N.element,te=N.index;if(Array.isArray(W))W.push(w);else if(te===D.length-2){var ge=D.pop();W[ge]=w}else D.push(w)}P.parse=function(w){for(var D=[],h=[],N=0,W,te,ge,ve,ue,L,ye,Ne,j;;){if(W=w[N++],W==="}"||W==="]"||typeof W=="undefined"){if(D.length===1)return D.pop();K(D.pop(),D,h);continue}switch(W){case" ":case"	":case`
`:case":":case",":break;case"n":N+=3,K(null,D,h);break;case"t":N+=3,K(!0,D,h);break;case"f":N+=4,K(!1,D,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(te="",N--;;)if(ge=w[N++],/[\d\.\-e\+]/.test(ge))te+=ge;else{N--;break}K(parseFloat(te),D,h);break;case'"':for(ve="",ue=void 0,L=0;ye=w[N++],ye!=='"'||ue==="\\"&&L%2==1;)ve+=ye,ue=ye,ue==="\\"?L++:L=0;K(JSON.parse('"'+ve+'"'),D,h);break;case"[":Ne={element:[],index:D.length},D.push(Ne.element),h.push(Ne);break;case"{":j={element:{},index:D.length},D.push(j.element),h.push(j);break;default:throw new Error("unexpectedly reached end of input: "+W)}}}},{}],13:[function(M,f,P){(function(K,w){function D(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var h=D(M(3)),N=D(M(7)),W=D(M(6)),te=D(M(12)),ge=D(M(1)),ve=D(M(4)),ue=M(2);function L(e){return"$"+e}function ye(e){return e.substring(1)}function Ne(){this._store={}}Ne.prototype.get=function(e){var t=L(e);return this._store[t]},Ne.prototype.set=function(e,t){var r=L(e);return this._store[r]=t,!0},Ne.prototype.has=function(e){var t=L(e);return t in this._store},Ne.prototype.delete=function(e){var t=L(e),r=t in this._store;return delete this._store[t],r},Ne.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,i=t.length;r<i;r++){var l=t[r],y=this._store[l];l=ye(l),e(y,l)}},Object.defineProperty(Ne.prototype,"size",{get:function(){return Object.keys(this._store).length}});function j(e){if(this._store=new Ne,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}j.prototype.add=function(e){return this._store.set(e,!0)},j.prototype.has=function(e){return this._store.has(e)},j.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(j.prototype,"size",{get:function(){return this._store.size}});function Z(){if(typeof Symbol=="undefined"||typeof Map=="undefined"||typeof Set=="undefined")return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}var g,m;Z()?(g=Set,m=Map):(g=j,m=Ne);function u(e){return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer||typeof Blob!="undefined"&&e instanceof Blob}function c(e){if(typeof e.slice=="function")return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),i=new Uint8Array(e);return r.set(i),t}function v(e){if(e instanceof ArrayBuffer)return c(e);var t=e.size,r=e.type;return typeof e.slice=="function"?e.slice(0,t,r):e.webkitSlice(0,t,r)}var _=Function.prototype.toString,Ie=_.call(Object);function Ct(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var r=t.constructor;return typeof r=="function"&&r instanceof r&&_.call(r)==Ie}function et(e){var t,r,i;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],r=0,i=e.length;r<i;r++)t[r]=et(e[r]);return t}if(e instanceof Date)return e.toISOString();if(u(e))return v(e);if(!Ct(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=et(e[r]);typeof l!="undefined"&&(t[r]=l)}return t}function q(e){var t=!1;return ge(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function H(e){return ge(function(t){t=et(t);var r=this,i=typeof t[t.length-1]=="function"?t.pop():!1,l=new Promise(function(y,E){var T;try{var $=q(function(V,re){V?E(V):y(re)});t.push($),T=e.apply(r,t),T&&typeof T.then=="function"&&y(T)}catch(V){E(V)}});return i&&l.then(function(y){i(null,y)},i),l})}function G(e,t,r){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],l=0;l<r.length-1;l++)i.push(r[l]);e.constructor.emit("debug",i);var y=r[r.length-1];r[r.length-1]=function(E,T){var $=["api",e.name,t];$=$.concat(E?["error",E]:["success",T]),e.constructor.emit("debug",$),y(E,T)}}}function Q(e,t){return H(ge(function(r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return G(i,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(l,y){i.taskqueue.addTask(function(E){E?y(E):l(i[e].apply(i,r))})})}))}function he(e,t){for(var r={},i=0,l=t.length;i<l;i++){var y=t[i];y in e&&(r[y]=e[y])}return r}var ke=6;function de(e){return e}function st(e){return[{ok:e}]}function Ht(e,t,r){var i=t.docs,l=new m;i.forEach(function(I){l.has(I.id)?l.get(I.id).push(I):l.set(I.id,[I])});var y=l.size,E=0,T=new Array(y);function $(){var I=[];T.forEach(function(J){J.docs.forEach(function(se){I.push({id:J.id,docs:[se]})})}),r(null,{results:I})}function V(){++E===y&&$()}function re(I,J,se){T[I]={id:J,docs:se},V()}var S=[];l.forEach(function(I,J){S.push(J)});var B=0;function U(){if(!(B>=S.length)){var I=Math.min(B+ke,S.length),J=S.slice(B,I);O(J,B),B+=J.length}}function O(I,J){I.forEach(function(se,ee){var F=J+ee,me=l.get(se),_e=he(me[0],["atts_since","attachments"]);_e.open_revs=me.map(function(Ce){return Ce.rev}),_e.open_revs=_e.open_revs.filter(de);var Pe=de;_e.open_revs.length===0&&(delete _e.open_revs,Pe=st),["revs","attachments","binary","ajax","latest"].forEach(function(Ce){Ce in t&&(_e[Ce]=t[Ce])}),e.get(se,_e,function(Ce,je){var Ge;Ce?Ge=[{error:Ce}]:Ge=Pe(je),re(F,se,Ge),U()})})}U()}var Pn;try{localStorage.setItem("_pouch_check_localstorage",1),Pn=!!localStorage.getItem("_pouch_check_localstorage")}catch{Pn=!1}function Ft(){return Pn}ve(Sr,ue.EventEmitter);function ni(e){Ft()&&addEventListener("storage",function(t){e.emit(t.key)})}function Sr(){ue.EventEmitter.call(this),this._listeners={},ni(this)}Sr.prototype.addListener=function(e,t,r,i){if(this._listeners[t])return;var l=this,y=!1;function E(){if(!l._listeners[t])return;if(y){y="waiting";return}y=!0;var T=he(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function $(){y=!1}r.changes(T).on("change",function(V){V.seq>i.since&&!i.cancelled&&(i.since=V.seq,i.onChange(V))}).on("complete",function(){y==="waiting"&&h(E),y=!1}).on("error",$)}this._listeners[t]=E,this.on(e,E)},Sr.prototype.removeListener=function(e,t){t in this._listeners&&(ue.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Sr.prototype.notifyLocalWindows=function(e){Ft()&&(localStorage[e]=localStorage[e]==="a"?"b":"a")},Sr.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};function An(e){if(typeof console!="undefined"&&typeof console[e]=="function"){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function cs(e,t){var r=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t=t+1,t>r&&(e=r>>1,t=r);var i=Math.random(),l=t-e;return~~(l*i+e)}function ls(e){var t=0;return e||(t=2e3),cs(e,t)}function Br(e,t){An("info","The above "+e+" is totally normal. "+t)}var Ni;typeof Object.assign=="function"?Ni=Object.assign:Ni=function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(t[l]=i[l])}return t};var Zn=Ni;ve(oe,Error);function oe(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}oe.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new oe(401,"unauthorized","Name or password is incorrect.");var zn=new oe(400,"bad_request","Missing JSON list of 'docs'"),Gt=new oe(404,"not_found","missing"),Cr=new oe(409,"conflict","Document update conflict"),Tn=new oe(400,"bad_request","_id field must contain a string"),Hs=new oe(412,"missing_id","_id is required for puts"),$o=new oe(400,"bad_request","Only reserved document ids may start with underscore.");new oe(412,"precondition_failed","Database not open");var ri=new oe(500,"unknown_error","Database encountered an unknown error"),ii=new oe(500,"badarg","Some query argument is invalid");new oe(400,"invalid_request","Request was invalid");var Fs=new oe(400,"query_parse_error","Some query parameter is invalid"),si=new oe(500,"doc_validation","Bad special document member"),er=new oe(400,"bad_request","Something wrong with the request"),$i=new oe(400,"bad_request","Document must be a JSON object");new oe(404,"not_found","Database not found");var oi=new oe(500,"indexed_db_went_bad","unknown");new oe(500,"web_sql_went_bad","unknown"),new oe(500,"levelDB_went_went_bad","unknown"),new oe(403,"forbidden","Forbidden by design doc validate_doc_update function");var wn=new oe(400,"bad_request","Invalid rev format");new oe(412,"file_exists","The database could not be created, the file already exists.");var Li=new oe(412,"missing_stub","A pre-existing attachment stub wasn't found");new oe(413,"invalid_url","Provided URL is invalid");function Qe(e,t){function r(i){for(var l in e)typeof e[l]!="function"&&(this[l]=e[l]);i!==void 0&&(this.reason=i)}return r.prototype=oe.prototype,new r(t)}function Tr(e){if(typeof e!="object"){var t=e;e=ri,e.data=t}return"error"in e&&e.error==="conflict"&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function Lo(e,t,r){try{return!e(t,r)}catch(l){var i="Filter function threw: "+l.toString();return Qe(er,i)}}function ki(e){var t={},r=e.filter&&typeof e.filter=="function";return t.query=e.query_params,function(l){l.doc||(l.doc={});var y=r&&Lo(e.filter,l.doc,t);if(typeof y=="object")return y;if(y)return!1;if(!e.include_docs)delete l.doc;else if(!e.attachments)for(var E in l.doc._attachments)l.doc._attachments.hasOwnProperty(E)&&(l.doc._attachments[E].stub=!0);return!0}}function ai(e){for(var t=[],r=0,i=e.length;r<i;r++)t=t.concat(e[r]);return t}function xi(e){var t;if(e?typeof e!="string"?t=Qe(Tn):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Qe($o)):t=Qe(Hs),t)throw t}function On(e){return typeof e._remote=="boolean"?e._remote:typeof e.type=="function"?(An("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),e.type()==="http"):!1}function Ks(e,t){return"listenerCount"in e?e.listenerCount(t):ue.EventEmitter.listenerCount(e,t)}function hr(e){if(!e)return null;var t=e.split("/");return t.length===2?t:t.length===1?[e,e]:null}function Pi(e){var t=hr(e);return t?t.join("/"):null}var Mr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Vt="queryKey",ui=/(?:^|&)([^&=]*)=?([^&]*)/g,un=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function zt(e){for(var t=un.exec(e),r={},i=14;i--;){var l=Mr[i],y=t[i]||"",E=["user","password"].indexOf(l)!==-1;r[l]=E?decodeURIComponent(y):y}return r[Vt]={},r[Mr[12]].replace(ui,function(T,$,V){$&&(r[Vt][$]=V)}),r}function ci(e,t){var r=[],i=[];for(var l in t)t.hasOwnProperty(l)&&(r.push(l),i.push(t[l]));return r.push(e),Function.apply(null,r).apply(null,i)}function bn(e,t,r){return new Promise(function(i,l){e.get(t,function(y,E){if(y){if(y.status!==404)return l(y);E={}}var T=E._rev,$=r(E);if(!$)return i({updated:!1,rev:T});$._id=t,$._rev=T,i(Gs(e,$,r))})})}function Gs(e,t,r){return e.put(t).then(function(i){return{updated:!0,rev:i.rev}},function(i){if(i.status!==409)throw i;return bn(e,t._id,r)})}var Ii=function(e){return atob(e)},jr=function(e){return btoa(e)};function li(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(y){if(y.name!=="TypeError")throw y;for(var r=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,i=new r,l=0;l<e.length;l+=1)i.append(e[l]);return i.getBlob(t.type)}}function Vs(e){for(var t=e.length,r=new ArrayBuffer(t),i=new Uint8Array(r),l=0;l<t;l++)i[l]=e.charCodeAt(l);return r}function Yn(e,t){return li([Vs(e)],{type:t})}function In(e,t){return Yn(Ii(e),t)}function dr(e){for(var t="",r=new Uint8Array(e),i=r.byteLength,l=0;l<i;l++)t+=String.fromCharCode(r[l]);return t}function Or(e,t){var r=new FileReader,i=typeof r.readAsBinaryString=="function";r.onloadend=function(l){var y=l.target.result||"";if(i)return t(y);t(dr(y))},i?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function fs(e,t){Or(e,function(r){t(r)})}function tr(e,t){fs(e,function(r){t(jr(r))})}function fi(e,t){var r=new FileReader;r.onloadend=function(i){var l=i.target.result||new ArrayBuffer(0);t(l)},r.readAsArrayBuffer(e)}var Ws=w.setImmediate||w.setTimeout,zs=32768;function qr(e){return jr(e)}function pr(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}function Ys(e,t,r,i,l){(r>0||i<t.size)&&(t=pr(t,r,i)),fi(t,function(y){e.append(y),l()})}function hs(e,t,r,i,l){(r>0||i<t.length)&&(t=t.substring(r,i)),e.appendBinary(t),l()}function Ri(e,t){var r=typeof e=="string",i=r?e.length:e.size,l=Math.min(zs,i),y=Math.ceil(i/l),E=0,T=r?new W:new W.ArrayBuffer,$=r?hs:Ys;function V(){Ws(S)}function re(){var B=T.end(!0),U=qr(B);t(U),T.destroy()}function S(){var B=E*l,U=B+l;E++,E<y?$(T,e,B,U,V):$(T,e,B,U,re)}S()}function ds(e){return W.hash(e)}function ps(e,t){var r=et(e);return t?(delete r._rev_tree,ds(JSON.stringify(r))):N.v4().replace(/-/g,"").toLowerCase()}var hi=N.v4;function nr(e){for(var t,r,i,l=e.rev_tree.slice(),y;y=l.pop();){var E=y.ids,T=E[2],$=y.pos;if(T.length){for(var V=0,re=T.length;V<re;V++)l.push({pos:$+1,ids:T[V]});continue}var S=!!E[1].deleted,B=E[0];(!t||(i!==S?i:r!==$?r<$:t<B))&&(t=B,r=$,i=S)}return r+"-"+t}function rr(e,t){for(var r=e.slice(),i;i=r.pop();)for(var l=i.pos,y=i.ids,E=y[2],T=t(E.length===0,l,y[0],i.ctx,y[1]),$=0,V=E.length;$<V;$++)r.push({pos:l+1,ids:E[$],ctx:T})}function Rn(e,t){return e.pos-t.pos}function Bi(e){var t=[];rr(e,function(l,y,E,T,$){l&&t.push({rev:y+"-"+E,pos:y,opts:$})}),t.sort(Rn).reverse();for(var r=0,i=t.length;r<i;r++)delete t[r].pos;return t}function Ur(e){for(var t=nr(e),r=Bi(e.rev_tree),i=[],l=0,y=r.length;l<y;l++){var E=r[l];E.rev!==t&&!E.opts.deleted&&i.push(E.rev)}return i}function Mi(e){var t=[];return rr(e.rev_tree,function(r,i,l,y,E){E.status==="available"&&!r&&(t.push(i+"-"+l),E.status="missing")}),t}function vs(e){for(var t=[],r=e.slice(),i;i=r.pop();){var l=i.pos,y=i.ids,E=y[0],T=y[1],$=y[2],V=$.length===0,re=i.history?i.history.slice():[];re.push({id:E,opts:T}),V&&t.push({pos:l+1-re.length,ids:re});for(var S=0,B=$.length;S<B;S++)r.push({pos:l+1,ids:$[S],history:re})}return t.reverse()}function ms(e,t){return e.pos-t.pos}function Qs(e,t,r){for(var i=0,l=e.length,y;i<l;)y=i+l>>>1,r(e[y],t)<0?i=y+1:l=y;return i}function Js(e,t,r){var i=Qs(e,t,r);e.splice(i,0,t)}function Hr(e,t){for(var r,i,l=t,y=e.length;l<y;l++){var E=e[l],T=[E.id,E.opts,[]];i?(i[2].push(T),i=T):r=i=T}return r}function Xs(e,t){return e[0]<t[0]?-1:1}function ji(e,t){for(var r=[{tree1:e,tree2:t}],i=!1;r.length>0;){var l=r.pop(),y=l.tree1,E=l.tree2;(y[1].status||E[1].status)&&(y[1].status=y[1].status==="available"||E[1].status==="available"?"available":"missing");for(var T=0;T<E[2].length;T++){if(!y[2][0]){i="new_leaf",y[2][0]=E[2][T];continue}for(var $=!1,V=0;V<y[2].length;V++)y[2][V][0]===E[2][T][0]&&(r.push({tree1:y[2][V],tree2:E[2][T]}),$=!0);$||(i="new_branch",Js(y[2],E[2][T],Xs))}}return{conflicts:i,tree:e}}function _s(e,t,r){var i=[],l=!1,y=!1,E;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var T=0,$=e.length;T<$;T++){var V=e[T];if(V.pos===t.pos&&V.ids[0]===t.ids[0])E=ji(V.ids,t.ids),i.push({pos:V.pos,ids:E.tree}),l=l||E.conflicts,y=!0;else if(r!==!0){var re=V.pos<t.pos?V:t,S=V.pos<t.pos?t:V,B=S.pos-re.pos,U=[],O=[];for(O.push({ids:re.ids,diff:B,parent:null,parentIdx:null});O.length>0;){var I=O.pop();if(I.diff===0){I.ids[0]===S.ids[0]&&U.push(I);continue}for(var J=I.ids[2],se=0,ee=J.length;se<ee;se++)O.push({ids:J[se],diff:I.diff-1,parent:I.ids,parentIdx:se})}var F=U[0];F?(E=ji(F.ids,S.ids),F.parent[2][F.parentIdx]=E.tree,i.push({pos:re.pos,ids:re.ids}),l=l||E.conflicts,y=!0):i.push(V)}else i.push(V)}return y||i.push(t),i.sort(ms),{tree:i,conflicts:l||"internal_node"}}function Fr(e,t){for(var r=vs(e),i,l,y=0,E=r.length;y<E;y++){var T=r[y],$=T.ids,V;if($.length>t){i||(i={});var re=$.length-t;V={pos:T.pos+re,ids:Hr($,re)};for(var S=0;S<re;S++){var B=T.pos+S+"-"+$[S].id;i[B]=!0}}else V={pos:T.pos,ids:Hr($,0)};l?l=_s(l,V,!0).tree:l=[V]}return i&&rr(l,function(U,O,I){delete i[O+"-"+I]}),{tree:l,revs:i?Object.keys(i):[]}}function qi(e,t,r){var i=_s(e,t),l=Fr(i.tree,r);return{tree:l.tree,stemmedRevs:l.revs,conflicts:i.conflicts}}function Zs(e,t){for(var r=e.slice(),i=t.split("-"),l=parseInt(i[0],10),y=i[1],E;E=r.pop();){if(E.pos===l&&E.ids[0]===y)return!0;for(var T=E.ids[2],$=0,V=T.length;$<V;$++)r.push({pos:E.pos+1,ids:T[$]})}return!1}function gs(e){return e.ids}function cn(e,t){t||(t=nr(e));for(var r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(gs),l;l=i.pop();){if(l[0]===r)return!!l[1].deleted;i=i.concat(l[2])}}function Fn(e){return/^_local/.test(e)}function Dn(e,t){for(var r=t.rev_tree.slice(),i;i=r.pop();){var l=i.pos,y=i.ids,E=y[0],T=y[1],$=y[2],V=$.length===0,re=i.history?i.history.slice():[];if(re.push({id:E,pos:l,opts:T}),V)for(var S=0,B=re.length;S<B;S++){var U=re[S],O=U.pos+"-"+U.id;if(O===e)return l+"-"+E}for(var I=0,J=$.length;I<J;I++)r.push({pos:l+1,ids:$[I],history:re})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}ve(Dr,ue.EventEmitter);function Ui(e,t,r,i){try{e.emit("change",t,r,i)}catch(l){An("error",'Error in .on("change", function):',l)}}function Dr(e,t,r){ue.EventEmitter.call(this);var i=this;this.db=e,t=t?et(t):{};var l=t.complete=q(function(T,$){T?Ks(i,"error")>0&&i.emit("error",T):i.emit("complete",$),i.removeAllListeners(),e.removeListener("destroyed",y)});r&&(i.on("complete",function(T){r(null,T)}),i.on("error",r));function y(){i.cancel()}e.once("destroyed",y),t.onChange=function(T,$,V){i.isCancelled||Ui(i,T,$,V)};var E=new Promise(function(T,$){t.complete=function(V,re){V?$(V):T(re)}});i.once("cancel",function(){e.removeListener("destroyed",y),t.complete(null,{status:"cancelled"})}),this.then=E.then.bind(E),this.catch=E.catch.bind(E),this.then(function(T){l(null,T)},l),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask(function(T){T?t.complete(T):i.isCancelled?i.emit("cancel"):i.validateChanges(t)})}Dr.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")};function Kr(e,t,r){var i=[{rev:e._rev}];r.style==="all_docs"&&(i=Bi(t.rev_tree).map(function(y){return{rev:y.rev}}));var l={id:t.id,changes:i,doc:e};return cn(t,e._rev)&&(l.deleted=!0),r.conflicts&&(l.doc._conflicts=Ur(t),l.doc._conflicts.length||delete l.doc._conflicts),l}Dr.prototype.validateChanges=function(e){var t=e.complete,r=this;at._changesFilterPlugin?at._changesFilterPlugin.validate(e,function(i){if(i)return t(i);r.doChanges(e)}):r.doChanges(e)},Dr.prototype.doChanges=function(e){var t=this,r=e.complete;if(e=et(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Kr,e.since==="latest"&&(e.since="now"),e.since||(e.since=0),e.since==="now"){this.db.info().then(function(y){if(t.isCancelled){r(null,{status:"cancelled"});return}e.since=y.update_seq,t.doChanges(e)},r);return}if(at._changesFilterPlugin){if(at._changesFilterPlugin.normalize(e),at._changesFilterPlugin.shouldFilter(this,e))return at._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(y){y in e&&An("warn",'The "'+y+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=e.limit===0?1:e.limit,e.complete=r;var i=this.db._changes(e);if(i&&typeof i.cancel=="function"){var l=t.cancel;t.cancel=ge(function(y){i.cancel(),l.apply(this,y)})}};function di(e,t){return e<t?-1:e>t?1:0}function Nr(e,t){return function(r,i){r||i[0]&&i[0].error?(r=r||i[0],r.docId=t,e(r)):e(null,i.length?i[0]:i)}}function Hi(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var i=Object.keys(r._attachments),l=0;l<i.length;l++){var y=i[l];r._attachments[y]=he(r._attachments[y],["data","digest","content_type","length","revpos","stub"])}}}function ys(e,t){var r=di(e._id,t._id);if(r!==0)return r;var i=e._revisions?e._revisions.start:0,l=t._revisions?t._revisions.start:0;return di(i,l)}function ws(e){var t={},r=[];return rr(e,function(i,l,y,E){var T=l+"-"+y;return i&&(t[T]=0),E!==void 0&&r.push({from:E,to:T}),T}),r.reverse(),r.forEach(function(i){t[i.from]===void 0?t[i.from]=1+t[i.to]:t[i.from]=Math.min(t[i.from],1+t[i.to])}),t}function bs(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function pi(e){var t=e._compactionQueue[0],r=t.opts,i=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(l){l&&l.last_seq&&(r.last_seq=l.last_seq),e._compact(r,function(y,E){y?i(y):i(null,E),h(function(){e._compactionQueue.shift(),e._compactionQueue.length&&pi(e)})})})}function eo(e){return e.charAt(0)==="_"?e+" is not a valid attachment name, attachment names cannot start with '_'":!1}ve(Tt,ue.EventEmitter);function Tt(){ue.EventEmitter.call(this);for(var e in Tt.prototype)typeof this[e]=="function"&&(this[e]=this[e].bind(this))}Tt.prototype.post=Q("post",function(e,t,r){if(typeof t=="function"&&(r=t,t={}),typeof e!="object"||Array.isArray(e))return r(Qe($i));this.bulkDocs({docs:[e]},t,Nr(r,e._id))}),Tt.prototype.put=Q("put",function(e,t,r){if(typeof t=="function"&&(r=t,t={}),typeof e!="object"||Array.isArray(e))return r(Qe($i));if(xi(e._id),Fn(e._id)&&typeof this._putLocal=="function")return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var i=this;t.force&&e._rev?(l(),y(function(E){var T=E?null:{ok:!0,id:e._id,rev:e._rev};r(E,T)})):y(r);function l(){var E=e._rev.split("-"),T=E[1],$=parseInt(E[0],10),V=$+1,re=ps();e._revisions={start:V,ids:[re,T]},e._rev=V+"-"+re,t.new_edits=!1}function y(E){typeof i._put=="function"&&t.new_edits!==!1?i._put(e,t,E):i.bulkDocs({docs:[e]},t,Nr(E,e._id))}}),Tt.prototype.putAttachment=Q("putAttachment",function(e,t,r,i,l){var y=this;typeof l=="function"&&(l=i,i=r,r=null),typeof l=="undefined"&&(l=i,i=r,r=null),l||An("warn","Attachment",t,"on document",e,"is missing content_type");function E(T){var $="_rev"in T?parseInt(T._rev,10):0;return T._attachments=T._attachments||{},T._attachments[t]={content_type:l,data:i,revpos:++$},y.put(T)}return y.get(e).then(function(T){if(T._rev!==r)throw Qe(Cr);return E(T)},function(T){if(T.reason===Gt.message)return E({_id:e});throw T})}),Tt.prototype.removeAttachment=Q("removeAttachment",function(e,t,r,i){var l=this;l.get(e,function(y,E){if(y){i(y);return}if(E._rev!==r){i(Qe(Cr));return}if(!E._attachments)return i();delete E._attachments[t],Object.keys(E._attachments).length===0&&delete E._attachments,l.put(E,i)})}),Tt.prototype.remove=Q("remove",function(e,t,r,i){var l;typeof t=="string"?(l={_id:e,_rev:t},typeof r=="function"&&(i=r,r={})):(l=e,typeof t=="function"?(i=t,r={}):(i=r,r=t)),r=r||{},r.was_delete=!0;var y={_id:l._id,_rev:l._rev||r.rev};if(y._deleted=!0,Fn(y._id)&&typeof this._removeLocal=="function")return this._removeLocal(l,i);this.bulkDocs({docs:[y]},r,Nr(i,y._id))}),Tt.prototype.revsDiff=Q("revsDiff",function(e,t,r){typeof t=="function"&&(r=t,t={});var i=Object.keys(e);if(!i.length)return r(null,{});var l=0,y=new m;function E($,V){y.has($)||y.set($,{missing:[]}),y.get($).missing.push(V)}function T($,V){var re=e[$].slice(0);rr(V,function(S,B,U,O,I){var J=B+"-"+U,se=re.indexOf(J);se!==-1&&(re.splice(se,1),I.status!=="available"&&E($,J))}),re.forEach(function(S){E($,S)})}i.map(function($){this._getRevisionTree($,function(V,re){if(V&&V.status===404&&V.message==="missing")y.set($,{missing:e[$]});else{if(V)return r(V);T($,re)}if(++l===i.length){var S={};return y.forEach(function(B,U){S[U]=B}),r(null,S)}})},this)}),Tt.prototype.bulkGet=Q("bulkGet",function(e,t){Ht(this,e,t)}),Tt.prototype.compactDocument=Q("compactDocument",function(e,t,r){var i=this;this._getRevisionTree(e,function(l,y){if(l)return r(l);var E=ws(y),T=[],$=[];Object.keys(E).forEach(function(V){E[V]>t&&T.push(V)}),rr(y,function(V,re,S,B,U){var O=re+"-"+S;U.status==="available"&&T.indexOf(O)!==-1&&$.push(O)}),i._doCompaction(e,$,r)})}),Tt.prototype.compact=Q("compact",function(e,t){typeof e=="function"&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),r._compactionQueue.length===1&&pi(r)}),Tt.prototype._compact=function(e,t){var r=this,i={return_docs:!1,last_seq:e.last_seq||0},l=[];function y(T){l.push(r.compactDocument(T.id,0))}function E(T){var $=T.last_seq;Promise.all(l).then(function(){return bn(r,"_local/compaction",function(re){return!re.last_seq||re.last_seq<$?(re.last_seq=$,re):!1})}).then(function(){t(null,{ok:!0})}).catch(t)}r.changes(i).on("change",y).on("complete",E).on("error",t)},Tt.prototype.get=Q("get",function(e,t,r){if(typeof t=="function"&&(r=t,t={}),typeof e!="string")return r(Qe(Tn));if(Fn(e)&&typeof this._getLocal=="function")return this._getLocal(e,r);var i=[],l=this;function y(){var $=[],V=i.length;if(!V)return r(null,$);i.forEach(function(re){l.get(e,{rev:re,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(S,B){if(S)$.push({missing:re});else{for(var U,O=0,I=$.length;O<I;O++)if($[O].ok&&$[O].ok._rev===B._rev){U=!0;break}U||$.push({ok:B})}V--,V||r(null,$)})})}if(t.open_revs){if(t.open_revs==="all")this._getRevisionTree(e,function($,V){if($)return r($);i=Bi(V).map(function(re){return re.rev}),y()});else if(Array.isArray(t.open_revs)){i=t.open_revs;for(var E=0;E<i.length;E++){var T=i[E];if(!(typeof T=="string"&&/^\d+-/.test(T)))return r(Qe(wn))}y()}else return r(Qe(ri,"function_clause"));return}return this._get(e,t,function($,V){if($)return $.docId=e,r($);var re=V.doc,S=V.metadata,B=V.ctx;if(t.conflicts){var U=Ur(S);U.length&&(re._conflicts=U)}if(cn(S,re._rev)&&(re._deleted=!0),t.revs||t.revs_info){for(var O=re._rev.split("-"),I=parseInt(O[0],10),J=O[1],se=vs(S.rev_tree),ee=null,F=0;F<se.length;F++){var me=se[F],_e=me.ids.map(function(ut){return ut.id}).indexOf(J),Pe=_e===I-1;(Pe||!ee&&_e!==-1)&&(ee=me)}if(!ee)return $=new Error("invalid rev tree"),$.docId=e,r($);var Ce=ee.ids.map(function(ut){return ut.id}).indexOf(re._rev.split("-")[1])+1,je=ee.ids.length-Ce;if(ee.ids.splice(Ce,je),ee.ids.reverse(),t.revs&&(re._revisions={start:ee.pos+ee.ids.length-1,ids:ee.ids.map(function(ut){return ut.id})}),t.revs_info){var Ge=ee.pos+ee.ids.length;re._revs_info=ee.ids.map(function(ut){return Ge--,{rev:Ge+"-"+ut.id,status:ut.opts.status}})}}if(t.attachments&&re._attachments){var Be=re._attachments,nt=Object.keys(Be).length;if(nt===0)return r(null,re);Object.keys(Be).forEach(function(ut){this._getAttachment(re._id,ut,Be[ut],{rev:re._rev,binary:t.binary,ctx:B},function(rt,Ye){var _t=re._attachments[ut];_t.data=Ye,delete _t.stub,delete _t.length,--nt||r(null,re)})},l)}else{if(re._attachments)for(var Je in re._attachments)re._attachments.hasOwnProperty(Je)&&(re._attachments[Je].stub=!0);r(null,re)}})}),Tt.prototype.getAttachment=Q("getAttachment",function(e,t,r,i){var l=this;r instanceof Function&&(i=r,r={}),this._get(e,r,function(y,E){if(y)return i(y);if(E.doc._attachments&&E.doc._attachments[t])r.ctx=E.ctx,r.binary=!0,l._getAttachment(e,t,E.doc._attachments[t],r,i);else return i(Qe(Gt))})}),Tt.prototype.allDocs=Q("allDocs",function(e,t){if(typeof e=="function"&&(t=e,e={}),e.skip=typeof e.skip!="undefined"?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(i){return i in e})[0];if(r){t(Qe(Fs,"Query parameter `"+r+"` is not compatible with multi-get"));return}if(!On(this)&&(bs(e),e.keys.length===0))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),Tt.prototype.changes=function(e,t){return typeof e=="function"&&(t=e,e={}),e=e||{},e.return_docs="return_docs"in e?e.return_docs:!e.live,new Dr(this,e,t)},Tt.prototype.close=Q("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Tt.prototype.info=Q("info",function(e){var t=this;this._info(function(r,i){if(r)return e(r);i.db_name=i.db_name||t.name,i.auto_compaction=!!(t.auto_compaction&&!On(t)),i.adapter=t.adapter,e(null,i)})}),Tt.prototype.id=Q("id",function(e){return this._id(e)}),Tt.prototype.type=function(){return typeof this._type=="function"?this._type():this.adapter},Tt.prototype.bulkDocs=Q("bulkDocs",function(e,t,r){if(typeof t=="function"&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(Qe(zn));for(var i=0;i<e.docs.length;++i)if(typeof e.docs[i]!="object"||Array.isArray(e.docs[i]))return r(Qe($i));var l;if(e.docs.forEach(function(T){T._attachments&&Object.keys(T._attachments).forEach(function($){l=l||eo($),T._attachments[$].content_type||An("warn","Attachment",$,"on document",T._id,"is missing content_type")})}),l)return r(Qe(er,l));"new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0);var y=this;!t.new_edits&&!On(y)&&e.docs.sort(ys),Hi(e.docs);var E=e.docs.map(function(T){return T._id});return this._bulkDocs(e,t,function(T,$){if(T)return r(T);if(t.new_edits||($=$.filter(function(S){return S.error})),!On(y))for(var V=0,re=$.length;V<re;V++)$[V].id=$[V].id||E[V];r(null,$)})}),Tt.prototype.registerDependentDatabase=Q("registerDependentDatabase",function(e,t){var r=new this.constructor(e,this.__opts);function i(l){return l.dependentDbs=l.dependentDbs||{},l.dependentDbs[e]?!1:(l.dependentDbs[e]=!0,l)}bn(this,"_local/_pouch_dependentDbs",i).then(function(){t(null,{db:r})}).catch(t)}),Tt.prototype.destroy=Q("destroy",function(e,t){typeof e=="function"&&(t=e,e={});var r=this,i="use_prefix"in r?r.use_prefix:!0;function l(){r._destroy(e,function(y,E){if(y)return t(y);r._destroyed=!0,r.emit("destroyed"),t(null,E||{ok:!0})})}if(On(r))return l();r.get("_local/_pouch_dependentDbs",function(y,E){if(y)return y.status!==404?t(y):l();var T=E.dependentDbs,$=r.constructor,V=Object.keys(T).map(function(re){var S=i?re.replace(new RegExp("^"+$.prefix),""):re;return new $(S,r.__opts).destroy()});Promise.all(V).then(l,t)})});function Qn(){this.isReady=!1,this.failed=!1,this.queue=[]}Qn.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Qn.prototype.fail=function(e){this.failed=e,this.execute()},Qn.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Qn.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()};function vi(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var i=at.adapters,l=at.preferredAdapters,y=at.prefix,E=t.adapter;if(!E)for(var T=0;T<l.length;++T){if(E=l[T],E==="idb"&&"websql"in i&&Ft()&&localStorage["_pouch__websqldb_"+y+e]){An("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var $=i[E],V=$&&"use_prefix"in $?$.use_prefix:!0;return{name:V?y+e:e,adapter:E}}function mi(e){function t(i){e.removeListener("closed",r),i||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}ve(at,Tt);function at(e,t){if(!(this instanceof at))return new at(e,t);var r=this;if(t=t||{},e&&typeof e=="object"&&(t=e,e=t.name,delete t.name),t.deterministic_revs===void 0&&(t.deterministic_revs=!0),this.__opts=t=et(t),r.auto_compaction=t.auto_compaction,r.prefix=at.prefix,typeof e!="string")throw new Error("Missing/invalid DB name");var i=(t.prefix||"")+e,l=vi(i,t);if(t.name=l.name,t.adapter=t.adapter||l.adapter,r.name=e,r._adapter=t.adapter,at.emit("debug",["adapter","Picked adapter: ",t.adapter]),!at.adapters[t.adapter]||!at.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Tt.call(r),r.taskqueue=new Qn,r.adapter=t.adapter,at.adapters[t.adapter].call(r,t,function(y){if(y)return r.taskqueue.fail(y);mi(r),r.emit("created",r),at.emit("created",r.name),r.taskqueue.ready(r)})}var to=typeof AbortController!="undefined"?AbortController:function(){return{abort:function(){}}},Es=fetch,Kn=Headers;at.adapters={},at.preferredAdapters=[],at.prefix="_pouch_";var Bn=new ue.EventEmitter;function Sn(e){Object.keys(ue.EventEmitter.prototype).forEach(function(r){typeof ue.EventEmitter.prototype[r]=="function"&&(e[r]=Bn[r].bind(Bn))});var t=e._destructionListeners=new m;e.on("ref",function(i){t.has(i.name)||t.set(i.name,[]),t.get(i.name).push(i)}),e.on("unref",function(i){if(!!t.has(i.name)){var l=t.get(i.name),y=l.indexOf(i);y<0||(l.splice(y,1),l.length>1?t.set(i.name,l):t.delete(i.name))}}),e.on("destroyed",function(i){if(!!t.has(i)){var l=t.get(i);t.delete(i),l.forEach(function(y){y.emit("destroyed",!0)})}})}Sn(at),at.adapter=function(e,t,r){t.valid()&&(at.adapters[e]=t,r&&at.preferredAdapters.push(e))},at.plugin=function(e){if(typeof e=="function")e(at);else{if(typeof e!="object"||Object.keys(e).length===0)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){at.prototype[t]=e[t]})}return this.__defaults&&(at.__defaults=Zn({},this.__defaults)),at},at.defaults=function(e){function t(r,i){if(!(this instanceof t))return new t(r,i);i=i||{},r&&typeof r=="object"&&(i=r,r=i.name,delete i.name),i=Zn({},t.__defaults,i),at.call(this,r,i)}return ve(t,at),t.preferredAdapters=at.preferredAdapters.slice(),Object.keys(at).forEach(function(r){r in t||(t[r]=at[r])}),t.__defaults=Zn({},this.__defaults,e),t},at.fetch=function(e,t){return Es(e,t)};var Nn="7.2.1";function Cn(e,t){for(var r=e,i=0,l=t.length;i<l;i++){var y=t[i];if(r=r[y],!r)break}return r}function pn(e,t){return e<t?-1:e>t?1:0}function Gr(e){for(var t=[],r="",i=0,l=e.length;i<l;i++){var y=e[i];y==="."?i>0&&e[i-1]==="\\"?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=y}return t.push(r),t}var $r=["$or","$nor","$not"];function Jn(e){return $r.indexOf(e)>-1}function Vr(e){return Object.keys(e)[0]}function As(e){return e[Vr(e)]}function vr(e){var t={};return e.forEach(function(r){Object.keys(r).forEach(function(i){var l=r[i];if(typeof l!="object"&&(l={$eq:l}),Jn(i))l instanceof Array?t[i]=l.map(function(E){return vr([E])}):t[i]=vr([l]);else{var y=t[i]=t[i]||{};Object.keys(l).forEach(function(E){var T=l[E];if(E==="$gt"||E==="$gte")return Lr(E,T,y);if(E==="$lt"||E==="$lte")return Ss(E,T,y);if(E==="$ne")return Fi(T,y);if(E==="$eq")return Ki(T,y);y[E]=T})}})}),t}function Lr(e,t,r){typeof r.$eq=="undefined"&&(typeof r.$gte!="undefined"?e==="$gte"?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):typeof r.$gt!="undefined"?e==="$gte"?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function Ss(e,t,r){typeof r.$eq=="undefined"&&(typeof r.$lte!="undefined"?e==="$lte"?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):typeof r.$lt!="undefined"?e==="$lte"?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function Fi(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function Ki(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function Gi(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=vr(e[r].$and));var i=e[t];typeof i=="object"&&Gi(i)}return e}function _i(e,t){for(var r in e){r==="$and"&&(t=!0);var i=e[r];typeof i=="object"&&(t=_i(i,t))}return t}function Wr(e){var t=et(e),r=!1;_i(t,!1)&&(t=Gi(t),"$and"in t&&(t=vr(t.$and)),r=!0),["$or","$nor"].forEach(function(T){T in t&&t[T].forEach(function($){for(var V=Object.keys($),re=0;re<V.length;re++){var S=V[re],B=$[S];(typeof B!="object"||B===null)&&($[S]={$eq:B})}})}),"$not"in t&&(t.$not=vr([t.$not]));for(var i=Object.keys(t),l=0;l<i.length;l++){var y=i[l],E=t[y];typeof E!="object"||E===null?E={$eq:E}:"$ne"in E&&!r&&(E.$ne=[E.$ne]),t[y]=E}return t}function gi(e,t,r){for(var i="",l=r-e.length;i.length<l;)i+=t;return i}function Cs(e,t,r){var i=gi(e,t,r);return i+e}var Vi=-324,yi=3,zr="";function en(e,t){if(e===t)return 0;e=ir(e),t=ir(t);var r=Ln(e),i=Ln(t);if(r-i!=0)return r-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return ro(e,t)}return Array.isArray(e)?no(e,t):Wi(e,t)}function ir(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var i=0;i<r;i++)e[i]=ir(t[i])}else{if(e instanceof Date)return e.toJSON();if(e!==null){e={};for(var l in t)if(t.hasOwnProperty(l)){var y=t[l];typeof y!="undefined"&&(e[l]=ir(y))}}}}return e}function Gn(e){if(e!==null)switch(typeof e){case"boolean":return e?1:0;case"number":return kr(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),i=-1,l=r.length,y="";if(t)for(;++i<l;)y+=Wt(r[i]);else for(;++i<l;){var E=r[i];y+=Wt(E)+Wt(e[E])}return y}return""}function Wt(e){var t="\0";return e=ir(e),Ln(e)+zr+Gn(e)+t}function Yr(e,t){var r=t,i,l=e[t]==="1";if(l)i=0,t++;else{var y=e[t]==="0";t++;var E="",T=e.substring(t,t+yi),$=parseInt(T,10)+Vi;for(y&&($=-$),t+=yi;;){var V=e[t];if(V==="\0")break;E+=V,t++}E=E.split("."),E.length===1?i=parseInt(E,10):i=parseFloat(E[0]+"."+E[1]),y&&(i=i-10),$!==0&&(i=parseFloat(i+"e"+$))}return{num:i,length:t-r}}function $n(e,t){var r=e.pop();if(t.length){var i=t[t.length-1];r===i.element&&(t.pop(),i=t[t.length-1]);var l=i.element,y=i.index;if(Array.isArray(l))l.push(r);else if(y===e.length-2){var E=e.pop();l[E]=r}else e.push(r)}}function Ts(e){for(var t=[],r=[],i=0;;){var l=e[i++];if(l==="\0"){if(t.length===1)return t.pop();$n(t,r);continue}switch(l){case"1":t.push(null);break;case"2":t.push(e[i]==="1"),i++;break;case"3":var y=Yr(e,i);t.push(y.num),i+=y.length;break;case"4":for(var E="";;){var T=e[i];if(T==="\0")break;E+=T,i++}E=E.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(E);break;case"5":var $={element:[],index:t.length};t.push($.element),r.push($);break;case"6":var V={element:{},index:t.length};t.push(V.element),r.push(V);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+l)}}}function no(e,t){for(var r=Math.min(e.length,t.length),i=0;i<r;i++){var l=en(e[i],t[i]);if(l!==0)return l}return e.length===t.length?0:e.length>t.length?1:-1}function ro(e,t){return e===t?0:e>t?1:-1}function Wi(e,t){for(var r=Object.keys(e),i=Object.keys(t),l=Math.min(r.length,i.length),y=0;y<l;y++){var E=en(r[y],i[y]);if(E!==0||(E=en(e[r[y]],t[i[y]]),E!==0))return E}return r.length===i.length?0:r.length>i.length?1:-1}function Ln(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);if(~r)return e===null?1:Array.isArray(e)?5:r<3?r+2:r+3;if(Array.isArray(e))return 5}function kr(e){if(e===0)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),i=e<0,l=i?"0":"2",y=(i?-r:r)-Vi,E=Cs(y.toString(),"0",yi);l+=zr+E;var T=Math.abs(parseFloat(t[0]));i&&(T=10-T);var $=T.toFixed(20);return $=$.replace(/\.?0+$/,""),l+=zr+$,l}function zi(e){function t(r){return e.map(function(i){var l=Vr(i),y=Gr(l),E=Cn(r,y);return E})}return function(r,i){var l=t(r.doc),y=t(i.doc),E=en(l,y);return E!==0?E:pn(r.doc._id,i.doc._id)}}function Os(e,t,r){if(e=e.filter(function(E){return En(E.doc,t.selector,r)}),t.sort){var i=zi(t.sort);e=e.sort(i),typeof t.sort[0]!="string"&&As(t.sort[0])==="desc"&&(e=e.reverse())}if("limit"in t||"skip"in t){var l=t.skip||0,y=("limit"in t?t.limit:e.length)+l;e=e.slice(l,y)}return e}function En(e,t,r){return r.every(function(i){var l=t[i],y=Gr(i),E=Cn(e,y);return Jn(i)?sr(i,l,e):Yi(l,e,y,E)})}function Yi(e,t,r,i){return e?typeof e=="object"?Object.keys(e).every(function(l){var y=e[l];return wi(l,t,y,r,i)}):e===i:!0}function sr(e,t,r){return e==="$or"?t.some(function(i){return En(r,i,Object.keys(i))}):e==="$not"?!En(r,t,Object.keys(t)):!t.find(function(i){return En(r,i,Object.keys(i))})}function wi(e,t,r,i,l){if(!Qi[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Qi[e](t,r,i,l)}function xr(e){return typeof e!="undefined"&&e!==null}function mr(e){return typeof e!="undefined"}function Pr(e,t){var r=t[0],i=t[1];if(r===0)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(i,10)!==i)throw new Error("Modulus is not an integer");return parseInt(e,10)!==e?!1:e%r===i}function bi(e,t){return t.some(function(r){return e instanceof Array?e.indexOf(r)>-1:e===r})}function or(e,t){return t.every(function(r){return e.indexOf(r)>-1})}function Qr(e,t){return e.length===t}function Ei(e,t){var r=new RegExp(t);return r.test(e)}function Ai(e,t){switch(t){case"null":return e===null;case"boolean":return typeof e=="boolean";case"number":return typeof e=="number";case"string":return typeof e=="string";case"array":return e instanceof Array;case"object":return{}.toString.call(e)==="[object Object]"}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var Qi={$elemMatch:function(e,t,r,i){return!Array.isArray(i)||i.length===0?!1:typeof i[0]=="object"?i.some(function(l){return En(l,t,Object.keys(t))}):i.some(function(l){return Yi(t,e,r,l)})},$allMatch:function(e,t,r,i){return!Array.isArray(i)||i.length===0?!1:typeof i[0]=="object"?i.every(function(l){return En(l,t,Object.keys(t))}):i.every(function(l){return Yi(t,e,r,l)})},$eq:function(e,t,r,i){return mr(i)&&en(i,t)===0},$gte:function(e,t,r,i){return mr(i)&&en(i,t)>=0},$gt:function(e,t,r,i){return mr(i)&&en(i,t)>0},$lte:function(e,t,r,i){return mr(i)&&en(i,t)<=0},$lt:function(e,t,r,i){return mr(i)&&en(i,t)<0},$exists:function(e,t,r,i){return t?mr(i):!mr(i)},$mod:function(e,t,r,i){return xr(i)&&Pr(i,t)},$ne:function(e,t,r,i){return t.every(function(l){return en(i,l)!==0})},$in:function(e,t,r,i){return xr(i)&&bi(i,t)},$nin:function(e,t,r,i){return xr(i)&&!bi(i,t)},$size:function(e,t,r,i){return xr(i)&&Qr(i,t)},$all:function(e,t,r,i){return Array.isArray(i)&&or(i,t)},$regex:function(e,t,r,i){return xr(i)&&Ei(i,t)},$type:function(e,t,r,i){return Ai(i,t)}};function Ds(e,t){if(typeof t!="object")throw new Error("Selector error: expected a JSON object");t=Wr(t);var r={doc:e},i=Os([r],{selector:t},Object.keys(t));return i&&i.length===1}function _r(e){return ci(`"use strict";
return `+e+";",{})}function s(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return ci(t,{})}function a(e,t){if(e.selector&&e.filter&&e.filter!=="_selector"){var r=typeof e.filter=="string"?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function p(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&typeof e.filter=="string"&&(e.filter==="_view"?e.view=Pi(e.view):e.filter=Pi(e.filter))}function b(e,t){return t.filter&&typeof t.filter=="string"&&!t.doc_ids&&!On(e.db)}function x(e,t){var r=t.complete;if(t.filter==="_view"){if(!t.view||typeof t.view!="string"){var i=Qe(er,"`view` filter parameter not found or invalid.");return r(i)}var l=hr(t.view);e.db.get("_design/"+l[0],function(E,T){if(e.isCancelled)return r(null,{status:"cancelled"});if(E)return r(Tr(E));var $=T&&T.views&&T.views[l[1]]&&T.views[l[1]].map;if(!$)return r(Qe(Gt,T.views?"missing json key: "+l[1]:"missing json key: views"));t.filter=s($),e.doChanges(t)})}else if(t.selector)t.filter=function(E){return Ds(E,t.selector)},e.doChanges(t);else{var y=hr(t.filter);e.db.get("_design/"+y[0],function(E,T){if(e.isCancelled)return r(null,{status:"cancelled"});if(E)return r(Tr(E));var $=T&&T.filters&&T.filters[y[1]];if(!$)return r(Qe(Gt,T&&T.filters?"missing json key: "+y[1]:"missing json key: filters"));t.filter=_r($),e.doChanges(t)})}}function X(e){e._changesFilterPlugin={validate:a,normalize:p,shouldFilter:b,filter:x}}at.plugin(X),at.version=Nn;function ne(e){return e.reduce(function(t,r){return t[r]=!0,t},{})}var Oe=ne(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Me=ne(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Ve(e){if(!/^\d+-/.test(e))return Qe(wn);var t=e.indexOf("-"),r=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(r,10),id:i}}function It(e,t){for(var r=e.start-e.ids.length+1,i=e.ids,l=[i[0],t,[]],y=1,E=i.length;y<E;y++)l=[i[y],{status:"missing"},[l]];return[{pos:r,ids:l}]}function tt(e,t,r){r||(r={deterministic_revs:!0});var i,l,y,E={status:"available"};if(e._deleted&&(E.deleted=!0),t)if(e._id||(e._id=hi()),l=ps(e,r.deterministic_revs),e._rev){if(y=Ve(e._rev),y.error)return y;e._rev_tree=[{pos:y.prefix,ids:[y.id,{status:"missing"},[[l,E,[]]]]}],i=y.prefix+1}else e._rev_tree=[{pos:1,ids:[l,E,[]]}],i=1;else if(e._revisions&&(e._rev_tree=It(e._revisions,E),i=e._revisions.start,l=e._revisions.ids[0]),!e._rev_tree){if(y=Ve(e._rev),y.error)return y;i=y.prefix,l=y.id,e._rev_tree=[{pos:i,ids:[l,E,[]]}]}xi(e._id),e._rev=i+"-"+l;var T={metadata:{},data:{}};for(var $ in e)if(Object.prototype.hasOwnProperty.call(e,$)){var V=$[0]==="_";if(V&&!Oe[$]){var re=Qe(si,$);throw re.message=si.message+": "+$,re}else V&&!Me[$]?T.metadata[$.slice(1)]=e[$]:T.data[$]=e[$]}return T}function St(e){try{return Ii(e)}catch{var t=Qe(ii,"Attachment is not a valid base64 string");return{error:t}}}function sn(e,t,r){var i=St(e.data);if(i.error)return r(i.error);e.length=i.length,t==="blob"?e.data=Yn(i,e.content_type):t==="base64"?e.data=jr(i):e.data=i,Ri(i,function(l){e.digest="md5-"+l,r()})}function vn(e,t,r){Ri(e.data,function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,t==="binary"?fs(e.data,function(l){e.data=l,r()}):t==="base64"?tr(e.data,function(l){e.data=l,r()}):r()})}function mn(e,t,r){if(e.stub)return r();typeof e.data=="string"?sn(e,t,r):vn(e,t,r)}function gr(e,t,r){if(!e.length)return r();var i=0,l;e.forEach(function(E){var T=E.data&&E.data._attachments?Object.keys(E.data._attachments):[],$=0;if(!T.length)return y();function V(S){l=S,$++,$===T.length&&y()}for(var re in E.data._attachments)E.data._attachments.hasOwnProperty(re)&&mn(E.data._attachments[re],t,V)});function y(){i++,e.length===i&&(l?r(l):r())}}function yr(e,t,r,i,l,y,E,T){if(Zs(t.rev_tree,r.metadata.rev)&&!T)return i[l]=r,y();var $=t.winningRev||nr(t),V="deleted"in t?t.deleted:cn(t,$),re="deleted"in r.metadata?r.metadata.deleted:cn(r.metadata),S=/^1-/.test(r.metadata.rev);if(V&&!re&&T&&S){var B=r.data;B._rev=$,B._id=r.metadata.id,r=tt(B,T)}var U=qi(t.rev_tree,r.metadata.rev_tree[0],e),O=T&&(V&&re&&U.conflicts!=="new_leaf"||!V&&U.conflicts!=="new_leaf"||V&&!re&&U.conflicts==="new_branch");if(O){var I=Qe(Cr);return i[l]=I,y()}var J=r.metadata.rev;r.metadata.rev_tree=U.tree,r.stemmedRevs=U.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var se=nr(r.metadata),ee=cn(r.metadata,se),F=V===ee?0:V<ee?-1:1,me;J===se?me=ee:me=cn(r.metadata,J),E(r,se,ee,me,!0,F,l,y)}function Si(e){return e.metadata.rev_tree[0].ids[1].status==="missing"}function ln(e,t,r,i,l,y,E,T,$){e=e||1e3;function V(I,J,se){var ee=nr(I.metadata),F=cn(I.metadata,ee);if("was_delete"in T&&F)return y[J]=Qe(Gt,"deleted"),se();var me=re&&Si(I);if(me){var _e=Qe(Cr);return y[J]=_e,se()}var Pe=F?0:1;E(I,ee,F,F,!1,Pe,J,se)}var re=T.new_edits,S=new m,B=0,U=t.length;function O(){++B===U&&$&&$()}t.forEach(function(I,J){if(I._id&&Fn(I._id)){var se=I._deleted?"_removeLocal":"_putLocal";r[se](I,{ctx:l},function(F,me){y[J]=F||me,O()});return}var ee=I.metadata.id;S.has(ee)?(U--,S.get(ee).push([I,J])):S.set(ee,[[I,J]])}),S.forEach(function(I,J){var se=0;function ee(){++se<I.length?F():O()}function F(){var me=I[se],_e=me[0],Pe=me[1];if(i.has(J))yr(e,i.get(J),_e,y,Pe,ee,E,re);else{var Ce=qi([],_e.metadata.rev_tree[0],e);_e.metadata.rev_tree=Ce.tree,_e.stemmedRevs=Ce.stemmedRevs||[],V(_e,Pe,ee)}}F()})}var wr=5,qt="document-store",Mt="by-sequence",tn="attach-store",Mn="attach-seq-store",rn="meta-store",kn="local-store",Ji="detect-blob-support";function Jr(e){try{return JSON.parse(e)}catch{return te.parse(e)}}function Ns(e){try{return JSON.stringify(e)}catch{return te.stringify(e)}}function _n(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(Qe(oi,r,t.type))}}function Xi(e,t,r){return{data:Ns(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function br(e){if(!e)return null;var t=Jr(e.data);return t.winningRev=e.winningRev,t.deleted=e.deletedOrLocal==="1",t.seq=e.seq,t}function ce(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function fe(e,t,r,i){r?i(e?typeof e!="string"?e:In(e,t):li([""],{type:t})):e?typeof e!="string"?Or(e,function(l){i(jr(l))}):i(e):i("")}function we(e,t,r,i){var l=Object.keys(e._attachments||{});if(!l.length)return i&&i();var y=0;function E(){++y===l.length&&i&&i()}function T($,V){var re=$._attachments[V],S=re.digest,B=r.objectStore(tn).get(S);B.onsuccess=function(U){re.body=U.target.result.body,E()}}l.forEach(function($){t.attachments&&t.include_docs?T(e,$):(e._attachments[$].stub=!0,E())})}function Re(e,t){return Promise.all(e.map(function(r){if(r.doc&&r.doc._attachments){var i=Object.keys(r.doc._attachments);return Promise.all(i.map(function(l){var y=r.doc._attachments[l];if("body"in y){var E=y.body,T=y.content_type;return new Promise(function($){fe(E,T,t,function(V){r.doc._attachments[l]=Zn(he(y,["digest","content_type"]),{data:V}),$()})})}}))}}))}function Xe(e,t,r){var i=[],l=r.objectStore(Mt),y=r.objectStore(tn),E=r.objectStore(Mn),T=e.length;function $(){T--,T||V()}function V(){!i.length||i.forEach(function(re){var S=E.index("digestSeq").count(IDBKeyRange.bound(re+"::",re+"::\uFFFF",!1,!1));S.onsuccess=function(B){var U=B.target.result;U||y.delete(re)}})}e.forEach(function(re){var S=l.index("_doc_id_rev"),B=t+"::"+re;S.getKey(B).onsuccess=function(U){var O=U.target.result;if(typeof O!="number")return $();l.delete(O);var I=E.index("seq").openCursor(IDBKeyRange.only(O));I.onsuccess=function(J){var se=J.target.result;if(se){var ee=se.value.digestSeq.split("::")[0];i.push(ee),E.delete(se.primaryKey),se.continue()}else $()}}})}function We(e,t,r){try{return{txn:e.transaction(t,r)}}catch(i){return{error:i}}}var wt=new Sr;function $t(e,t,r,i,l,y){for(var E=t.docs,T,$,V,re,S,B,U,O,I=0,J=E.length;I<J;I++){var se=E[I];se._id&&Fn(se._id)||(se=E[I]=tt(se,r.new_edits,e),se.error&&!U&&(U=se))}if(U)return y(U);var ee=!1,F=0,me=new Array(E.length),_e=new m,Pe=!1,Ce=i._meta.blobSupport?"blob":"base64";gr(E,Ce,function(Ee){if(Ee)return y(Ee);je()});function je(){var Ee=[qt,Mt,tn,kn,Mn,rn],ae=We(l,Ee,"readwrite");if(ae.error)return y(ae.error);T=ae.txn,T.onabort=_n(y),T.ontimeout=_n(y),T.oncomplete=ut,$=T.objectStore(qt),V=T.objectStore(Mt),re=T.objectStore(tn),S=T.objectStore(Mn),B=T.objectStore(rn),B.get(rn).onsuccess=function(be){O=be.target.result,nt()},Ye(function(be){if(be)return Pe=!0,y(be);Je()})}function Ge(){ee=!0,nt()}function Be(){ln(e.revs_limit,E,i,_e,T,me,_t,r,Ge)}function nt(){!O||!ee||(O.docCount+=F,B.put(O))}function Je(){if(!E.length)return;var Ee=0;function ae(){++Ee===E.length&&Be()}function be(De){var ze=br(De.target.result);ze&&_e.set(ze.id,ze),ae()}for(var qe=0,Ue=E.length;qe<Ue;qe++){var Fe=E[qe];if(Fe._id&&Fn(Fe._id)){ae();continue}var He=$.get(Fe.metadata.id);He.onsuccess=be}}function ut(){Pe||(wt.notify(i._meta.name),y(null,me))}function rt(Ee,ae){var be=re.get(Ee);be.onsuccess=function(qe){if(qe.target.result)ae();else{var Ue=Qe(Li,"unknown stub attachment with digest "+Ee);Ue.status=412,ae(Ue)}}}function Ye(Ee){var ae=[];if(E.forEach(function(Fe){Fe.data&&Fe.data._attachments&&Object.keys(Fe.data._attachments).forEach(function(He){var De=Fe.data._attachments[He];De.stub&&ae.push(De.digest)})}),!ae.length)return Ee();var be=0,qe;function Ue(){++be===ae.length&&Ee(qe)}ae.forEach(function(Fe){rt(Fe,function(He){He&&!qe&&(qe=He),Ue()})})}function _t(Ee,ae,be,qe,Ue,Fe,He,De){Ee.metadata.winningRev=ae,Ee.metadata.deleted=be;var ze=Ee.data;ze._id=Ee.metadata.id,ze._rev=Ee.metadata.rev,qe&&(ze._deleted=!0);var it=ze._attachments&&Object.keys(ze._attachments).length;if(it)return ie(Ee,ae,be,Ue,He,De);F+=Fe,nt(),Y(Ee,ae,be,Ue,He,De)}function Y(Ee,ae,be,qe,Ue,Fe){var He=Ee.data,De=Ee.metadata;He._doc_id_rev=De.id+"::"+De.rev,delete He._id,delete He._rev;function ze(ft){var kt=Ee.stemmedRevs||[];qe&&i.auto_compaction&&(kt=kt.concat(Mi(Ee.metadata))),kt&&kt.length&&Xe(kt,Ee.metadata.id,T),De.seq=ft.target.result;var Xt=Xi(De,ae,be),Vn=$.put(Xt);Vn.onsuccess=jt}function it(ft){ft.preventDefault(),ft.stopPropagation();var kt=V.index("_doc_id_rev"),Xt=kt.getKey(He._doc_id_rev);Xt.onsuccess=function(Vn){var Un=V.put(He,Vn.target.result);Un.onsuccess=ze}}function jt(){me[Ue]={ok:!0,id:De.id,rev:De.rev},_e.set(Ee.metadata.id,Ee.metadata),pe(Ee,De.seq,Fe)}var Pt=V.put(He);Pt.onsuccess=ze,Pt.onerror=it}function ie(Ee,ae,be,qe,Ue,Fe){var He=Ee.data,De=0,ze=Object.keys(He._attachments);function it(){De===ze.length&&Y(Ee,ae,be,qe,Ue,Fe)}function jt(){De++,it()}ze.forEach(function(Pt){var ft=Ee.data._attachments[Pt];if(ft.stub)De++,it();else{var kt=ft.data;delete ft.data,ft.revpos=parseInt(ae,10);var Xt=ft.digest;$e(Xt,kt,jt)}})}function pe(Ee,ae,be){var qe=0,Ue=Object.keys(Ee.data._attachments||{});if(!Ue.length)return be();function Fe(){++qe===Ue.length&&be()}function He(ze){var it=Ee.data._attachments[ze].digest,jt=S.put({seq:ae,digestSeq:it+"::"+ae});jt.onsuccess=Fe,jt.onerror=function(Pt){Pt.preventDefault(),Pt.stopPropagation(),Fe()}}for(var De=0;De<Ue.length;De++)He(Ue[De])}function $e(Ee,ae,be){var qe=re.count(Ee);qe.onsuccess=function(Ue){var Fe=Ue.target.result;if(Fe)return be();var He={digest:Ee,body:ae},De=re.put(He);De.onsuccess=be}}}function mt(e,t,r,i,l){i===-1&&(i=1e3);var y=typeof e.getAll=="function"&&typeof e.getAllKeys=="function"&&i>1&&!r,E,T,$;function V(U){T=U.target.result,E&&l(E,T,$)}function re(U){E=U.target.result,T&&l(E,T,$)}function S(){if(!E.length)return l();var U=E[E.length-1],O;if(t&&t.upper)try{O=IDBKeyRange.bound(U,t.upper,!0,t.upperOpen)}catch(I){if(I.name==="DataError"&&I.code===0)return l()}else O=IDBKeyRange.lowerBound(U,!0);t=O,E=null,T=null,e.getAll(t,i).onsuccess=V,e.getAllKeys(t,i).onsuccess=re}function B(U){var O=U.target.result;if(!O)return l();l([O.key],[O.value],O)}y?($={continue:S},e.getAll(t,i).onsuccess=V,e.getAllKeys(t,i).onsuccess=re):r?e.openCursor(t,"prev").onsuccess=B:e.openCursor(t).onsuccess=B}function Rt(e,t,r){if(typeof e.getAll=="function"){e.getAll(t).onsuccess=r;return}var i=[];function l(y){var E=y.target.result;E?(i.push(E.value),E.continue()):r({target:{result:i}})}e.openCursor(t).onsuccess=l}function Lt(e,t,r){var i=new Array(e.length),l=0;e.forEach(function(y,E){t.get(y).onsuccess=function(T){T.target.result?i[E]=T.target.result:i[E]={key:y,error:"not_found"},l++,l===e.length&&r(e,i,{})}})}function Ke(e,t,r,i,l){try{if(e&&t)return l?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return l?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return l?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(i)return IDBKeyRange.only(i)}catch(y){return{error:y}}return null}function Ot(e,t,r){var i="startkey"in e?e.startkey:!1,l="endkey"in e?e.endkey:!1,y="key"in e?e.key:!1,E="keys"in e?e.keys:!1,T=e.skip||0,$=typeof e.limit=="number"?e.limit:-1,V=e.inclusive_end!==!1,re,S;if(!E&&(re=Ke(i,l,V,y,e.descending),S=re&&re.error,S&&!(S.name==="DataError"&&S.code===0)))return r(Qe(oi,S.name,S.message));var B=[qt,Mt,rn];e.attachments&&B.push(tn);var U=We(t,B,"readonly");if(U.error)return r(U.error);var O=U.txn;O.oncomplete=ut,O.onabort=_n(r);var I=O.objectStore(qt),J=O.objectStore(Mt),se=O.objectStore(rn),ee=J.index("_doc_id_rev"),F=[],me,_e;se.get(rn).onsuccess=function(rt){me=rt.target.result.docCount},e.update_seq&&Pe(J,function(rt){rt.target.result&&rt.target.result.length>0&&(_e=rt.target.result[0])});function Pe(rt,Ye){function _t(Y){var ie=Y.target.result,pe=void 0;return ie&&ie.key&&(pe=ie.key),Ye({target:{result:[pe]}})}rt.openCursor(null,"prev").onsuccess=_t}function Ce(rt,Ye,_t){var Y=rt.id+"::"+_t;ee.get(Y).onsuccess=function(pe){if(Ye.doc=ce(pe.target.result)||{},e.conflicts){var $e=Ur(rt);$e.length&&(Ye.doc._conflicts=$e)}we(Ye.doc,e,O)}}function je(rt,Ye){var _t={id:Ye.id,key:Ye.id,value:{rev:rt}},Y=Ye.deleted;Y?E&&(F.push(_t),_t.value.deleted=!0,_t.doc=null):T--<=0&&(F.push(_t),e.include_docs&&Ce(Ye,_t,rt))}function Ge(rt){for(var Ye=0,_t=rt.length;Ye<_t&&F.length!==$;Ye++){var Y=rt[Ye];if(Y.error&&E){F.push(Y);continue}var ie=br(Y),pe=ie.winningRev;je(pe,ie)}}function Be(rt,Ye,_t){!_t||(Ge(Ye),F.length<$&&_t.continue())}function nt(rt){var Ye=rt.target.result;e.descending&&(Ye=Ye.reverse()),Ge(Ye)}function Je(){var rt={total_rows:me,offset:e.skip,rows:F};e.update_seq&&_e!==void 0&&(rt.update_seq=_e),r(null,rt)}function ut(){e.attachments?Re(F,e.binary).then(Je):Je()}if(!(S||$===0)){if(E)return Lt(e.keys,I,Be);if($===-1)return Rt(I,re,nt);mt(I,re,e.descending,$+T,Be)}}function Dt(e){return new Promise(function(t){var r=li([""]),i=e.objectStore(Ji).put(r,"key");i.onsuccess=function(){var l=navigator.userAgent.match(/Chrome\/(\d+)/),y=navigator.userAgent.match(/Edge\//);t(y||!l||parseInt(l[1],10)>=43)},i.onerror=e.onabort=function(l){l.preventDefault(),l.stopPropagation(),t(!1)}}).catch(function(){return!1})}function Yt(e,t){var r=e.objectStore(qt).index("deletedOrLocal");r.count(IDBKeyRange.only("0")).onsuccess=function(i){t(i.target.result)}}var Ut=!1,Kt=[];function Qt(e,t,r,i){try{e(t,r)}catch(l){i.emit("error",l)}}function on(){Ut||!Kt.length||(Ut=!0,Kt.shift()())}function ar(e,t,r){Kt.push(function(){e(function(y,E){Qt(t,y,E,r),Ut=!1,h(function(){on()})})}),on()}function jn(e,t,r,i){if(e=et(e),e.continuous){var l=r+":"+hi();return wt.addListener(r,l,t,e),wt.notify(r),{cancel:function(){wt.removeListener(r,l)}}}var y=e.doc_ids&&new g(e.doc_ids);e.since=e.since||0;var E=e.since,T="limit"in e?e.limit:-1;T===0&&(T=1);var $=[],V=0,re=ki(e),S=new m,B,U,O,I;function J(je,Ge,Be){if(!Be||!je.length)return;var nt=new Array(je.length),Je=new Array(je.length);function ut(_t,Y){var ie=e.processChange(Y,_t,e);E=ie.seq=_t.seq;var pe=re(ie);return typeof pe=="object"?Promise.reject(pe):pe?(V++,e.return_docs&&$.push(ie),e.attachments&&e.include_docs?new Promise(function($e){we(Y,e,B,function(){Re([ie],e.binary).then(function(){$e(ie)})})}):Promise.resolve(ie)):Promise.resolve()}function rt(){for(var _t=[],Y=0,ie=nt.length;Y<ie&&V!==T;Y++){var pe=nt[Y];if(!!pe){var $e=Je[Y];_t.push(ut($e,pe))}}Promise.all(_t).then(function(Ee){for(var ae=0,be=Ee.length;ae<be;ae++)Ee[ae]&&e.onChange(Ee[ae])}).catch(e.complete),V!==T&&Be.continue()}var Ye=0;Ge.forEach(function(_t,Y){var ie=ce(_t),pe=je[Y];ee(ie,pe,function($e,Ee){Je[Y]=$e,nt[Y]=Ee,++Ye===je.length&&rt()})})}function se(je,Ge,Be,nt){if(Be.seq!==Ge)return nt();if(Be.winningRev===je._rev)return nt(Be,je);var Je=je._id+"::"+Be.winningRev,ut=I.get(Je);ut.onsuccess=function(rt){nt(Be,ce(rt.target.result))}}function ee(je,Ge,Be){if(y&&!y.has(je._id))return Be();var nt=S.get(je._id);if(nt)return se(je,Ge,nt,Be);O.get(je._id).onsuccess=function(Je){nt=br(Je.target.result),S.set(je._id,nt),se(je,Ge,nt,Be)}}function F(){e.complete(null,{results:$,last_seq:E})}function me(){!e.continuous&&e.attachments?Re($).then(F):F()}var _e=[qt,Mt];e.attachments&&_e.push(tn);var Pe=We(i,_e,"readonly");if(Pe.error)return e.complete(Pe.error);B=Pe.txn,B.onabort=_n(e.complete),B.oncomplete=me,U=B.objectStore(Mt),O=B.objectStore(qt),I=U.index("_doc_id_rev");var Ce=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;mt(U,Ce,e.descending,T,J)}var qn=new m,ur,Er=new m;function ko(e,t){var r=this;ar(function(i){ha(r,e,i)},t,r.constructor)}function ha(e,t,r){var i=t.name,l=null;e._meta=null;function y(O){var I=O.createObjectStore(qt,{keyPath:"id"});O.createObjectStore(Mt,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),O.createObjectStore(tn,{keyPath:"digest"}),O.createObjectStore(rn,{keyPath:"id",autoIncrement:!1}),O.createObjectStore(Ji),I.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),O.createObjectStore(kn,{keyPath:"_id"});var J=O.createObjectStore(Mn,{autoIncrement:!0});J.createIndex("seq","seq"),J.createIndex("digestSeq","digestSeq",{unique:!0})}function E(O,I){var J=O.objectStore(qt);J.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),J.openCursor().onsuccess=function(se){var ee=se.target.result;if(ee){var F=ee.value,me=cn(F);F.deletedOrLocal=me?"1":"0",J.put(F),ee.continue()}else I()}}function T(O){O.createObjectStore(kn,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function $(O,I){var J=O.objectStore(kn),se=O.objectStore(qt),ee=O.objectStore(Mt),F=se.openCursor();F.onsuccess=function(me){var _e=me.target.result;if(_e){var Pe=_e.value,Ce=Pe.id,je=Fn(Ce),Ge=nr(Pe);if(je){var Be=Ce+"::"+Ge,nt=Ce+"::",Je=Ce+"::~",ut=ee.index("_doc_id_rev"),rt=IDBKeyRange.bound(nt,Je,!1,!1),Ye=ut.openCursor(rt);Ye.onsuccess=function(_t){if(Ye=_t.target.result,!Ye)se.delete(_e.primaryKey),_e.continue();else{var Y=Ye.value;Y._doc_id_rev===Be&&J.put(Y),ee.delete(Ye.primaryKey),Ye.continue()}}}else _e.continue()}else I&&I()}}function V(O){var I=O.createObjectStore(Mn,{autoIncrement:!0});I.createIndex("seq","seq"),I.createIndex("digestSeq","digestSeq",{unique:!0})}function re(O,I){var J=O.objectStore(Mt),se=O.objectStore(tn),ee=O.objectStore(Mn),F=se.count();F.onsuccess=function(me){var _e=me.target.result;if(!_e)return I();J.openCursor().onsuccess=function(Pe){var Ce=Pe.target.result;if(!Ce)return I();for(var je=Ce.value,Ge=Ce.primaryKey,Be=Object.keys(je._attachments||{}),nt={},Je=0;Je<Be.length;Je++){var ut=je._attachments[Be[Je]];nt[ut.digest]=!0}var rt=Object.keys(nt);for(Je=0;Je<rt.length;Je++){var Ye=rt[Je];ee.put({seq:Ge,digestSeq:Ye+"::"+Ge})}Ce.continue()}}}function S(O){function I(F){return F.data?br(F):(F.deleted=F.deletedOrLocal==="1",F)}var J=O.objectStore(Mt),se=O.objectStore(qt),ee=se.openCursor();ee.onsuccess=function(F){var me=F.target.result;if(!me)return;var _e=I(me.value);_e.winningRev=_e.winningRev||nr(_e);function Pe(){var je=_e.id+"::",Ge=_e.id+"::\uFFFF",Be=J.index("_doc_id_rev").openCursor(IDBKeyRange.bound(je,Ge)),nt=0;Be.onsuccess=function(Je){var ut=Je.target.result;if(!ut)return _e.seq=nt,Ce();var rt=ut.primaryKey;rt>nt&&(nt=rt),ut.continue()}}function Ce(){var je=Xi(_e,_e.winningRev,_e.deleted),Ge=se.put(je);Ge.onsuccess=function(){me.continue()}}if(_e.seq)return Ce();Pe()}}e._remote=!1,e.type=function(){return"idb"},e._id=H(function(O){O(null,e._meta.instanceId)}),e._bulkDocs=function(I,J,se){$t(t,I,J,e,l,se)},e._get=function(I,J,se){var ee,F,me,_e=J.ctx;if(!_e){var Pe=We(l,[qt,Mt,tn],"readonly");if(Pe.error)return se(Pe.error);_e=Pe.txn}function Ce(){se(me,{doc:ee,metadata:F,ctx:_e})}_e.objectStore(qt).get(I).onsuccess=function(je){if(F=br(je.target.result),!F)return me=Qe(Gt,"missing"),Ce();var Ge;if(J.rev)Ge=J.latest?Dn(J.rev,F):J.rev;else{Ge=F.winningRev;var Be=cn(F);if(Be)return me=Qe(Gt,"deleted"),Ce()}var nt=_e.objectStore(Mt),Je=F.id+"::"+Ge;nt.index("_doc_id_rev").get(Je).onsuccess=function(ut){if(ee=ut.target.result,ee&&(ee=ce(ee)),!ee)return me=Qe(Gt,"missing"),Ce();Ce()}}},e._getAttachment=function(O,I,J,se,ee){var F;if(se.ctx)F=se.ctx;else{var me=We(l,[qt,Mt,tn],"readonly");if(me.error)return ee(me.error);F=me.txn}var _e=J.digest,Pe=J.content_type;F.objectStore(tn).get(_e).onsuccess=function(Ce){var je=Ce.target.result.body;fe(je,Pe,se.binary,function(Ge){ee(null,Ge)})}},e._info=function(I){var J,se,ee=We(l,[rn,Mt],"readonly");if(ee.error)return I(ee.error);var F=ee.txn;F.objectStore(rn).get(rn).onsuccess=function(me){se=me.target.result.docCount},F.objectStore(Mt).openCursor(null,"prev").onsuccess=function(me){var _e=me.target.result;J=_e?_e.key:0},F.oncomplete=function(){I(null,{doc_count:se,update_seq:J,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(I,J){Ot(I,l,J)},e._changes=function(I){return jn(I,e,i,l)},e._close=function(O){l.close(),qn.delete(i),O()},e._getRevisionTree=function(O,I){var J=We(l,[qt],"readonly");if(J.error)return I(J.error);var se=J.txn,ee=se.objectStore(qt).get(O);ee.onsuccess=function(F){var me=br(F.target.result);me?I(null,me.rev_tree):I(Qe(Gt))}},e._doCompaction=function(O,I,J){var se=[qt,Mt,tn,Mn],ee=We(l,se,"readwrite");if(ee.error)return J(ee.error);var F=ee.txn,me=F.objectStore(qt);me.get(O).onsuccess=function(_e){var Pe=br(_e.target.result);rr(Pe.rev_tree,function(Ge,Be,nt,Je,ut){var rt=Be+"-"+nt;I.indexOf(rt)!==-1&&(ut.status="missing")}),Xe(I,O,F);var Ce=Pe.winningRev,je=Pe.deleted;F.objectStore(qt).put(Xi(Pe,Ce,je))},F.onabort=_n(J),F.oncomplete=function(){J()}},e._getLocal=function(O,I){var J=We(l,[kn],"readonly");if(J.error)return I(J.error);var se=J.txn,ee=se.objectStore(kn).get(O);ee.onerror=_n(I),ee.onsuccess=function(F){var me=F.target.result;me?(delete me._doc_id_rev,I(null,me)):I(Qe(Gt))}},e._putLocal=function(O,I,J){typeof I=="function"&&(J=I,I={}),delete O._revisions;var se=O._rev,ee=O._id;se?O._rev="0-"+(parseInt(se.split("-")[1],10)+1):O._rev="0-1";var F=I.ctx,me;if(!F){var _e=We(l,[kn],"readwrite");if(_e.error)return J(_e.error);F=_e.txn,F.onerror=_n(J),F.oncomplete=function(){me&&J(null,me)}}var Pe=F.objectStore(kn),Ce;se?(Ce=Pe.get(ee),Ce.onsuccess=function(je){var Ge=je.target.result;if(!Ge||Ge._rev!==se)J(Qe(Cr));else{var Be=Pe.put(O);Be.onsuccess=function(){me={ok:!0,id:O._id,rev:O._rev},I.ctx&&J(null,me)}}}):(Ce=Pe.add(O),Ce.onerror=function(je){J(Qe(Cr)),je.preventDefault(),je.stopPropagation()},Ce.onsuccess=function(){me={ok:!0,id:O._id,rev:O._rev},I.ctx&&J(null,me)})},e._removeLocal=function(O,I,J){typeof I=="function"&&(J=I,I={});var se=I.ctx;if(!se){var ee=We(l,[kn],"readwrite");if(ee.error)return J(ee.error);se=ee.txn,se.oncomplete=function(){F&&J(null,F)}}var F,me=O._id,_e=se.objectStore(kn),Pe=_e.get(me);Pe.onerror=_n(J),Pe.onsuccess=function(Ce){var je=Ce.target.result;!je||je._rev!==O._rev?J(Qe(Gt)):(_e.delete(me),F={ok:!0,id:me,rev:"0-0"},I.ctx&&J(null,F))}},e._destroy=function(O,I){wt.removeAllListeners(i);var J=Er.get(i);J&&J.result&&(J.result.close(),qn.delete(i));var se=indexedDB.deleteDatabase(i);se.onsuccess=function(){Er.delete(i),Ft()&&i in localStorage&&delete localStorage[i],I(null,{ok:!0})},se.onerror=_n(I)};var B=qn.get(i);if(B)return l=B.idb,e._meta=B.global,h(function(){r(null,e)});var U=indexedDB.open(i,wr);Er.set(i,U),U.onupgradeneeded=function(O){var I=O.target.result;if(O.oldVersion<1)return y(I);var J=O.currentTarget.transaction;O.oldVersion<3&&T(I),O.oldVersion<4&&V(I);var se=[E,$,re,S],ee=O.oldVersion;function F(){var me=se[ee-1];ee++,me&&me(J,F)}F()},U.onsuccess=function(O){l=O.target.result,l.onversionchange=function(){l.close(),qn.delete(i)},l.onabort=function(Ce){An("error","Database has a global failure",Ce.target.error),l.close(),qn.delete(i)};var I=l.transaction([rn,Ji,qt],"readwrite"),J=!1,se,ee,F,me;function _e(){typeof F=="undefined"||!J||(e._meta={name:i,instanceId:me,blobSupport:F},qn.set(i,{idb:l,global:e._meta}),r(null,e))}function Pe(){if(!(typeof ee=="undefined"||typeof se=="undefined")){var Ce=i+"_id";Ce in se?me=se[Ce]:se[Ce]=me=hi(),se.docCount=ee,I.objectStore(rn).put(se)}}I.objectStore(rn).get(rn).onsuccess=function(Ce){se=Ce.target.result||{id:rn},Pe()},Yt(I,function(Ce){ee=Ce,Pe()}),ur||(ur=Dt(I)),ur.then(function(Ce){F=Ce,_e()}),I.oncomplete=function(){J=!0,_e()},I.onabort=_n(r)},U.onerror=function(O){var I=O.target.error&&O.target.error.message;I?I.indexOf("stored database is a higher version")!==-1&&(I=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):I="Failed to open indexedDB, are you in private browsing mode?",An("error",I),r(Qe(oi,I))}}ko.valid=function(){try{return typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}};function da(e){e.adapter("idb",ko,!0)}function pa(e,t){return new Promise(function(r,i){var l=0,y=0,E=0,T=e.length,$;function V(){l++,e[y++]().then(S,B)}function re(){++E===T?$?i($):r():U()}function S(){l--,re()}function B(O){l--,$=$||O,re()}function U(){for(;l<t&&y<T;)V()}U()})}var io=25,xo=50,Ci=5e3,Ba=1e4,cr={};function Zi(e){var t=e.doc||e.ok,r=t&&t._attachments;!r||Object.keys(r).forEach(function(i){var l=r[i];l.data=In(l.data,l.content_type)})}function lr(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function so(e){return!e._attachments||!Object.keys(e._attachments)?Promise.resolve():Promise.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&typeof r.data!="string")return new Promise(function(i){tr(r.data,i)}).then(function(i){r.data=i})}))}function Po(e){if(!e.prefix)return!1;var t=zt(e.prefix).protocol;return t==="http"||t==="https"}function oo(e,t){if(Po(t)){var r=t.name.substr(t.prefix.length),i=t.prefix.replace(/\/?$/,"/");e=i+encodeURIComponent(r)}var l=zt(e);(l.user||l.password)&&(l.auth={username:l.user,password:l.password});var y=l.path.replace(/(^\/|\/$)/g,"").split("/");return l.db=y.pop(),l.db.indexOf("%")===-1&&(l.db=encodeURIComponent(l.db)),l.path=y.join("/"),l}function Jt(e,t){return $s(e,e.db+"/"+t)}function $s(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function Ls(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function va(e){var t=typeof navigator!="undefined"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=t.indexOf("msie")!==-1,i=t.indexOf("trident")!==-1,l=t.indexOf("edge")!==-1,y=!("method"in e)||e.method==="GET";return(r||i||l)&&y}function ao(e,t){var r=this,i=oo(e.name,e),l=Jt(i,"");e=et(e);var y=function(S,B){if(B=B||{},B.headers=B.headers||new Kn,B.credentials="include",e.auth||i.auth){var U=e.auth||i.auth,O=U.username+":"+U.password,I=jr(unescape(encodeURIComponent(O)));B.headers.set("Authorization","Basic "+I)}var J=e.headers||{};Object.keys(J).forEach(function(ee){B.headers.append(ee,J[ee])}),va(B)&&(S+=(S.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now());var se=e.fetch||Es;return se(S,B)};function E(S,B){return Q(S,ge(function(U){V().then(function(){return B.apply(this,U)}).catch(function(O){var I=U.pop();I(O)})})).bind(r)}function T(S,B,U){var O={};return B=B||{},B.headers=B.headers||new Kn,B.headers.get("Content-Type")||B.headers.set("Content-Type","application/json"),B.headers.get("Accept")||B.headers.set("Accept","application/json"),y(S,B).then(function(I){return O.ok=I.ok,O.status=I.status,I.json()}).then(function(I){if(O.data=I,!O.ok){O.data.status=O.status;var J=Tr(O.data);if(U)return U(J);throw J}if(Array.isArray(O.data)&&(O.data=O.data.map(function(se){return se.error||se.missing?Tr(se):se})),U)U(null,O.data);else return O})}var $;function V(){return e.skip_setup?Promise.resolve():$||($=T(l).catch(function(S){return S&&S.status&&S.status===404?(Br(404,"PouchDB is just detecting if the remote exists."),T(l,{method:"PUT"})):Promise.reject(S)}).catch(function(S){return S&&S.status&&S.status===412?!0:Promise.reject(S)}),$.catch(function(){$=null}),$)}h(function(){t(null,r)}),r._remote=!0,r.type=function(){return"http"},r.id=E("id",function(S){y($s(i,"")).then(function(B){return B.json()}).catch(function(){return{}}).then(function(B){var U=B&&B.uuid?B.uuid+i.db:Jt(i,"");S(null,U)})}),r.compact=E("compact",function(S,B){typeof S=="function"&&(B=S,S={}),S=et(S),T(Jt(i,"_compact"),{method:"POST"}).then(function(){function U(){r.info(function(O,I){I&&!I.compact_running?B(null,{ok:!0}):setTimeout(U,S.interval||200)})}U()})}),r.bulkGet=Q("bulkGet",function(S,B){var U=this;function O(ee){var F={};S.revs&&(F.revs=!0),S.attachments&&(F.attachments=!0),S.latest&&(F.latest=!0),T(Jt(i,"_bulk_get"+Ls(F)),{method:"POST",body:JSON.stringify({docs:S.docs})}).then(function(me){S.attachments&&S.binary&&me.data.results.forEach(function(_e){_e.docs.forEach(Zi)}),ee(null,me.data)}).catch(ee)}function I(){var ee=xo,F=Math.ceil(S.docs.length/ee),me=0,_e=new Array(F);function Pe(Ge){return function(Be,nt){_e[Ge]=nt.results,++me===F&&B(null,{results:ai(_e)})}}for(var Ce=0;Ce<F;Ce++){var je=he(S,["revs","attachments","binary","latest"]);je.docs=S.docs.slice(Ce*ee,Math.min(S.docs.length,(Ce+1)*ee)),Ht(U,je,Pe(Ce))}}var J=$s(i,""),se=cr[J];typeof se!="boolean"?O(function(ee,F){ee?(cr[J]=!1,Br(ee.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),I()):(cr[J]=!0,B(null,F))}):se?O(B):I()}),r._info=function(S){V().then(function(){return y(Jt(i,""))}).then(function(B){return B.json()}).then(function(B){B.host=Jt(i,""),S(null,B)}).catch(S)},r.fetch=function(S,B){return V().then(function(){var U=S.substring(0,1)==="/"?$s(i,S.substring(1)):Jt(i,S);return y(U,B)})},r.get=E("get",function(S,B,U){typeof B=="function"&&(U=B,B={}),B=et(B);var O={};B.revs&&(O.revs=!0),B.revs_info&&(O.revs_info=!0),B.latest&&(O.latest=!0),B.open_revs&&(B.open_revs!=="all"&&(B.open_revs=JSON.stringify(B.open_revs)),O.open_revs=B.open_revs),B.rev&&(O.rev=B.rev),B.conflicts&&(O.conflicts=B.conflicts),B.update_seq&&(O.update_seq=B.update_seq),S=lr(S);function I(ee){var F=ee._attachments,me=F&&Object.keys(F);if(!F||!me.length)return;function _e(Ce){var je=F[Ce],Ge=lr(ee._id)+"/"+re(Ce)+"?rev="+ee._rev;return y(Jt(i,Ge)).then(function(Be){return"buffer"in Be?Be.buffer():Be.blob()}).then(function(Be){if(B.binary){var nt=Object.getOwnPropertyDescriptor(Be.__proto__,"type");return(!nt||nt.set)&&(Be.type=je.content_type),Be}return new Promise(function(Je){tr(Be,Je)})}).then(function(Be){delete je.stub,delete je.length,je.data=Be})}var Pe=me.map(function(Ce){return function(){return _e(Ce)}});return pa(Pe,5)}function J(ee){return Array.isArray(ee)?Promise.all(ee.map(function(F){if(F.ok)return I(F.ok)})):I(ee)}var se=Jt(i,S+Ls(O));T(se).then(function(ee){return Promise.resolve().then(function(){if(B.attachments)return J(ee.data)}).then(function(){U(null,ee.data)})}).catch(function(ee){ee.docId=S,U(ee)})}),r.remove=E("remove",function(S,B,U,O){var I;typeof B=="string"?(I={_id:S,_rev:B},typeof U=="function"&&(O=U,U={})):(I=S,typeof B=="function"?(O=B,U={}):(O=U,U=B));var J=I._rev||U.rev,se=Jt(i,lr(I._id))+"?rev="+J;T(se,{method:"DELETE"},O).catch(O)});function re(S){return S.split("/").map(encodeURIComponent).join("/")}r.getAttachment=E("getAttachment",function(S,B,U,O){typeof U=="function"&&(O=U,U={});var I=U.rev?"?rev="+U.rev:"",J=Jt(i,lr(S))+"/"+re(B)+I,se;y(J,{method:"GET"}).then(function(ee){if(se=ee.headers.get("content-type"),ee.ok)return typeof K!="undefined"&&!K.browser&&typeof ee.buffer=="function"?ee.buffer():ee.blob();throw ee}).then(function(ee){typeof K!="undefined"&&!K.browser&&(ee.type=se),O(null,ee)}).catch(function(ee){O(ee)})}),r.removeAttachment=E("removeAttachment",function(S,B,U,O){var I=Jt(i,lr(S)+"/"+re(B))+"?rev="+U;T(I,{method:"DELETE"},O).catch(O)}),r.putAttachment=E("putAttachment",function(S,B,U,O,I,J){typeof I=="function"&&(J=I,I=O,O=U,U=null);var se=lr(S)+"/"+re(B),ee=Jt(i,se);if(U&&(ee+="?rev="+U),typeof O=="string"){var F;try{F=Ii(O)}catch{return J(Qe(ii,"Attachment is not a valid base64 string"))}O=F?Yn(F,I):""}T(ee,{headers:new Kn({"Content-Type":I}),method:"PUT",body:O},J).catch(J)}),r._bulkDocs=function(S,B,U){S.new_edits=B.new_edits,V().then(function(){return Promise.all(S.docs.map(so))}).then(function(){return T(Jt(i,"_bulk_docs"),{method:"POST",body:JSON.stringify(S)},U)}).catch(U)},r._put=function(S,B,U){V().then(function(){return so(S)}).then(function(){return T(Jt(i,lr(S._id)),{method:"PUT",body:JSON.stringify(S)})}).then(function(O){U(null,O.data)}).catch(function(O){O.docId=S&&S._id,U(O)})},r.allDocs=E("allDocs",function(S,B){typeof S=="function"&&(B=S,S={}),S=et(S);var U={},O,I="GET";S.conflicts&&(U.conflicts=!0),S.update_seq&&(U.update_seq=!0),S.descending&&(U.descending=!0),S.include_docs&&(U.include_docs=!0),S.attachments&&(U.attachments=!0),S.key&&(U.key=JSON.stringify(S.key)),S.start_key&&(S.startkey=S.start_key),S.startkey&&(U.startkey=JSON.stringify(S.startkey)),S.end_key&&(S.endkey=S.end_key),S.endkey&&(U.endkey=JSON.stringify(S.endkey)),typeof S.inclusive_end!="undefined"&&(U.inclusive_end=!!S.inclusive_end),typeof S.limit!="undefined"&&(U.limit=S.limit),typeof S.skip!="undefined"&&(U.skip=S.skip);var J=Ls(U);typeof S.keys!="undefined"&&(I="POST",O={keys:S.keys}),T(Jt(i,"_all_docs"+J),{method:I,body:JSON.stringify(O)}).then(function(se){S.include_docs&&S.attachments&&S.binary&&se.data.rows.forEach(Zi),B(null,se.data)}).catch(B)}),r._changes=function(S){var B="batch_size"in S?S.batch_size:io;S=et(S),S.continuous&&!("heartbeat"in S)&&(S.heartbeat=Ba);var U="timeout"in S?S.timeout:30*1e3;"timeout"in S&&S.timeout&&U-S.timeout<Ci&&(U=S.timeout+Ci),"heartbeat"in S&&S.heartbeat&&U-S.heartbeat<Ci&&(U=S.heartbeat+Ci);var O={};"timeout"in S&&S.timeout&&(O.timeout=S.timeout);var I=typeof S.limit!="undefined"?S.limit:!1,J=I;if(S.style&&(O.style=S.style),(S.include_docs||S.filter&&typeof S.filter=="function")&&(O.include_docs=!0),S.attachments&&(O.attachments=!0),S.continuous&&(O.feed="longpoll"),S.seq_interval&&(O.seq_interval=S.seq_interval),S.conflicts&&(O.conflicts=!0),S.descending&&(O.descending=!0),S.update_seq&&(O.update_seq=!0),"heartbeat"in S&&S.heartbeat&&(O.heartbeat=S.heartbeat),S.filter&&typeof S.filter=="string"&&(O.filter=S.filter),S.view&&typeof S.view=="string"&&(O.filter="_view",O.view=S.view),S.query_params&&typeof S.query_params=="object")for(var se in S.query_params)S.query_params.hasOwnProperty(se)&&(O[se]=S.query_params[se]);var ee="GET",F;S.doc_ids?(O.filter="_doc_ids",ee="POST",F={doc_ids:S.doc_ids}):S.selector&&(O.filter="_selector",ee="POST",F={selector:S.selector});var me=new to,_e,Pe=function(Ge,Be){if(!S.aborted){O.since=Ge,typeof O.since=="object"&&(O.since=JSON.stringify(O.since)),S.descending?I&&(O.limit=J):O.limit=!I||J>B?B:J;var nt=Jt(i,"_changes"+Ls(O)),Je={signal:me.signal,method:ee,body:JSON.stringify(F)};_e=Ge,!S.aborted&&V().then(function(){return T(nt,Je,Be)}).catch(Be)}},Ce={results:[]},je=function(Ge,Be){if(!S.aborted){var nt=0;if(Be&&Be.results){nt=Be.results.length,Ce.last_seq=Be.last_seq;var Je=null,ut=null;typeof Be.pending=="number"&&(Je=Be.pending),(typeof Ce.last_seq=="string"||typeof Ce.last_seq=="number")&&(ut=Ce.last_seq);var rt={};rt.query=S.query_params,Be.results=Be.results.filter(function(_t){J--;var Y=ki(S)(_t);return Y&&(S.include_docs&&S.attachments&&S.binary&&Zi(_t),S.return_docs&&Ce.results.push(_t),S.onChange(_t,Je,ut)),Y})}else if(Ge){S.aborted=!0,S.complete(Ge);return}Be&&Be.last_seq&&(_e=Be.last_seq);var Ye=I&&J<=0||Be&&nt<B||S.descending;S.continuous&&!(I&&J<=0)||!Ye?h(function(){Pe(_e,je)}):S.complete(null,Ce)}};return Pe(S.since||0,je),{cancel:function(){S.aborted=!0,me.abort()}}},r.revsDiff=E("revsDiff",function(S,B,U){typeof B=="function"&&(U=B,B={}),T(Jt(i,"_revs_diff"),{method:"POST",body:JSON.stringify(S)},U).catch(U)}),r._close=function(S){S()},r._destroy=function(S,B){T(Jt(i,""),{method:"DELETE"}).then(function(U){B(null,U)}).catch(function(U){U.status===404?B(null,{ok:!0}):B(U)})}}ao.valid=function(){return!0};function ma(e){e.adapter("http",ao,!1),e.adapter("https",ao,!1)}function Xr(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Xr)}catch{}}ve(Xr,Error);function ks(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,ks)}catch{}}ve(ks,Error);function es(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,es)}catch{}}ve(es,Error);function uo(e,t){return t&&e.then(function(r){h(function(){t(null,r)})},function(r){h(function(){t(r)})}),e}function _a(e){return ge(function(t){var r=t.pop(),i=e.apply(this,t);return typeof r=="function"&&uo(i,r),i})}function Ar(e,t){return e.then(function(r){return t().then(function(){return r})},function(r){return t().then(function(){throw r})})}function co(e,t){return function(){var r=arguments,i=this;return e.add(function(){return t.apply(i,r)})}}function Io(e){var t=new g(e),r=new Array(t.size),i=-1;return t.forEach(function(l){r[++i]=l}),r}function lo(e){var t=new Array(e.size),r=-1;return e.forEach(function(i,l){t[++r]=l}),t}function Ro(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new es(t)}function Zr(e){for(var t=0,r=0,i=e.length;r<i;r++){var l=e[r];if(typeof l!="number")if(Array.isArray(l)){t=typeof t=="number"?[t]:t;for(var y=0,E=l.length;y<E;y++){var T=l[y];if(typeof T!="number")throw Ro("_sum");typeof t[y]=="undefined"?t.push(T):t[y]+=T}}else throw Ro("_sum");else typeof t=="number"?t+=l:t[0]+=l}return t}var fo=An.bind(null,"log"),ga=Array.isArray,ya=JSON.parse;function Bo(e,t){return ci("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Zr,log:fo,isArray:ga,toJSON:ya})}function ts(){this.promise=new Promise(function(e){e()})}ts.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},ts.prototype.finish=function(){return this.promise};function Mo(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}function wa(e,t){return Mo(e)+Mo(t)+"undefined"}function jo(e,t,r,i,l,y){var E=wa(r,i),T;if(!l&&(T=e._cachedViews=e._cachedViews||{},T[E]))return T[E];var $=e.info().then(function(V){var re=V.db_name+"-mrview-"+(l?"temp":ds(E));function S(B){B.views=B.views||{};var U=t;U.indexOf("/")===-1&&(U=t+"/"+t);var O=B.views[U]=B.views[U]||{};if(!O[re])return O[re]=!0,B}return bn(e,"_local/"+y,S).then(function(){return e.registerDependentDatabase(re).then(function(B){var U=B.db;U.auto_compaction=!0;var O={name:re,db:U,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:i};return O.db.get("_local/lastSeq").catch(function(I){if(I.status!==404)throw I}).then(function(I){return O.seq=I?I.seq:0,T&&O.db.once("destroyed",function(){delete T[E]}),O})})})});return T&&(T[E]=$),$}var qo={},Uo=new ts,Ho=50;function gn(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function Fo(e){return e.length===1&&/^1-/.test(e[0].rev)}function ho(e,t){try{e.emit("error",t)}catch{An("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),An("error",t)}}function po(e,t,r,i){function l(Y,ie,pe){try{ie(pe)}catch($e){ho(Y,$e)}}function y(Y,ie,pe,$e,Ee){try{return{output:ie(pe,$e,Ee)}}catch(ae){return ho(Y,ae),{error:ae}}}function E(Y,ie){var pe=en(Y.key,ie.key);return pe!==0?pe:en(Y.value,ie.value)}function T(Y,ie,pe){return pe=pe||0,typeof ie=="number"?Y.slice(pe,ie+pe):pe>0?Y.slice(pe):Y}function $(Y){var ie=Y.value,pe=ie&&typeof ie=="object"&&ie._id||Y.id;return pe}function V(Y){Y.rows.forEach(function(ie){var pe=ie.doc&&ie.doc._attachments;!pe||Object.keys(pe).forEach(function($e){var Ee=pe[$e];pe[$e].data=In(Ee.data,Ee.content_type)})})}function re(Y){return function(ie){return Y.include_docs&&Y.attachments&&Y.binary&&V(ie),ie}}function S(Y,ie,pe,$e){var Ee=ie[Y];typeof Ee!="undefined"&&($e&&(Ee=encodeURIComponent(JSON.stringify(Ee))),pe.push(Y+"="+Ee))}function B(Y){if(typeof Y!="undefined"){var ie=Number(Y);return!isNaN(ie)&&ie===parseInt(Y,10)?ie:Y}}function U(Y){return Y.group_level=B(Y.group_level),Y.limit=B(Y.limit),Y.skip=B(Y.skip),Y}function O(Y){if(Y){if(typeof Y!="number")return new Xr('Invalid value for integer: "'+Y+'"');if(Y<0)return new Xr('Invalid value for positive integer: "'+Y+'"')}}function I(Y,ie){var pe=Y.descending?"endkey":"startkey",$e=Y.descending?"startkey":"endkey";if(typeof Y[pe]!="undefined"&&typeof Y[$e]!="undefined"&&en(Y[pe],Y[$e])>0)throw new Xr("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(ie.reduce&&Y.reduce!==!1){if(Y.include_docs)throw new Xr("{include_docs:true} is invalid for reduce");if(Y.keys&&Y.keys.length>1&&!Y.group&&!Y.group_level)throw new Xr("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Ee){var ae=O(Y[Ee]);if(ae)throw ae})}function J(Y,ie,pe){var $e=[],Ee,ae="GET",be,qe;if(S("reduce",pe,$e),S("include_docs",pe,$e),S("attachments",pe,$e),S("limit",pe,$e),S("descending",pe,$e),S("group",pe,$e),S("group_level",pe,$e),S("skip",pe,$e),S("stale",pe,$e),S("conflicts",pe,$e),S("startkey",pe,$e,!0),S("start_key",pe,$e,!0),S("endkey",pe,$e,!0),S("end_key",pe,$e,!0),S("inclusive_end",pe,$e),S("key",pe,$e,!0),S("update_seq",pe,$e),$e=$e.join("&"),$e=$e===""?"":"?"+$e,typeof pe.keys!="undefined"){var Ue=2e3,Fe="keys="+encodeURIComponent(JSON.stringify(pe.keys));Fe.length+$e.length+1<=Ue?$e+=($e[0]==="?"?"&":"?")+Fe:(ae="POST",typeof ie=="string"?Ee={keys:pe.keys}:ie.keys=pe.keys)}if(typeof ie=="string"){var He=gn(ie);return Y.fetch("_design/"+He[0]+"/_view/"+He[1]+$e,{headers:new Kn({"Content-Type":"application/json"}),method:ae,body:JSON.stringify(Ee)}).then(function(De){return be=De.ok,qe=De.status,De.json()}).then(function(De){if(!be)throw De.status=qe,Tr(De);return De.rows.forEach(function(ze){if(ze.value&&ze.value.error&&ze.value.error==="builtin_reduce_error")throw new Error(ze.reason)}),De}).then(re(pe))}return Ee=Ee||{},Object.keys(ie).forEach(function(De){Array.isArray(ie[De])?Ee[De]=ie[De]:Ee[De]=ie[De].toString()}),Y.fetch("_temp_view"+$e,{headers:new Kn({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Ee)}).then(function(De){return be=De.ok,qe=De.status,De.json()}).then(function(De){if(!be)throw De.status=qe,Tr(De);return De}).then(re(pe))}function se(Y,ie,pe){return new Promise(function($e,Ee){Y._query(ie,pe,function(ae,be){if(ae)return Ee(ae);$e(be)})})}function ee(Y){return new Promise(function(ie,pe){Y._viewCleanup(function($e,Ee){if($e)return pe($e);ie(Ee)})})}function F(Y){return function(ie){if(ie.status===404)return Y;throw ie}}function me(Y,ie,pe){var $e="_local/doc_"+Y,Ee={_id:$e,keys:[]},ae=pe.get(Y),be=ae[0],qe=ae[1];function Ue(){return Fo(qe)?Promise.resolve(Ee):ie.db.get($e).catch(F(Ee))}function Fe(De){return De.keys.length?ie.db.allDocs({keys:De.keys,include_docs:!0}):Promise.resolve({rows:[]})}function He(De,ze){for(var it=[],jt=new g,Pt=0,ft=ze.rows.length;Pt<ft;Pt++){var kt=ze.rows[Pt],Xt=kt.doc;if(!!Xt&&(it.push(Xt),jt.add(Xt._id),Xt._deleted=!be.has(Xt._id),!Xt._deleted)){var Vn=be.get(Xt._id);"value"in Vn&&(Xt.value=Vn.value)}}var Un=lo(be);return Un.forEach(function(rs){if(!jt.has(rs)){var is={_id:rs},na=be.get(rs);"value"in na&&(is.value=na.value),it.push(is)}}),De.keys=Io(Un.concat(De.keys)),it.push(De),it}return Ue().then(function(De){return Fe(De).then(function(ze){return He(De,ze)})})}function _e(Y,ie,pe){var $e="_local/lastSeq";return Y.db.get($e).catch(F({_id:$e,seq:0})).then(function(Ee){var ae=lo(ie);return Promise.all(ae.map(function(be){return me(be,Y,ie)})).then(function(be){var qe=ai(be);return Ee.seq=pe,qe.push(Ee),Y.db.bulkDocs({docs:qe})})})}function Pe(Y){var ie=typeof Y=="string"?Y:Y.name,pe=qo[ie];return pe||(pe=qo[ie]=new ts),pe}function Ce(Y){return co(Pe(Y),function(){return je(Y)})()}function je(Y){var ie,pe;function $e(ze,it){var jt={id:pe._id,key:ir(ze)};typeof it!="undefined"&&it!==null&&(jt.value=ir(it)),ie.push(jt)}var Ee=t(Y.mapFun,$e),ae=Y.seq||0;function be(ze,it){return function(){return _e(Y,ze,it)}}var qe=new ts;function Ue(){return Y.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:ae,limit:Ho}).then(Fe)}function Fe(ze){var it=ze.results;if(!!it.length){var jt=He(it);if(qe.add(be(jt,ae)),!(it.length<Ho))return Ue()}}function He(ze){for(var it=new m,jt=0,Pt=ze.length;jt<Pt;jt++){var ft=ze[jt];if(ft.doc._id[0]!=="_"){ie=[],pe=ft.doc,pe._deleted||l(Y.sourceDB,Ee,pe),ie.sort(E);var kt=De(ie);it.set(ft.doc._id,[kt,ft.changes])}ae=ft.seq}return it}function De(ze){for(var it=new m,jt,Pt=0,ft=ze.length;Pt<ft;Pt++){var kt=ze[Pt],Xt=[kt.key,kt.id];Pt>0&&en(kt.key,jt)===0&&Xt.push(Pt),it.set(Wt(Xt),kt),jt=kt.key}return it}return Ue().then(function(){return qe.finish()}).then(function(){Y.seq=ae})}function Ge(Y,ie,pe){pe.group_level===0&&delete pe.group_level;var $e=pe.group||pe.group_level,Ee=r(Y.reduceFun),ae=[],be=isNaN(pe.group_level)?Number.POSITIVE_INFINITY:pe.group_level;ie.forEach(function(De){var ze=ae[ae.length-1],it=$e?De.key:null;if($e&&Array.isArray(it)&&(it=it.slice(0,be)),ze&&en(ze.groupKey,it)===0){ze.keys.push([De.key,De.id]),ze.values.push(De.value);return}ae.push({keys:[[De.key,De.id]],values:[De.value],groupKey:it})}),ie=[];for(var qe=0,Ue=ae.length;qe<Ue;qe++){var Fe=ae[qe],He=y(Y.sourceDB,Ee,Fe.keys,Fe.values,!1);if(He.error&&He.error instanceof es)throw He.error;ie.push({value:He.error?null:He.output,key:Fe.groupKey})}return{rows:T(ie,pe.limit,pe.skip)}}function Be(Y,ie){return co(Pe(Y),function(){return nt(Y,ie)})()}function nt(Y,ie){var pe,$e=Y.reduceFun&&ie.reduce!==!1,Ee=ie.skip||0;typeof ie.keys!="undefined"&&!ie.keys.length&&(ie.limit=0,delete ie.keys);function ae(Pt){return Pt.include_docs=!0,Y.db.allDocs(Pt).then(function(ft){return pe=ft.total_rows,ft.rows.map(function(kt){if("value"in kt.doc&&typeof kt.doc.value=="object"&&kt.doc.value!==null){var Xt=Object.keys(kt.doc.value).sort(),Vn=["id","key","value"];if(!(Xt<Vn||Xt>Vn))return kt.doc.value}var Un=Ts(kt.doc._id);return{key:Un[0],id:Un[1],value:"value"in kt.doc?kt.doc.value:null}})})}function be(Pt){var ft;if($e?ft=Ge(Y,Pt,ie):ft={total_rows:pe,offset:Ee,rows:Pt},ie.update_seq&&(ft.update_seq=Y.seq),ie.include_docs){var kt=Io(Pt.map($));return Y.sourceDB.allDocs({keys:kt,include_docs:!0,conflicts:ie.conflicts,attachments:ie.attachments,binary:ie.binary}).then(function(Xt){var Vn=new m;return Xt.rows.forEach(function(Un){Vn.set(Un.id,Un.doc)}),Pt.forEach(function(Un){var rs=$(Un),is=Vn.get(rs);is&&(Un.doc=is)}),ft})}else return ft}if(typeof ie.keys!="undefined"){var qe=ie.keys,Ue=qe.map(function(Pt){var ft={startkey:Wt([Pt]),endkey:Wt([Pt,{}])};return ie.update_seq&&(ft.update_seq=!0),ae(ft)});return Promise.all(Ue).then(ai).then(be)}else{var Fe={descending:ie.descending};ie.update_seq&&(Fe.update_seq=!0);var He,De;if("start_key"in ie&&(He=ie.start_key),"startkey"in ie&&(He=ie.startkey),"end_key"in ie&&(De=ie.end_key),"endkey"in ie&&(De=ie.endkey),typeof He!="undefined"&&(Fe.startkey=ie.descending?Wt([He,{}]):Wt([He])),typeof De!="undefined"){var ze=ie.inclusive_end!==!1;ie.descending&&(ze=!ze),Fe.endkey=Wt(ze?[De,{}]:[De])}if(typeof ie.key!="undefined"){var it=Wt([ie.key]),jt=Wt([ie.key,{}]);Fe.descending?(Fe.endkey=it,Fe.startkey=jt):(Fe.startkey=it,Fe.endkey=jt)}return $e||(typeof ie.limit=="number"&&(Fe.limit=ie.limit),Fe.skip=Ee),ae(Fe).then(be)}}function Je(Y){return Y.fetch("_view_cleanup",{headers:new Kn({"Content-Type":"application/json"}),method:"POST"}).then(function(ie){return ie.json()})}function ut(Y){return Y.get("_local/"+e).then(function(ie){var pe=new m;Object.keys(ie.views).forEach(function(Ee){var ae=gn(Ee),be="_design/"+ae[0],qe=ae[1],Ue=pe.get(be);Ue||(Ue=new g,pe.set(be,Ue)),Ue.add(qe)});var $e={keys:lo(pe),include_docs:!0};return Y.allDocs($e).then(function(Ee){var ae={};Ee.rows.forEach(function(Ue){var Fe=Ue.key.substring(8);pe.get(Ue.key).forEach(function(He){var De=Fe+"/"+He;ie.views[De]||(De=He);var ze=Object.keys(ie.views[De]),it=Ue.doc&&Ue.doc.views&&Ue.doc.views[He];ze.forEach(function(jt){ae[jt]=ae[jt]||it})})});var be=Object.keys(ae).filter(function(Ue){return!ae[Ue]}),qe=be.map(function(Ue){return co(Pe(Ue),function(){return new Y.constructor(Ue,Y.__opts).destroy()})()});return Promise.all(qe).then(function(){return{ok:!0}})})},F({ok:!0}))}function rt(Y,ie,pe){if(typeof Y._query=="function")return se(Y,ie,pe);if(On(Y))return J(Y,ie,pe);if(typeof ie!="string")return I(pe,ie),Uo.add(function(){var qe=jo(Y,"temp_view/temp_view",ie.map,ie.reduce,!0,e);return qe.then(function(Ue){return Ar(Ce(Ue).then(function(){return Be(Ue,pe)}),function(){return Ue.db.destroy()})})}),Uo.finish();var $e=ie,Ee=gn($e),ae=Ee[0],be=Ee[1];return Y.get("_design/"+ae).then(function(qe){var Ue=qe.views&&qe.views[be];if(!Ue)throw new ks("ddoc "+qe._id+" has no view named "+be);i(qe,be),I(pe,Ue);var Fe=jo(Y,$e,Ue.map,Ue.reduce,!1,e);return Fe.then(function(He){return pe.stale==="ok"||pe.stale==="update_after"?(pe.stale==="update_after"&&h(function(){Ce(He)}),Be(He,pe)):Ce(He).then(function(){return Be(He,pe)})})})}function Ye(Y,ie,pe){var $e=this;typeof ie=="function"&&(pe=ie,ie={}),ie=ie?U(ie):{},typeof Y=="function"&&(Y={map:Y});var Ee=Promise.resolve().then(function(){return rt($e,Y,ie)});return uo(Ee,pe),Ee}var _t=_a(function(){var Y=this;return typeof Y._viewCleanup=="function"?ee(Y):On(Y)?Je(Y):ut(Y)});return{query:Ye,viewCleanup:_t}}var vo={_sum:function(e,t){return Zr(t)},_count:function(e,t){return t.length},_stats:function(e,t){function r(i){for(var l=0,y=0,E=i.length;y<E;y++){var T=i[y];l+=T*T}return l}return{sum:Zr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:r(t)}}};function ba(e){if(/^_sum/.test(e))return vo._sum;if(/^_count/.test(e))return vo._count;if(/^_stats/.test(e))return vo._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function Ko(e,t){if(typeof e=="function"&&e.length===2){var r=e;return function(i){return r(i,t)}}else return Bo(e.toString(),t)}function Ea(e){var t=e.toString(),r=ba(t);return r||Bo(t)}function Aa(e,t){var r=e.views&&e.views[t];if(typeof r.map!="string")throw new ks("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)}var Go="mrviews",mo=po(Go,Ko,Ea,Aa);function Vo(e,t,r){return mo.query.call(this,e,t,r)}function Wo(e){return mo.viewCleanup.call(this,e)}var Ma={query:Vo,viewCleanup:Wo};function xn(e){return/^1-/.test(e)}function Sa(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}function _o(e,t){var r=Object.keys(t._attachments);return Promise.all(r.map(function(i){return e.getAttachment(t._id,i,{rev:t._rev})}))}function zo(e,t,r){var i=On(t)&&!On(e),l=Object.keys(r._attachments);return i?e.get(r._id).then(function(y){return Promise.all(l.map(function(E){return Sa(y,r,E)?t.getAttachment(r._id,E):e.getAttachment(y._id,E)}))}).catch(function(y){if(y.status!==404)throw y;return _o(t,r)}):_o(t,r)}function Ca(e){var t=[];return Object.keys(e).forEach(function(r){var i=e[r].missing;i.forEach(function(l){t.push({id:r,rev:l})})}),{docs:t,revs:!0,latest:!0}}function Ta(e,t,r,i){r=et(r);var l=[],y=!0;function E(){var B=Ca(r);if(!!B.docs.length)return e.bulkGet(B).then(function(U){if(i.cancelled)throw new Error("cancelled");return Promise.all(U.results.map(function(O){return Promise.all(O.docs.map(function(I){var J=I.ok;return I.error&&(y=!1),!J||!J._attachments?J:zo(t,e,J).then(function(se){var ee=Object.keys(J._attachments);return se.forEach(function(F,me){var _e=J._attachments[ee[me]];delete _e.stub,delete _e.length,_e.data=F}),J})}))})).then(function(O){l=l.concat(ai(O).filter(Boolean))})})}function T(B){return B._attachments&&Object.keys(B._attachments).length>0}function $(B){return B._conflicts&&B._conflicts.length>0}function V(B){return e.allDocs({keys:B,include_docs:!0,conflicts:!0}).then(function(U){if(i.cancelled)throw new Error("cancelled");U.rows.forEach(function(O){O.deleted||!O.doc||!xn(O.value.rev)||T(O.doc)||$(O.doc)||(O.doc._conflicts&&delete O.doc._conflicts,l.push(O.doc),delete r[O.id])})})}function re(){var B=Object.keys(r).filter(function(U){var O=r[U].missing;return O.length===1&&xn(O[0])});if(B.length>0)return V(B)}function S(){return{ok:y,docs:l}}return Promise.resolve().then(re).then(E).then(S)}var Yo=1,go="pouchdb",Qo=5,fr=0;function Ti(e,t,r,i,l){return e.get(t).catch(function(y){if(y.status===404)return(e.adapter==="http"||e.adapter==="https")&&Br(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:go,version:Yo};throw y}).then(function(y){if(!l.cancelled&&y.last_seq!==r)return y.history=(y.history||[]).filter(function(E){return E.session_id!==i}),y.history.unshift({last_seq:r,session_id:i}),y.history=y.history.slice(0,Qo),y.version=Yo,y.replicator=go,y.session_id=i,y.last_seq=r,e.put(y).catch(function(E){if(E.status===409)return Ti(e,t,r,i,l);throw E})})}function Oi(e,t,r,i,l){this.src=e,this.target=t,this.id=r,this.returnValue=i,this.opts=l||{}}Oi.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},Oi.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Ti(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Oi.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return Ti(this.src,this.id,e,t,this.returnValue).catch(function(i){if(Zo(i))return r.opts.writeSourceCheckpoint=!1,!0;throw i})}else return Promise.resolve(!0)};var xs={undefined:function(e,t){return en(e.last_seq,t.last_seq)===0?t.last_seq:0},"1":function(e,t){return Jo(t,e).last_seq}};Oi.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(t){return t.last_seq||fr}).catch(function(t){if(t.status!==404)throw t;return fr}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||fr:e.src.get(e.id).then(function(r){if(t.version!==r.version)return fr;var i;return t.version?i=t.version.toString():i="undefined",i in xs?xs[i](t,r):fr},function(r){if(r.status===404&&t.last_seq)return e.src.put({_id:e.id,last_seq:fr}).then(function(){return fr},function(i){return Zo(i)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):fr});throw r})}).catch(function(t){if(t.status!==404)throw t;return fr})};function Jo(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Xo(e.history,t.history)}function Xo(e,t){var r=e[0],i=e.slice(1),l=t[0],y=t.slice(1);if(!r||t.length===0)return{last_seq:fr,history:[]};var E=r.session_id;if(Ps(E,t))return{last_seq:r.last_seq,history:e};var T=l.session_id;return Ps(T,i)?{last_seq:l.last_seq,history:y}:Xo(i,y)}function Ps(e,t){var r=t[0],i=t.slice(1);return!e||t.length===0?!1:e===r.session_id?!0:Ps(e,i)}function Zo(e){return typeof e.status=="number"&&Math.floor(e.status/100)===4}var yo=0;function Oa(e,t,r,i){if(e.retry===!1){t.emit("error",r),t.removeAllListeners();return}if(typeof e.back_off_function!="function"&&(e.back_off_function=ls),t.emit("requestError",r),t.state==="active"||t.state==="pending"){t.emit("paused",r),t.state="stopped";var l=function(){e.current_back_off=yo},y=function(){t.removeListener("active",l)};t.once("paused",y),t.once("active",l)}e.current_back_off=e.current_back_off||yo,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}function ea(e){return Object.keys(e).sort(en).reduce(function(t,r){return t[r]=e[r],t},{})}function wo(e,t,r){var i=r.doc_ids?r.doc_ids.sort(en):"",l=r.filter?r.filter.toString():"",y="",E="",T="";return r.selector&&(T=JSON.stringify(r.selector)),r.filter&&r.query_params&&(y=JSON.stringify(ea(r.query_params))),r.filter&&r.filter==="_view"&&(E=r.view.toString()),Promise.all([e.id(),t.id()]).then(function($){var V=$[0]+$[1]+l+E+y+i+T;return new Promise(function(re){Ri(V,re)})}).then(function($){return $=$.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+$})}function ta(e,t,r,i,l){var y=[],E,T={seq:0,changes:[],docs:[]},$=!1,V=!1,re=!1,S=0,B=r.continuous||r.live||!1,U=r.batch_size||100,O=r.batches_limit||10,I=!1,J=r.doc_ids,se=r.selector,ee,F,me=[],_e=hi();l=l||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var Pe={};i.ready(e,t);function Ce(){return F?Promise.resolve():wo(e,t,r).then(function(ae){ee=ae;var be={};r.checkpoint===!1?be={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:r.checkpoint==="source"?be={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:r.checkpoint==="target"?be={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:be={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},F=new Oi(e,t,ee,i,be)})}function je(){if(me=[],E.docs.length!==0){var ae=E.docs,be={timeout:r.timeout};return t.bulkDocs({docs:ae,new_edits:!1},be).then(function(qe){if(i.cancelled)throw Ye(),new Error("cancelled");var Ue=Object.create(null);qe.forEach(function(He){He.error&&(Ue[He.id]=He)});var Fe=Object.keys(Ue).length;l.doc_write_failures+=Fe,l.docs_written+=ae.length-Fe,ae.forEach(function(He){var De=Ue[He._id];if(De){l.errors.push(De);var ze=(De.name||"").toLowerCase();if(ze==="unauthorized"||ze==="forbidden")i.emit("denied",et(De));else throw De}else me.push(He)})},function(qe){throw l.doc_write_failures+=ae.length,qe})}}function Ge(){if(E.error)throw new Error("There was a problem getting docs.");l.last_seq=S=E.seq;var ae=et(l);return me.length&&(ae.docs=me,typeof E.pending=="number"&&(ae.pending=E.pending,delete E.pending),i.emit("change",ae)),$=!0,F.writeCheckpoint(E.seq,_e).then(function(){if($=!1,i.cancelled)throw Ye(),new Error("cancelled");E=void 0,pe()}).catch(function(be){throw Ee(be),be})}function Be(){var ae={};return E.changes.forEach(function(be){be.id!=="_user/"&&(ae[be.id]=be.changes.map(function(qe){return qe.rev}))}),t.revsDiff(ae).then(function(be){if(i.cancelled)throw Ye(),new Error("cancelled");E.diffs=be})}function nt(){return Ta(e,t,E.diffs,i).then(function(ae){E.error=!ae.ok,ae.docs.forEach(function(be){delete E.diffs[be._id],l.docs_read++,E.docs.push(be)})})}function Je(){if(!(i.cancelled||E)){if(y.length===0){ut(!0);return}E=y.shift(),Be().then(nt).then(je).then(Ge).then(Je).catch(function(ae){rt("batch processing terminated with error",ae)})}}function ut(ae){if(T.changes.length===0){y.length===0&&!E&&((B&&Pe.live||V)&&(i.state="pending",i.emit("paused")),V&&Ye());return}(ae||V||T.changes.length>=U)&&(y.push(T),T={seq:0,changes:[],docs:[]},(i.state==="pending"||i.state==="stopped")&&(i.state="active",i.emit("active")),Je())}function rt(ae,be){re||(be.message||(be.message=ae),l.ok=!1,l.status="aborting",y=[],T={seq:0,changes:[],docs:[]},Ye(be))}function Ye(ae){if(!re&&!(i.cancelled&&(l.status="cancelled",$)))if(l.status=l.status||"complete",l.end_time=new Date().toISOString(),l.last_seq=S,re=!0,ae){ae=Qe(ae),ae.result=l;var be=(ae.name||"").toLowerCase();be==="unauthorized"||be==="forbidden"?(i.emit("error",ae),i.removeAllListeners()):Oa(r,i,ae,function(){ta(e,t,r,i)})}else i.emit("complete",l),i.removeAllListeners()}function _t(ae,be,qe){if(i.cancelled)return Ye();typeof be=="number"&&(T.pending=be);var Ue=ki(r)(ae);!Ue||(T.seq=ae.seq||qe,T.changes.push(ae),h(function(){ut(y.length===0&&Pe.live)}))}function Y(ae){if(I=!1,i.cancelled)return Ye();if(ae.results.length>0)Pe.since=ae.results[ae.results.length-1].seq,pe(),ut(!0);else{var be=function(){B?(Pe.live=!0,pe()):V=!0,ut(!0)};!E&&ae.results.length===0?($=!0,F.writeCheckpoint(ae.last_seq,_e).then(function(){$=!1,l.last_seq=S=ae.last_seq,be()}).catch(Ee)):be()}}function ie(ae){if(I=!1,i.cancelled)return Ye();rt("changes rejected",ae)}function pe(){if(!(!I&&!V&&y.length<O))return;I=!0;function ae(){qe.cancel()}function be(){i.removeListener("cancel",ae)}i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",ae);var qe=e.changes(Pe).on("change",_t);qe.then(be,be),qe.then(Y).catch(ie),r.retry&&(i._changes=qe,i._abortChanges=ae)}function $e(){Ce().then(function(){if(i.cancelled){Ye();return}return F.getCheckpoint().then(function(ae){S=ae,Pe={since:S,limit:U,batch_size:U,style:"all_docs",doc_ids:J,selector:se,return_docs:!0},r.filter&&(typeof r.filter!="string"?Pe.include_docs=!0:Pe.filter=r.filter),"heartbeat"in r&&(Pe.heartbeat=r.heartbeat),"timeout"in r&&(Pe.timeout=r.timeout),r.query_params&&(Pe.query_params=r.query_params),r.view&&(Pe.view=r.view),pe()})}).catch(function(ae){rt("getCheckpoint rejected with ",ae)})}function Ee(ae){$=!1,rt("writeCheckpoint completed with error",ae)}if(i.cancelled){Ye();return}i._addedListeners||(i.once("cancel",Ye),typeof r.complete=="function"&&(i.once("error",r.complete),i.once("complete",function(ae){r.complete(null,ae)})),i._addedListeners=!0),typeof r.since=="undefined"?$e():Ce().then(function(){return $=!0,F.writeCheckpoint(r.since,_e)}).then(function(){if($=!1,i.cancelled){Ye();return}S=r.since,$e()}).catch(Ee)}ve(Is,ue.EventEmitter);function Is(){ue.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise(function(r,i){e.once("complete",r),e.once("error",i)});e.then=function(r,i){return t.then(r,i)},e.catch=function(r){return t.catch(r)},e.catch(function(){})}Is.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Is.prototype.ready=function(e,t){var r=this;if(r._readyCalled)return;r._readyCalled=!0;function i(){r.cancel()}e.once("destroyed",i),t.once("destroyed",i);function l(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}r.once("complete",l)};function Rs(e,t){var r=t.PouchConstructor;return typeof e=="string"?new r(e,t):e}function bo(e,t,r,i){if(typeof r=="function"&&(i=r,r={}),typeof r=="undefined"&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw Qe(er,"`doc_ids` filter parameter is not a list.");r.complete=i,r=et(r),r.continuous=r.continuous||r.live,r.retry="retry"in r?r.retry:!1,r.PouchConstructor=r.PouchConstructor||this;var l=new Is(r),y=Rs(e,r),E=Rs(t,r);return ta(y,E,r,l),l}ve(Bs,ue.EventEmitter);function ns(e,t,r,i){return typeof r=="function"&&(i=r,r={}),typeof r=="undefined"&&(r={}),r=et(r),r.PouchConstructor=r.PouchConstructor||this,e=Rs(e,r),t=Rs(t,r),new Bs(e,t,r,i)}function Bs(e,t,r,i){var l=this;this.canceled=!1;var y=r.push?Zn({},r,r.push):r,E=r.pull?Zn({},r,r.pull):r;this.push=bo(e,t,y),this.pull=bo(t,e,E),this.pushPaused=!0,this.pullPaused=!0;function T(F){l.emit("change",{direction:"pull",change:F})}function $(F){l.emit("change",{direction:"push",change:F})}function V(F){l.emit("denied",{direction:"push",doc:F})}function re(F){l.emit("denied",{direction:"pull",doc:F})}function S(){l.pushPaused=!0,l.pullPaused&&l.emit("paused")}function B(){l.pullPaused=!0,l.pushPaused&&l.emit("paused")}function U(){l.pushPaused=!1,l.pullPaused&&l.emit("active",{direction:"push"})}function O(){l.pullPaused=!1,l.pushPaused&&l.emit("active",{direction:"pull"})}var I={};function J(F){return function(me,_e){var Pe=me==="change"&&(_e===T||_e===$),Ce=me==="denied"&&(_e===re||_e===V),je=me==="paused"&&(_e===B||_e===S),Ge=me==="active"&&(_e===O||_e===U);(Pe||Ce||je||Ge)&&(me in I||(I[me]={}),I[me][F]=!0,Object.keys(I[me]).length===2&&l.removeAllListeners(me))}}r.live&&(this.push.on("complete",l.pull.cancel.bind(l.pull)),this.pull.on("complete",l.push.cancel.bind(l.push)));function se(F,me,_e){F.listeners(me).indexOf(_e)==-1&&F.on(me,_e)}this.on("newListener",function(F){F==="change"?(se(l.pull,"change",T),se(l.push,"change",$)):F==="denied"?(se(l.pull,"denied",re),se(l.push,"denied",V)):F==="active"?(se(l.pull,"active",O),se(l.push,"active",U)):F==="paused"&&(se(l.pull,"paused",B),se(l.push,"paused",S))}),this.on("removeListener",function(F){F==="change"?(l.pull.removeListener("change",T),l.push.removeListener("change",$)):F==="denied"?(l.pull.removeListener("denied",re),l.push.removeListener("denied",V)):F==="active"?(l.pull.removeListener("active",O),l.push.removeListener("active",U)):F==="paused"&&(l.pull.removeListener("paused",B),l.push.removeListener("paused",S))}),this.pull.on("removeListener",J("pull")),this.push.on("removeListener",J("push"));var ee=Promise.all([this.push,this.pull]).then(function(F){var me={push:F[0],pull:F[1]};return l.emit("complete",me),i&&i(null,me),l.removeAllListeners(),me},function(F){if(l.cancel(),i?i(F):l.emit("error",F),l.removeAllListeners(),i)throw F});this.then=function(F,me){return ee.then(F,me)},this.catch=function(F){return ee.catch(F)}}Bs.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};function ja(e){e.replicate=bo,e.sync=ns,Object.defineProperty(e.prototype,"replicate",{get:function(){var t=this;return typeof this.replicateMethods=="undefined"&&(this.replicateMethods={from:function(r,i,l){return t.constructor.replicate(r,t,i,l)},to:function(r,i,l){return t.constructor.replicate(t,r,i,l)}}),this.replicateMethods}}),e.prototype.sync=function(t,r,i){return this.constructor.sync(this,t,r,i)}}at.plugin(da).plugin(ma).plugin(Ma).plugin(ja),f.exports=at}).call(this,M(5),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"1":1,"12":12,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7}]},{},[13])(13)});(function(){function M(f,P,K){function w(N,W){if(!P[N]){if(!f[N]){var te=typeof require=="function"&&require;if(!W&&te)return te(N,!0);if(D)return D(N,!0);var ge=new Error("Cannot find module '"+N+"'");throw ge.code="MODULE_NOT_FOUND",ge}var ve=P[N]={exports:{}};f[N][0].call(ve.exports,function(ue){var L=f[N][1][ue];return w(L||ue)},ve,ve.exports,M,f,P,K)}return P[N].exports}for(var D=typeof require=="function"&&require,h=0;h<K.length;h++)w(K[h]);return w}return M})()({1:[function(M,f,P){f.exports=K;function K(w){return function(){var D=arguments.length;if(D){for(var h=[],N=-1;++N<D;)h[N]=arguments[N];return w.call(this,h)}else return w.call(this,[])}}},{}],2:[function(M,f,P){},{}],3:[function(M,f,P){var K=Object.create||Ie,w=Object.keys||Ct,D=Function.prototype.bind||et;function h(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=K(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}f.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._maxListeners=void 0;var N=10,W;try{var te={};Object.defineProperty&&Object.defineProperty(te,"x",{value:0}),W=te.x===0}catch{W=!1}W?Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return N},set:function(q){if(typeof q!="number"||q<0||q!==q)throw new TypeError('"defaultMaxListeners" must be a positive number');N=q}}):h.defaultMaxListeners=N,h.prototype.setMaxListeners=function(H){if(typeof H!="number"||H<0||isNaN(H))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=H,this};function ge(q){return q._maxListeners===void 0?h.defaultMaxListeners:q._maxListeners}h.prototype.getMaxListeners=function(){return ge(this)};function ve(q,H,G){if(H)q.call(G);else for(var Q=q.length,he=v(q,Q),ke=0;ke<Q;++ke)he[ke].call(G)}function ue(q,H,G,Q){if(H)q.call(G,Q);else for(var he=q.length,ke=v(q,he),de=0;de<he;++de)ke[de].call(G,Q)}function L(q,H,G,Q,he){if(H)q.call(G,Q,he);else for(var ke=q.length,de=v(q,ke),st=0;st<ke;++st)de[st].call(G,Q,he)}function ye(q,H,G,Q,he,ke){if(H)q.call(G,Q,he,ke);else for(var de=q.length,st=v(q,de),Ht=0;Ht<de;++Ht)st[Ht].call(G,Q,he,ke)}function Ne(q,H,G,Q){if(H)q.apply(G,Q);else for(var he=q.length,ke=v(q,he),de=0;de<he;++de)ke[de].apply(G,Q)}h.prototype.emit=function(H){var G,Q,he,ke,de,st,Ht=H==="error";if(st=this._events,st)Ht=Ht&&st.error==null;else if(!Ht)return!1;if(Ht){if(arguments.length>1&&(G=arguments[1]),G instanceof Error)throw G;var Pn=new Error('Unhandled "error" event. ('+G+")");throw Pn.context=G,Pn}if(Q=st[H],!Q)return!1;var Ft=typeof Q=="function";switch(he=arguments.length,he){case 1:ve(Q,Ft,this);break;case 2:ue(Q,Ft,this,arguments[1]);break;case 3:L(Q,Ft,this,arguments[1],arguments[2]);break;case 4:ye(Q,Ft,this,arguments[1],arguments[2],arguments[3]);break;default:for(ke=new Array(he-1),de=1;de<he;de++)ke[de-1]=arguments[de];Ne(Q,Ft,this,ke)}return!0};function j(q,H,G,Q){var he,ke,de;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if(ke=q._events,ke?(ke.newListener&&(q.emit("newListener",H,G.listener?G.listener:G),ke=q._events),de=ke[H]):(ke=q._events=K(null),q._eventsCount=0),!de)de=ke[H]=G,++q._eventsCount;else if(typeof de=="function"?de=ke[H]=Q?[G,de]:[de,G]:Q?de.unshift(G):de.push(G),!de.warned&&(he=ge(q),he&&he>0&&de.length>he)){de.warned=!0;var st=new Error("Possible EventEmitter memory leak detected. "+de.length+' "'+String(H)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');st.name="MaxListenersExceededWarning",st.emitter=q,st.type=H,st.count=de.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",st.name,st.message)}return q}h.prototype.addListener=function(H,G){return j(this,H,G,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(H,G){return j(this,H,G,!0)};function Z(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var q=new Array(arguments.length),H=0;H<q.length;++H)q[H]=arguments[H];this.listener.apply(this.target,q)}}function g(q,H,G){var Q={fired:!1,wrapFn:void 0,target:q,type:H,listener:G},he=D.call(Z,Q);return he.listener=G,Q.wrapFn=he,he}h.prototype.once=function(H,G){if(typeof G!="function")throw new TypeError('"listener" argument must be a function');return this.on(H,g(this,H,G)),this},h.prototype.prependOnceListener=function(H,G){if(typeof G!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(H,g(this,H,G)),this},h.prototype.removeListener=function(H,G){var Q,he,ke,de,st;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if(he=this._events,!he)return this;if(Q=he[H],!Q)return this;if(Q===G||Q.listener===G)--this._eventsCount==0?this._events=K(null):(delete he[H],he.removeListener&&this.emit("removeListener",H,Q.listener||G));else if(typeof Q!="function"){for(ke=-1,de=Q.length-1;de>=0;de--)if(Q[de]===G||Q[de].listener===G){st=Q[de].listener,ke=de;break}if(ke<0)return this;ke===0?Q.shift():c(Q,ke),Q.length===1&&(he[H]=Q[0]),he.removeListener&&this.emit("removeListener",H,st||G)}return this},h.prototype.removeAllListeners=function(H){var G,Q,he;if(Q=this._events,!Q)return this;if(!Q.removeListener)return arguments.length===0?(this._events=K(null),this._eventsCount=0):Q[H]&&(--this._eventsCount==0?this._events=K(null):delete Q[H]),this;if(arguments.length===0){var ke=w(Q),de;for(he=0;he<ke.length;++he)de=ke[he],de!=="removeListener"&&this.removeAllListeners(de);return this.removeAllListeners("removeListener"),this._events=K(null),this._eventsCount=0,this}if(G=Q[H],typeof G=="function")this.removeListener(H,G);else if(G)for(he=G.length-1;he>=0;he--)this.removeListener(H,G[he]);return this};function m(q,H,G){var Q=q._events;if(!Q)return[];var he=Q[H];return he?typeof he=="function"?G?[he.listener||he]:[he]:G?_(he):v(he,he.length):[]}h.prototype.listeners=function(H){return m(this,H,!0)},h.prototype.rawListeners=function(H){return m(this,H,!1)},h.listenerCount=function(q,H){return typeof q.listenerCount=="function"?q.listenerCount(H):u.call(q,H)},h.prototype.listenerCount=u;function u(q){var H=this._events;if(H){var G=H[q];if(typeof G=="function")return 1;if(G)return G.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function c(q,H){for(var G=H,Q=G+1,he=q.length;Q<he;G+=1,Q+=1)q[G]=q[Q];q.pop()}function v(q,H){for(var G=new Array(H),Q=0;Q<H;++Q)G[Q]=q[Q];return G}function _(q){for(var H=new Array(q.length),G=0;G<H.length;++G)H[G]=q[G].listener||q[G];return H}function Ie(q){var H=function(){};return H.prototype=q,new H}function Ct(q){for(var H in q)Object.prototype.hasOwnProperty.call(q,H);return H}function et(q){var H=this;return function(){return H.apply(q,arguments)}}},{}],4:[function(M,f,P){var K=[M(2),M(7),M(6),M(5),M(8),M(9)],w,D,h=-1,N=[],W=!1;function te(){!w||!D||(w=!1,D.length?N=D.concat(N):h=-1,N.length&&ge())}function ge(){if(!w){W=!1,w=!0;for(var j=N.length,Z=setTimeout(te);j;){for(D=N,N=[];D&&++h<j;)D[h].run();h=-1,j=N.length}D=null,h=-1,w=!1,clearTimeout(Z)}}for(var ve,ue=-1,L=K.length;++ue<L;)if(K[ue]&&K[ue].test&&K[ue].test()){ve=K[ue].install(ge);break}function ye(j,Z){this.fun=j,this.array=Z}ye.prototype.run=function(){var j=this.fun,Z=this.array;switch(Z.length){case 0:return j();case 1:return j(Z[0]);case 2:return j(Z[0],Z[1]);case 3:return j(Z[0],Z[1],Z[2]);default:return j.apply(null,Z)}},f.exports=Ne;function Ne(j){var Z=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)Z[g-1]=arguments[g];N.push(new ye(j,Z)),!W&&!w&&(W=!0,ve())}},{"2":2,"5":5,"6":6,"7":7,"8":8,"9":9}],5:[function(M,f,P){(function(K){P.test=function(){return K.setImmediate?!1:typeof K.MessageChannel!="undefined"},P.install=function(w){var D=new K.MessageChannel;return D.port1.onmessage=w,function(){D.port2.postMessage(0)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],6:[function(M,f,P){(function(K){var w=K.MutationObserver||K.WebKitMutationObserver;P.test=function(){return w},P.install=function(D){var h=0,N=new w(D),W=K.document.createTextNode("");return N.observe(W,{characterData:!0}),function(){W.data=h=++h%2}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],7:[function(M,f,P){(function(K){P.test=function(){return typeof K.queueMicrotask=="function"},P.install=function(w){return function(){K.queueMicrotask(w)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],8:[function(M,f,P){(function(K){P.test=function(){return"document"in K&&"onreadystatechange"in K.document.createElement("script")},P.install=function(w){return function(){var D=K.document.createElement("script");return D.onreadystatechange=function(){w(),D.onreadystatechange=null,D.parentNode.removeChild(D),D=null},K.document.documentElement.appendChild(D),w}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],9:[function(M,f,P){P.test=function(){return!0},P.install=function(K){return function(){setTimeout(K,0)}}},{}],10:[function(M,f,P){typeof Object.create=="function"?f.exports=function(w,D){D&&(w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:f.exports=function(w,D){if(D){w.super_=D;var h=function(){};h.prototype=D.prototype,w.prototype=new h,w.prototype.constructor=w}}},{}],11:[function(M,f,P){(function(K){if(typeof P=="object")f.exports=K();else if(typeof define=="function"&&define.amd)define(K);else{var w;try{w=window}catch{w=self}w.SparkMD5=K()}})(function(K){var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function D(g,m){var u=g[0],c=g[1],v=g[2],_=g[3];u+=(c&v|~c&_)+m[0]-680876936|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[1]-389564586|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[2]+606105819|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[3]-1044525330|0,c=(c<<22|c>>>10)+v|0,u+=(c&v|~c&_)+m[4]-176418897|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[5]+1200080426|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[6]-1473231341|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[7]-45705983|0,c=(c<<22|c>>>10)+v|0,u+=(c&v|~c&_)+m[8]+1770035416|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[9]-1958414417|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[10]-42063|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[11]-1990404162|0,c=(c<<22|c>>>10)+v|0,u+=(c&v|~c&_)+m[12]+1804603682|0,u=(u<<7|u>>>25)+c|0,_+=(u&c|~u&v)+m[13]-40341101|0,_=(_<<12|_>>>20)+u|0,v+=(_&u|~_&c)+m[14]-1502002290|0,v=(v<<17|v>>>15)+_|0,c+=(v&_|~v&u)+m[15]+1236535329|0,c=(c<<22|c>>>10)+v|0,u+=(c&_|v&~_)+m[1]-165796510|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[6]-1069501632|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[11]+643717713|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[0]-373897302|0,c=(c<<20|c>>>12)+v|0,u+=(c&_|v&~_)+m[5]-701558691|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[10]+38016083|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[15]-660478335|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[4]-405537848|0,c=(c<<20|c>>>12)+v|0,u+=(c&_|v&~_)+m[9]+568446438|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[14]-1019803690|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[3]-187363961|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[8]+1163531501|0,c=(c<<20|c>>>12)+v|0,u+=(c&_|v&~_)+m[13]-1444681467|0,u=(u<<5|u>>>27)+c|0,_+=(u&v|c&~v)+m[2]-51403784|0,_=(_<<9|_>>>23)+u|0,v+=(_&c|u&~c)+m[7]+1735328473|0,v=(v<<14|v>>>18)+_|0,c+=(v&u|_&~u)+m[12]-1926607734|0,c=(c<<20|c>>>12)+v|0,u+=(c^v^_)+m[5]-378558|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[8]-2022574463|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[11]+1839030562|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[14]-35309556|0,c=(c<<23|c>>>9)+v|0,u+=(c^v^_)+m[1]-1530992060|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[4]+1272893353|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[7]-155497632|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[10]-1094730640|0,c=(c<<23|c>>>9)+v|0,u+=(c^v^_)+m[13]+681279174|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[0]-358537222|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[3]-722521979|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[6]+76029189|0,c=(c<<23|c>>>9)+v|0,u+=(c^v^_)+m[9]-640364487|0,u=(u<<4|u>>>28)+c|0,_+=(u^c^v)+m[12]-421815835|0,_=(_<<11|_>>>21)+u|0,v+=(_^u^c)+m[15]+530742520|0,v=(v<<16|v>>>16)+_|0,c+=(v^_^u)+m[2]-995338651|0,c=(c<<23|c>>>9)+v|0,u+=(v^(c|~_))+m[0]-198630844|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[7]+1126891415|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[14]-1416354905|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[5]-57434055|0,c=(c<<21|c>>>11)+v|0,u+=(v^(c|~_))+m[12]+1700485571|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[3]-1894986606|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[10]-1051523|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[1]-2054922799|0,c=(c<<21|c>>>11)+v|0,u+=(v^(c|~_))+m[8]+1873313359|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[15]-30611744|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[6]-1560198380|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[13]+1309151649|0,c=(c<<21|c>>>11)+v|0,u+=(v^(c|~_))+m[4]-145523070|0,u=(u<<6|u>>>26)+c|0,_+=(c^(u|~v))+m[11]-1120210379|0,_=(_<<10|_>>>22)+u|0,v+=(u^(_|~c))+m[2]+718787259|0,v=(v<<15|v>>>17)+_|0,c+=(_^(v|~u))+m[9]-343485551|0,c=(c<<21|c>>>11)+v|0,g[0]=u+g[0]|0,g[1]=c+g[1]|0,g[2]=v+g[2]|0,g[3]=_+g[3]|0}function h(g){var m=[],u;for(u=0;u<64;u+=4)m[u>>2]=g.charCodeAt(u)+(g.charCodeAt(u+1)<<8)+(g.charCodeAt(u+2)<<16)+(g.charCodeAt(u+3)<<24);return m}function N(g){var m=[],u;for(u=0;u<64;u+=4)m[u>>2]=g[u]+(g[u+1]<<8)+(g[u+2]<<16)+(g[u+3]<<24);return m}function W(g){var m=g.length,u=[1732584193,-271733879,-1732584194,271733878],c,v,_,Ie,Ct,et;for(c=64;c<=m;c+=64)D(u,h(g.substring(c-64,c)));for(g=g.substring(c-64),v=g.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<v;c+=1)_[c>>2]|=g.charCodeAt(c)<<(c%4<<3);if(_[c>>2]|=128<<(c%4<<3),c>55)for(D(u,_),c=0;c<16;c+=1)_[c]=0;return Ie=m*8,Ie=Ie.toString(16).match(/(.*?)(.{0,8})$/),Ct=parseInt(Ie[2],16),et=parseInt(Ie[1],16)||0,_[14]=Ct,_[15]=et,D(u,_),u}function te(g){var m=g.length,u=[1732584193,-271733879,-1732584194,271733878],c,v,_,Ie,Ct,et;for(c=64;c<=m;c+=64)D(u,N(g.subarray(c-64,c)));for(g=c-64<m?g.subarray(c-64):new Uint8Array(0),v=g.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<v;c+=1)_[c>>2]|=g[c]<<(c%4<<3);if(_[c>>2]|=128<<(c%4<<3),c>55)for(D(u,_),c=0;c<16;c+=1)_[c]=0;return Ie=m*8,Ie=Ie.toString(16).match(/(.*?)(.{0,8})$/),Ct=parseInt(Ie[2],16),et=parseInt(Ie[1],16)||0,_[14]=Ct,_[15]=et,D(u,_),u}function ge(g){var m="",u;for(u=0;u<4;u+=1)m+=w[g>>u*8+4&15]+w[g>>u*8&15];return m}function ve(g){var m;for(m=0;m<g.length;m+=1)g[m]=ge(g[m]);return g.join("")}ve(W("hello"))!=="5d41402abc4b2a76b9719d911017c592",typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function g(m,u){return m=m|0||0,m<0?Math.max(m+u,0):Math.min(m,u)}ArrayBuffer.prototype.slice=function(m,u){var c=this.byteLength,v=g(m,c),_=c,Ie,Ct,et,q;return u!==K&&(_=g(u,c)),v>_?new ArrayBuffer(0):(Ie=_-v,Ct=new ArrayBuffer(Ie),et=new Uint8Array(Ct),q=new Uint8Array(this,v,Ie),et.set(q),Ct)}}();function ue(g){return/[\u0080-\uFFFF]/.test(g)&&(g=unescape(encodeURIComponent(g))),g}function L(g,m){var u=g.length,c=new ArrayBuffer(u),v=new Uint8Array(c),_;for(_=0;_<u;_+=1)v[_]=g.charCodeAt(_);return m?v:c}function ye(g){return String.fromCharCode.apply(null,new Uint8Array(g))}function Ne(g,m,u){var c=new Uint8Array(g.byteLength+m.byteLength);return c.set(new Uint8Array(g)),c.set(new Uint8Array(m),g.byteLength),u?c:c.buffer}function j(g){var m=[],u=g.length,c;for(c=0;c<u-1;c+=2)m.push(parseInt(g.substr(c,2),16));return String.fromCharCode.apply(String,m)}function Z(){this.reset()}return Z.prototype.append=function(g){return this.appendBinary(ue(g)),this},Z.prototype.appendBinary=function(g){this._buff+=g,this._length+=g.length;var m=this._buff.length,u;for(u=64;u<=m;u+=64)D(this._hash,h(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},Z.prototype.end=function(g){var m=this._buff,u=m.length,c,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_;for(c=0;c<u;c+=1)v[c>>2]|=m.charCodeAt(c)<<(c%4<<3);return this._finish(v,u),_=ve(this._hash),g&&(_=j(_)),this.reset(),_},Z.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Z.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},Z.prototype.setState=function(g){return this._buff=g.buff,this._length=g.length,this._hash=g.hash,this},Z.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},Z.prototype._finish=function(g,m){var u=m,c,v,_;if(g[u>>2]|=128<<(u%4<<3),u>55)for(D(this._hash,g),u=0;u<16;u+=1)g[u]=0;c=this._length*8,c=c.toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(c[2],16),_=parseInt(c[1],16)||0,g[14]=v,g[15]=_,D(this._hash,g)},Z.hash=function(g,m){return Z.hashBinary(ue(g),m)},Z.hashBinary=function(g,m){var u=W(g),c=ve(u);return m?j(c):c},Z.ArrayBuffer=function(){this.reset()},Z.ArrayBuffer.prototype.append=function(g){var m=Ne(this._buff.buffer,g,!0),u=m.length,c;for(this._length+=g.byteLength,c=64;c<=u;c+=64)D(this._hash,N(m.subarray(c-64,c)));return this._buff=c-64<u?new Uint8Array(m.buffer.slice(c-64)):new Uint8Array(0),this},Z.ArrayBuffer.prototype.end=function(g){var m=this._buff,u=m.length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v,_;for(v=0;v<u;v+=1)c[v>>2]|=m[v]<<(v%4<<3);return this._finish(c,u),_=ve(this._hash),g&&(_=j(_)),this.reset(),_},Z.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Z.ArrayBuffer.prototype.getState=function(){var g=Z.prototype.getState.call(this);return g.buff=ye(g.buff),g},Z.ArrayBuffer.prototype.setState=function(g){return g.buff=L(g.buff,!0),Z.prototype.setState.call(this,g)},Z.ArrayBuffer.prototype.destroy=Z.prototype.destroy,Z.ArrayBuffer.prototype._finish=Z.prototype._finish,Z.ArrayBuffer.hash=function(g,m){var u=te(new Uint8Array(g)),c=ve(u);return m?j(c):c},Z})},{}],12:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;const K=[];for(let h=0;h<256;++h)K.push((h+256).toString(16).substr(1));function w(h,N){const W=N||0,te=K;return(te[h[W+0]]+te[h[W+1]]+te[h[W+2]]+te[h[W+3]]+"-"+te[h[W+4]]+te[h[W+5]]+"-"+te[h[W+6]]+te[h[W+7]]+"-"+te[h[W+8]]+te[h[W+9]]+"-"+te[h[W+10]]+te[h[W+11]]+te[h[W+12]]+te[h[W+13]]+te[h[W+14]]+te[h[W+15]]).toLowerCase()}var D=w;P.default=D},{}],13:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),Object.defineProperty(P,"v1",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(P,"v3",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(P,"v4",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(P,"v5",{enumerable:!0,get:function(){return h.default}});var K=N(M(17)),w=N(M(18)),D=N(M(20)),h=N(M(21));function N(W){return W&&W.__esModule?W:{default:W}}},{"17":17,"18":18,"20":20,"21":21}],14:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;function K(j){if(typeof j=="string"){const Z=unescape(encodeURIComponent(j));j=new Uint8Array(Z.length);for(let g=0;g<Z.length;++g)j[g]=Z.charCodeAt(g)}return w(h(N(j),j.length*8))}function w(j){const Z=[],g=j.length*32,m="0123456789abcdef";for(let u=0;u<g;u+=8){const c=j[u>>5]>>>u%32&255,v=parseInt(m.charAt(c>>>4&15)+m.charAt(c&15),16);Z.push(v)}return Z}function D(j){return(j+64>>>9<<4)+14+1}function h(j,Z){j[Z>>5]|=128<<Z%32,j[D(Z)-1]=Z;let g=1732584193,m=-271733879,u=-1732584194,c=271733878;for(let v=0;v<j.length;v+=16){const _=g,Ie=m,Ct=u,et=c;g=ve(g,m,u,c,j[v],7,-680876936),c=ve(c,g,m,u,j[v+1],12,-389564586),u=ve(u,c,g,m,j[v+2],17,606105819),m=ve(m,u,c,g,j[v+3],22,-1044525330),g=ve(g,m,u,c,j[v+4],7,-176418897),c=ve(c,g,m,u,j[v+5],12,1200080426),u=ve(u,c,g,m,j[v+6],17,-1473231341),m=ve(m,u,c,g,j[v+7],22,-45705983),g=ve(g,m,u,c,j[v+8],7,1770035416),c=ve(c,g,m,u,j[v+9],12,-1958414417),u=ve(u,c,g,m,j[v+10],17,-42063),m=ve(m,u,c,g,j[v+11],22,-1990404162),g=ve(g,m,u,c,j[v+12],7,1804603682),c=ve(c,g,m,u,j[v+13],12,-40341101),u=ve(u,c,g,m,j[v+14],17,-1502002290),m=ve(m,u,c,g,j[v+15],22,1236535329),g=ue(g,m,u,c,j[v+1],5,-165796510),c=ue(c,g,m,u,j[v+6],9,-1069501632),u=ue(u,c,g,m,j[v+11],14,643717713),m=ue(m,u,c,g,j[v],20,-373897302),g=ue(g,m,u,c,j[v+5],5,-701558691),c=ue(c,g,m,u,j[v+10],9,38016083),u=ue(u,c,g,m,j[v+15],14,-660478335),m=ue(m,u,c,g,j[v+4],20,-405537848),g=ue(g,m,u,c,j[v+9],5,568446438),c=ue(c,g,m,u,j[v+14],9,-1019803690),u=ue(u,c,g,m,j[v+3],14,-187363961),m=ue(m,u,c,g,j[v+8],20,1163531501),g=ue(g,m,u,c,j[v+13],5,-1444681467),c=ue(c,g,m,u,j[v+2],9,-51403784),u=ue(u,c,g,m,j[v+7],14,1735328473),m=ue(m,u,c,g,j[v+12],20,-1926607734),g=L(g,m,u,c,j[v+5],4,-378558),c=L(c,g,m,u,j[v+8],11,-2022574463),u=L(u,c,g,m,j[v+11],16,1839030562),m=L(m,u,c,g,j[v+14],23,-35309556),g=L(g,m,u,c,j[v+1],4,-1530992060),c=L(c,g,m,u,j[v+4],11,1272893353),u=L(u,c,g,m,j[v+7],16,-155497632),m=L(m,u,c,g,j[v+10],23,-1094730640),g=L(g,m,u,c,j[v+13],4,681279174),c=L(c,g,m,u,j[v],11,-358537222),u=L(u,c,g,m,j[v+3],16,-722521979),m=L(m,u,c,g,j[v+6],23,76029189),g=L(g,m,u,c,j[v+9],4,-640364487),c=L(c,g,m,u,j[v+12],11,-421815835),u=L(u,c,g,m,j[v+15],16,530742520),m=L(m,u,c,g,j[v+2],23,-995338651),g=ye(g,m,u,c,j[v],6,-198630844),c=ye(c,g,m,u,j[v+7],10,1126891415),u=ye(u,c,g,m,j[v+14],15,-1416354905),m=ye(m,u,c,g,j[v+5],21,-57434055),g=ye(g,m,u,c,j[v+12],6,1700485571),c=ye(c,g,m,u,j[v+3],10,-1894986606),u=ye(u,c,g,m,j[v+10],15,-1051523),m=ye(m,u,c,g,j[v+1],21,-2054922799),g=ye(g,m,u,c,j[v+8],6,1873313359),c=ye(c,g,m,u,j[v+15],10,-30611744),u=ye(u,c,g,m,j[v+6],15,-1560198380),m=ye(m,u,c,g,j[v+13],21,1309151649),g=ye(g,m,u,c,j[v+4],6,-145523070),c=ye(c,g,m,u,j[v+11],10,-1120210379),u=ye(u,c,g,m,j[v+2],15,718787259),m=ye(m,u,c,g,j[v+9],21,-343485551),g=W(g,_),m=W(m,Ie),u=W(u,Ct),c=W(c,et)}return[g,m,u,c]}function N(j){if(j.length===0)return[];const Z=j.length*8,g=new Uint32Array(D(Z));for(let m=0;m<Z;m+=8)g[m>>5]|=(j[m/8]&255)<<m%32;return g}function W(j,Z){const g=(j&65535)+(Z&65535);return(j>>16)+(Z>>16)+(g>>16)<<16|g&65535}function te(j,Z){return j<<Z|j>>>32-Z}function ge(j,Z,g,m,u,c){return W(te(W(W(Z,j),W(m,c)),u),g)}function ve(j,Z,g,m,u,c,v){return ge(Z&g|~Z&m,j,Z,u,c,v)}function ue(j,Z,g,m,u,c,v){return ge(Z&m|g&~m,j,Z,u,c,v)}function L(j,Z,g,m,u,c,v){return ge(Z^g^m,j,Z,u,c,v)}function ye(j,Z,g,m,u,c,v){return ge(g^(Z|~m),j,Z,u,c,v)}var Ne=K;P.default=Ne},{}],15:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=D;const K=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),w=new Uint8Array(16);function D(){if(!K)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(w)}},{}],16:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;function K(N,W,te,ge){switch(N){case 0:return W&te^~W&ge;case 1:return W^te^ge;case 2:return W&te^W&ge^te&ge;case 3:return W^te^ge}}function w(N,W){return N<<W|N>>>32-W}function D(N){const W=[1518500249,1859775393,2400959708,3395469782],te=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof N=="string"){const L=unescape(encodeURIComponent(N));N=[];for(let ye=0;ye<L.length;++ye)N.push(L.charCodeAt(ye))}N.push(128);const ge=N.length/4+2,ve=Math.ceil(ge/16),ue=new Array(ve);for(let L=0;L<ve;++L){const ye=new Uint32Array(16);for(let Ne=0;Ne<16;++Ne)ye[Ne]=N[L*64+Ne*4]<<24|N[L*64+Ne*4+1]<<16|N[L*64+Ne*4+2]<<8|N[L*64+Ne*4+3];ue[L]=ye}ue[ve-1][14]=(N.length-1)*8/Math.pow(2,32),ue[ve-1][14]=Math.floor(ue[ve-1][14]),ue[ve-1][15]=(N.length-1)*8&4294967295;for(let L=0;L<ve;++L){const ye=new Uint32Array(80);for(let u=0;u<16;++u)ye[u]=ue[L][u];for(let u=16;u<80;++u)ye[u]=w(ye[u-3]^ye[u-8]^ye[u-14]^ye[u-16],1);let Ne=te[0],j=te[1],Z=te[2],g=te[3],m=te[4];for(let u=0;u<80;++u){const c=Math.floor(u/20),v=w(Ne,5)+K(c,j,Z,g)+m+W[c]+ye[u]>>>0;m=g,g=Z,Z=w(j,30)>>>0,j=Ne,Ne=v}te[0]=te[0]+Ne>>>0,te[1]=te[1]+j>>>0,te[2]=te[2]+Z>>>0,te[3]=te[3]+g>>>0,te[4]=te[4]+m>>>0}return[te[0]>>24&255,te[0]>>16&255,te[0]>>8&255,te[0]&255,te[1]>>24&255,te[1]>>16&255,te[1]>>8&255,te[1]&255,te[2]>>24&255,te[2]>>16&255,te[2]>>8&255,te[2]&255,te[3]>>24&255,te[3]>>16&255,te[3]>>8&255,te[3]&255,te[4]>>24&255,te[4]>>16&255,te[4]>>8&255,te[4]&255]}var h=D;P.default=h},{}],17:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var K=D(M(15)),w=D(M(12));function D(ue){return ue&&ue.__esModule?ue:{default:ue}}let h,N,W=0,te=0;function ge(ue,L,ye){let Ne=L&&ye||0;const j=L||[];ue=ue||{};let Z=ue.node||h,g=ue.clockseq!==void 0?ue.clockseq:N;if(Z==null||g==null){const Ie=ue.random||(ue.rng||K.default)();Z==null&&(Z=h=[Ie[0]|1,Ie[1],Ie[2],Ie[3],Ie[4],Ie[5]]),g==null&&(g=N=(Ie[6]<<8|Ie[7])&16383)}let m=ue.msecs!==void 0?ue.msecs:Date.now(),u=ue.nsecs!==void 0?ue.nsecs:te+1;const c=m-W+(u-te)/1e4;if(c<0&&ue.clockseq===void 0&&(g=g+1&16383),(c<0||m>W)&&ue.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");W=m,te=u,N=g,m+=122192928e5;const v=((m&268435455)*1e4+u)%4294967296;j[Ne++]=v>>>24&255,j[Ne++]=v>>>16&255,j[Ne++]=v>>>8&255,j[Ne++]=v&255;const _=m/4294967296*1e4&268435455;j[Ne++]=_>>>8&255,j[Ne++]=_&255,j[Ne++]=_>>>24&15|16,j[Ne++]=_>>>16&255,j[Ne++]=g>>>8|128,j[Ne++]=g&255;for(let Ie=0;Ie<6;++Ie)j[Ne+Ie]=Z[Ie];return L||(0,w.default)(j)}var ve=ge;P.default=ve},{"12":12,"15":15}],18:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var K=D(M(19)),w=D(M(14));function D(W){return W&&W.__esModule?W:{default:W}}var N=(0,K.default)("v3",48,w.default);P.default=N},{"14":14,"19":19}],19:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=te,P.URL=P.DNS=void 0;var K=w(M(12));function w(ge){return ge&&ge.__esModule?ge:{default:ge}}function D(ge){const ve=[];return ge.replace(/[a-fA-F0-9]{2}/g,function(ue){ve.push(parseInt(ue,16))}),ve}function h(ge){ge=unescape(encodeURIComponent(ge));const ve=[];for(let ue=0;ue<ge.length;++ue)ve.push(ge.charCodeAt(ue));return ve}const N="6ba7b810-9dad-11d1-80b4-00c04fd430c8";P.DNS=N;const W="6ba7b811-9dad-11d1-80b4-00c04fd430c8";P.URL=W;function te(ge,ve,ue){function L(ye,Ne,j,Z){const g=j&&Z||0;if(typeof ye=="string"&&(ye=h(ye)),typeof Ne=="string"&&(Ne=D(Ne)),!Array.isArray(ye))throw TypeError("value must be an array of bytes");if(!Array.isArray(Ne)||Ne.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const m=ue(Ne.concat(ye));if(m[6]=m[6]&15|ve,m[8]=m[8]&63|128,j)for(let u=0;u<16;++u)j[g+u]=m[u];return j||(0,K.default)(m)}try{L.name=ge}catch{}return L.DNS=N,L.URL=W,L}},{"12":12}],20:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var K=D(M(15)),w=D(M(12));function D(W){return W&&W.__esModule?W:{default:W}}function h(W,te,ge){typeof W=="string"&&(te=W==="binary"?new Uint8Array(16):null,W=null),W=W||{};const ve=W.random||(W.rng||K.default)();if(ve[6]=ve[6]&15|64,ve[8]=ve[8]&63|128,te){const ue=ge||0;for(let L=0;L<16;++L)te[ue+L]=ve[L];return te}return(0,w.default)(ve)}var N=h;P.default=N},{"12":12,"15":15}],21:[function(M,f,P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var K=D(M(19)),w=D(M(16));function D(W){return W&&W.__esModule?W:{default:W}}var N=(0,K.default)("v5",80,w.default);P.default=N},{"16":16,"19":19}],22:[function(M,f,P){function K(s){return s&&typeof s=="object"&&"default"in s?s.default:s}var w=K(M(4)),D=K(M(3));M(13);var h=K(M(11)),N=K(M(1)),W=K(M(10));function te(s){return typeof ArrayBuffer!="undefined"&&s instanceof ArrayBuffer||typeof Blob!="undefined"&&s instanceof Blob}function ge(s){if(typeof s.slice=="function")return s.slice(0);var a=new ArrayBuffer(s.byteLength),p=new Uint8Array(a),b=new Uint8Array(s);return p.set(b),a}function ve(s){if(s instanceof ArrayBuffer)return ge(s);var a=s.size,p=s.type;return typeof s.slice=="function"?s.slice(0,a,p):s.webkitSlice(0,a,p)}var ue=Function.prototype.toString,L=ue.call(Object);function ye(s){var a=Object.getPrototypeOf(s);if(a===null)return!0;var p=a.constructor;return typeof p=="function"&&p instanceof p&&ue.call(p)==L}function Ne(s){var a,p,b;if(!s||typeof s!="object")return s;if(Array.isArray(s)){for(a=[],p=0,b=s.length;p<b;p++)a[p]=Ne(s[p]);return a}if(s instanceof Date)return s.toISOString();if(te(s))return ve(s);if(!ye(s))return s;a={};for(p in s)if(Object.prototype.hasOwnProperty.call(s,p)){var x=Ne(s[p]);typeof x!="undefined"&&(a[p]=x)}return a}function j(s){var a=!1;return N(function(p){if(a)throw new Error("once called more than once");a=!0,s.apply(this,p)})}function Z(s){return N(function(a){a=Ne(a);var p=this,b=typeof a[a.length-1]=="function"?a.pop():!1,x=new Promise(function(X,ne){var Oe;try{var Me=j(function(Ve,It){Ve?ne(Ve):X(It)});a.push(Me),Oe=s.apply(p,a),Oe&&typeof Oe.then=="function"&&X(Oe)}catch(Ve){ne(Ve)}});return b&&x.then(function(X){b(null,X)},b),x})}function g(s){return"$"+s}function m(s){return s.substring(1)}function u(){this._store={}}u.prototype.get=function(s){var a=g(s);return this._store[a]},u.prototype.set=function(s,a){var p=g(s);return this._store[p]=a,!0},u.prototype.has=function(s){var a=g(s);return a in this._store},u.prototype.delete=function(s){var a=g(s),p=a in this._store;return delete this._store[a],p},u.prototype.forEach=function(s){for(var a=Object.keys(this._store),p=0,b=a.length;p<b;p++){var x=a[p],X=this._store[x];x=m(x),s(X,x)}},Object.defineProperty(u.prototype,"size",{get:function(){return Object.keys(this._store).length}});function c(s){if(this._store=new u,s&&Array.isArray(s))for(var a=0,p=s.length;a<p;a++)this.add(s[a])}c.prototype.add=function(s){return this._store.set(s,!0)},c.prototype.has=function(s){return this._store.has(s)},c.prototype.forEach=function(s){this._store.forEach(function(a,p){s(p)})},Object.defineProperty(c.prototype,"size",{get:function(){return this._store.size}});function v(){if(typeof Symbol=="undefined"||typeof Map=="undefined"||typeof Set=="undefined")return!1;var s=Object.getOwnPropertyDescriptor(Map,Symbol.species);return s&&"get"in s&&Map[Symbol.species]===Map}var _,Ie;v()?(_=Set,Ie=Map):(_=c,Ie=u);function Ct(s,a){for(var p={},b=0,x=a.length;b<x;b++){var X=a[b];X in s&&(p[X]=s[X])}return p}var et;try{localStorage.setItem("_pouch_check_localstorage",1),et=!!localStorage.getItem("_pouch_check_localstorage")}catch{et=!1}function q(){return et}W(G,D);function H(s){q()&&addEventListener("storage",function(a){s.emit(a.key)})}function G(){D.call(this),this._listeners={},H(this)}G.prototype.addListener=function(s,a,p,b){if(this._listeners[a])return;var x=this,X=!1;function ne(){if(!x._listeners[a])return;if(X){X="waiting";return}X=!0;var Oe=Ct(b,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function Me(){X=!1}p.changes(Oe).on("change",function(Ve){Ve.seq>b.since&&!b.cancelled&&(b.since=Ve.seq,b.onChange(Ve))}).on("complete",function(){X==="waiting"&&w(ne),X=!1}).on("error",Me)}this._listeners[a]=ne,this.on(s,ne)},G.prototype.removeListener=function(s,a){a in this._listeners&&(D.prototype.removeListener.call(this,s,this._listeners[a]),delete this._listeners[a])},G.prototype.notifyLocalWindows=function(s){q()&&(localStorage[s]=localStorage[s]==="a"?"b":"a")},G.prototype.notify=function(s){this.emit(s),this.notifyLocalWindows(s)};function Q(s){if(typeof console!="undefined"&&typeof console[s]=="function"){var a=Array.prototype.slice.call(arguments,1);console[s].apply(console,a)}}var he;typeof Object.assign=="function"?he=Object.assign:he=function(s){for(var a=Object(s),p=1;p<arguments.length;p++){var b=arguments[p];if(b!=null)for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(a[x]=b[x])}return a};var ke=he;W(de,Error);function de(s,a,p){Error.call(this,p),this.status=s,this.name=a,this.message=p,this.error=!0}de.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new de(401,"unauthorized","Name or password is incorrect."),new de(400,"bad_request","Missing JSON list of 'docs'"),new de(404,"not_found","missing"),new de(409,"conflict","Document update conflict"),new de(400,"bad_request","_id field must contain a string"),new de(412,"missing_id","_id is required for puts"),new de(400,"bad_request","Only reserved document ids may start with underscore."),new de(412,"precondition_failed","Database not open");var st=new de(500,"unknown_error","Database encountered an unknown error");new de(500,"badarg","Some query argument is invalid"),new de(400,"invalid_request","Request was invalid"),new de(400,"query_parse_error","Some query parameter is invalid"),new de(500,"doc_validation","Bad special document member"),new de(400,"bad_request","Something wrong with the request"),new de(400,"bad_request","Document must be a JSON object"),new de(404,"not_found","Database not found"),new de(500,"indexed_db_went_bad","unknown"),new de(500,"web_sql_went_bad","unknown"),new de(500,"levelDB_went_went_bad","unknown"),new de(403,"forbidden","Forbidden by design doc validate_doc_update function"),new de(400,"bad_request","Invalid rev format"),new de(412,"file_exists","The database could not be created, the file already exists."),new de(412,"missing_stub","A pre-existing attachment stub wasn't found"),new de(413,"invalid_url","Provided URL is invalid");function Ht(s){if(typeof s!="object"){var a=s;s=st,s.data=a}return"error"in s&&s.error==="conflict"&&(s.name="conflict",s.status=409),"name"in s||(s.name=s.error||"unknown"),"status"in s||(s.status=500),"message"in s||(s.message=s.message||s.reason),s}function Pn(s){for(var a=[],p=0,b=s.length;p<b;p++)a=a.concat(s[p]);return a}function Ft(s){return typeof s._remote=="boolean"?s._remote:typeof s.type=="function"?(Q("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),s.type()==="http"):!1}function ni(s,a,p){return new Promise(function(b,x){s.get(a,function(X,ne){if(X){if(X.status!==404)return x(X);ne={}}var Oe=ne._rev,Me=p(ne);if(!Me)return b({updated:!1,rev:Oe});Me._id=a,Me._rev=Oe,b(Sr(s,Me,p))})})}function Sr(s,a,p){return s.put(a).then(function(b){return{updated:!0,rev:b.rev}},function(b){if(b.status!==409)throw b;return ni(s,a._id,p)})}var An=function(s){return atob(s)};function cs(s,a){s=s||[],a=a||{};try{return new Blob(s,a)}catch(X){if(X.name!=="TypeError")throw X;for(var p=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,b=new p,x=0;x<s.length;x+=1)b.append(s[x]);return b.getBlob(a.type)}}function ls(s){for(var a=s.length,p=new ArrayBuffer(a),b=new Uint8Array(p),x=0;x<a;x++)b[x]=s.charCodeAt(x);return p}function Br(s,a){return cs([ls(s)],{type:a})}function Ni(s,a){return Br(An(s),a)}function Zn(s){return h.hash(s)}var oe=Headers;function zn(s){return s=Ne(s),s.index||(s.index={}),["type","name","ddoc"].forEach(function(a){s.index[a]&&(s[a]=s.index[a],delete s.index[a])}),s.fields&&(s.index.fields=s.fields,delete s.fields),s.type||(s.type="json"),s}function Gt(s,a,p,b){var x,X;p.headers=new oe({"Content-type":"application/json"}),s.fetch(a,p).then(function(ne){return x=ne.status,X=ne.ok,ne.json()}).then(function(ne){if(X)b(null,ne);else{ne.status=x;var Oe=Ht(ne);b(Oe)}}).catch(b)}function Cr(s,a,p){a=zn(a),Gt(s,"_index",{method:"POST",body:JSON.stringify(a)},p)}function Tn(s,a,p){Gt(s,"_find",{method:"POST",body:JSON.stringify(a)},p)}function Hs(s,a,p){Gt(s,"_explain",{method:"POST",body:JSON.stringify(a)},p)}function $o(s,a){Gt(s,"_index",{method:"GET"},a)}function ri(s,a,p){var b=a.ddoc,x=a.type||"json",X=a.name;if(!b)return p(new Error("you must provide an index's ddoc"));if(!X)return p(new Error("you must provide an index's name"));var ne="_index/"+[b,x,X].map(encodeURIComponent).join("/");Gt(s,ne,{method:"DELETE"},p)}function ii(s,a){for(var p=s,b=0,x=a.length;b<x;b++){var X=a[b];if(p=p[X],!p)break}return p}function Fs(s,a,p){for(var b=0,x=a.length;b<x-1;b++){var X=a[b];s=s[X]=s[X]||{}}s[a[x-1]]=p}function si(s,a){return s<a?-1:s>a?1:0}function er(s){for(var a=[],p="",b=0,x=s.length;b<x;b++){var X=s[b];X==="."?b>0&&s[b-1]==="\\"?p=p.substring(0,p.length-1)+".":(a.push(p),p=""):p+=X}return a.push(p),a}var $i=["$or","$nor","$not"];function oi(s){return $i.indexOf(s)>-1}function wn(s){return Object.keys(s)[0]}function Li(s){return s[wn(s)]}function Qe(s){var a={};return s.forEach(function(p){Object.keys(p).forEach(function(b){var x=p[b];if(typeof x!="object"&&(x={$eq:x}),oi(b))x instanceof Array?a[b]=x.map(function(ne){return Qe([ne])}):a[b]=Qe([x]);else{var X=a[b]=a[b]||{};Object.keys(x).forEach(function(ne){var Oe=x[ne];if(ne==="$gt"||ne==="$gte")return Tr(ne,Oe,X);if(ne==="$lt"||ne==="$lte")return Lo(ne,Oe,X);if(ne==="$ne")return ki(Oe,X);if(ne==="$eq")return ai(Oe,X);X[ne]=Oe})}})}),a}function Tr(s,a,p){typeof p.$eq=="undefined"&&(typeof p.$gte!="undefined"?s==="$gte"?a>p.$gte&&(p.$gte=a):a>=p.$gte&&(delete p.$gte,p.$gt=a):typeof p.$gt!="undefined"?s==="$gte"?a>p.$gt&&(delete p.$gt,p.$gte=a):a>p.$gt&&(p.$gt=a):p[s]=a)}function Lo(s,a,p){typeof p.$eq=="undefined"&&(typeof p.$lte!="undefined"?s==="$lte"?a<p.$lte&&(p.$lte=a):a<=p.$lte&&(delete p.$lte,p.$lt=a):typeof p.$lt!="undefined"?s==="$lte"?a<p.$lt&&(delete p.$lt,p.$lte=a):a<p.$lt&&(p.$lt=a):p[s]=a)}function ki(s,a){"$ne"in a?a.$ne.push(s):a.$ne=[s]}function ai(s,a){delete a.$gt,delete a.$gte,delete a.$lt,delete a.$lte,delete a.$ne,a.$eq=s}function xi(s){for(var a in s){if(Array.isArray(s))for(var p in s)s[p].$and&&(s[p]=Qe(s[p].$and));var b=s[a];typeof b=="object"&&xi(b)}return s}function On(s,a){for(var p in s){p==="$and"&&(a=!0);var b=s[p];typeof b=="object"&&(a=On(b,a))}return a}function Ks(s){var a=Ne(s),p=!1;On(a,!1)&&(a=xi(a),"$and"in a&&(a=Qe(a.$and)),p=!0),["$or","$nor"].forEach(function(Oe){Oe in a&&a[Oe].forEach(function(Me){for(var Ve=Object.keys(Me),It=0;It<Ve.length;It++){var tt=Ve[It],St=Me[tt];(typeof St!="object"||St===null)&&(Me[tt]={$eq:St})}})}),"$not"in a&&(a.$not=Qe([a.$not]));for(var b=Object.keys(a),x=0;x<b.length;x++){var X=b[x],ne=a[X];typeof ne!="object"||ne===null?ne={$eq:ne}:"$ne"in ne&&!p&&(ne.$ne=[ne.$ne]),a[X]=ne}return a}function hr(s,a,p){for(var b="",x=p-s.length;b.length<x;)b+=a;return b}function Pi(s,a,p){var b=hr(s,a,p);return b+s}var Mr=-324,Vt=3,ui="";function un(s,a){if(s===a)return 0;s=zt(s),a=zt(a);var p=In(s),b=In(a);if(p-b!=0)return p-b;switch(typeof s){case"number":return s-a;case"boolean":return s<a?-1:1;case"string":return Vs(s,a)}return Array.isArray(s)?li(s,a):Yn(s,a)}function zt(s){switch(typeof s){case"undefined":return null;case"number":return s===1/0||s===-1/0||isNaN(s)?null:s;case"object":var a=s;if(Array.isArray(s)){var p=s.length;s=new Array(p);for(var b=0;b<p;b++)s[b]=zt(a[b])}else{if(s instanceof Date)return s.toJSON();if(s!==null){s={};for(var x in a)if(a.hasOwnProperty(x)){var X=a[x];typeof X!="undefined"&&(s[x]=zt(X))}}}}return s}function ci(s){if(s!==null)switch(typeof s){case"boolean":return s?1:0;case"number":return dr(s);case"string":return s.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var a=Array.isArray(s),p=a?s:Object.keys(s),b=-1,x=p.length,X="";if(a)for(;++b<x;)X+=bn(p[b]);else for(;++b<x;){var ne=p[b];X+=bn(ne)+bn(s[ne])}return X}return""}function bn(s){var a="\0";return s=zt(s),In(s)+ui+ci(s)+a}function Gs(s,a){var p=a,b,x=s[a]==="1";if(x)b=0,a++;else{var X=s[a]==="0";a++;var ne="",Oe=s.substring(a,a+Vt),Me=parseInt(Oe,10)+Mr;for(X&&(Me=-Me),a+=Vt;;){var Ve=s[a];if(Ve==="\0")break;ne+=Ve,a++}ne=ne.split("."),ne.length===1?b=parseInt(ne,10):b=parseFloat(ne[0]+"."+ne[1]),X&&(b=b-10),Me!==0&&(b=parseFloat(b+"e"+Me))}return{num:b,length:a-p}}function Ii(s,a){var p=s.pop();if(a.length){var b=a[a.length-1];p===b.element&&(a.pop(),b=a[a.length-1]);var x=b.element,X=b.index;if(Array.isArray(x))x.push(p);else if(X===s.length-2){var ne=s.pop();x[ne]=p}else s.push(p)}}function jr(s){for(var a=[],p=[],b=0;;){var x=s[b++];if(x==="\0"){if(a.length===1)return a.pop();Ii(a,p);continue}switch(x){case"1":a.push(null);break;case"2":a.push(s[b]==="1"),b++;break;case"3":var X=Gs(s,b);a.push(X.num),b+=X.length;break;case"4":for(var ne="";;){var Oe=s[b];if(Oe==="\0")break;ne+=Oe,b++}ne=ne.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),a.push(ne);break;case"5":var Me={element:[],index:a.length};a.push(Me.element),p.push(Me);break;case"6":var Ve={element:{},index:a.length};a.push(Ve.element),p.push(Ve);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+x)}}}function li(s,a){for(var p=Math.min(s.length,a.length),b=0;b<p;b++){var x=un(s[b],a[b]);if(x!==0)return x}return s.length===a.length?0:s.length>a.length?1:-1}function Vs(s,a){return s===a?0:s>a?1:-1}function Yn(s,a){for(var p=Object.keys(s),b=Object.keys(a),x=Math.min(p.length,b.length),X=0;X<x;X++){var ne=un(p[X],b[X]);if(ne!==0||(ne=un(s[p[X]],a[b[X]]),ne!==0))return ne}return p.length===b.length?0:p.length>b.length?1:-1}function In(s){var a=["boolean","number","string","object"],p=a.indexOf(typeof s);if(~p)return s===null?1:Array.isArray(s)?5:p<3?p+2:p+3;if(Array.isArray(s))return 5}function dr(s){if(s===0)return"1";var a=s.toExponential().split(/e\+?/),p=parseInt(a[1],10),b=s<0,x=b?"0":"2",X=(b?-p:p)-Mr,ne=Pi(X.toString(),"0",Vt);x+=ui+ne;var Oe=Math.abs(parseFloat(a[0]));b&&(Oe=10-Oe);var Me=Oe.toFixed(20);return Me=Me.replace(/\.?0+$/,""),x+=ui+Me,x}function Or(s){function a(p){return s.map(function(b){var x=wn(b),X=er(x),ne=ii(p,X);return ne})}return function(p,b){var x=a(p.doc),X=a(b.doc),ne=un(x,X);return ne!==0?ne:si(p.doc._id,b.doc._id)}}function fs(s,a,p){if(s=s.filter(function(ne){return tr(ne.doc,a.selector,p)}),a.sort){var b=Or(a.sort);s=s.sort(b),typeof a.sort[0]!="string"&&Li(a.sort[0])==="desc"&&(s=s.reverse())}if("limit"in a||"skip"in a){var x=a.skip||0,X=("limit"in a?a.limit:s.length)+x;s=s.slice(x,X)}return s}function tr(s,a,p){return p.every(function(b){var x=a[b],X=er(b),ne=ii(s,X);return oi(b)?Ws(b,x,s):fi(x,s,X,ne)})}function fi(s,a,p,b){return s?typeof s=="object"?Object.keys(s).every(function(x){var X=s[x];return zs(x,a,X,p,b)}):s===b:!0}function Ws(s,a,p){return s==="$or"?a.some(function(b){return tr(p,b,Object.keys(b))}):s==="$not"?!tr(p,a,Object.keys(a)):!a.find(function(b){return tr(p,b,Object.keys(b))})}function zs(s,a,p,b,x){if(!nr[s])throw new Error('unknown operator "'+s+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return nr[s](a,p,b,x)}function qr(s){return typeof s!="undefined"&&s!==null}function pr(s){return typeof s!="undefined"}function Ys(s,a){var p=a[0],b=a[1];if(p===0)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(p,10)!==p)throw new Error("Divisor is not an integer");if(parseInt(b,10)!==b)throw new Error("Modulus is not an integer");return parseInt(s,10)!==s?!1:s%p===b}function hs(s,a){return a.some(function(p){return s instanceof Array?s.indexOf(p)>-1:s===p})}function Ri(s,a){return a.every(function(p){return s.indexOf(p)>-1})}function ds(s,a){return s.length===a}function ps(s,a){var p=new RegExp(a);return p.test(s)}function hi(s,a){switch(a){case"null":return s===null;case"boolean":return typeof s=="boolean";case"number":return typeof s=="number";case"string":return typeof s=="string";case"array":return s instanceof Array;case"object":return{}.toString.call(s)==="[object Object]"}throw new Error(a+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var nr={$elemMatch:function(s,a,p,b){return!Array.isArray(b)||b.length===0?!1:typeof b[0]=="object"?b.some(function(x){return tr(x,a,Object.keys(a))}):b.some(function(x){return fi(a,s,p,x)})},$allMatch:function(s,a,p,b){return!Array.isArray(b)||b.length===0?!1:typeof b[0]=="object"?b.every(function(x){return tr(x,a,Object.keys(a))}):b.every(function(x){return fi(a,s,p,x)})},$eq:function(s,a,p,b){return pr(b)&&un(b,a)===0},$gte:function(s,a,p,b){return pr(b)&&un(b,a)>=0},$gt:function(s,a,p,b){return pr(b)&&un(b,a)>0},$lte:function(s,a,p,b){return pr(b)&&un(b,a)<=0},$lt:function(s,a,p,b){return pr(b)&&un(b,a)<0},$exists:function(s,a,p,b){return a?pr(b):!pr(b)},$mod:function(s,a,p,b){return qr(b)&&Ys(b,a)},$ne:function(s,a,p,b){return a.every(function(x){return un(b,x)!==0})},$in:function(s,a,p,b){return qr(b)&&hs(b,a)},$nin:function(s,a,p,b){return qr(b)&&!hs(b,a)},$size:function(s,a,p,b){return qr(b)&&ds(b,a)},$all:function(s,a,p,b){return Array.isArray(b)&&Ri(b,a)},$regex:function(s,a,p,b){return qr(b)&&ps(b,a)},$type:function(s,a,p,b){return hi(b,a)}};function rr(s){return function(){for(var a=arguments.length,p=new Array(a),b=-1;++b<a;)p[b]=arguments[b];return s.call(this,p)}}function Rn(s){return rr(function(a){var p=a.pop(),b=s.apply(this,a);return Bi(b,p),b})}function Bi(s,a){return s.then(function(p){w(function(){a(null,p)})},function(p){w(function(){a(p)})}),s}var Ur=rr(function(s){for(var a=[],p=0,b=s.length;p<b;p++){var x=s[p];Array.isArray(x)?a=a.concat(Ur.apply(null,x)):a.push(x)}return a});function Mi(s){for(var a={},p=0,b=s.length;p<b;p++)a=ke(a,s[p]);return a}function vs(s,a){for(var p={},b=0,x=a.length;b<x;b++){var X=er(a[b]),ne=ii(s,X);typeof ne!="undefined"&&Fs(p,X,ne)}return p}function ms(s,a){for(var p=0,b=Math.min(s.length,a.length);p<b;p++)if(s[p]!==a[p])return!1;return!0}function Qs(s,a){return s.length>a.length?!1:ms(s,a)}function Js(s,a){s=s.slice();for(var p=0,b=a.length;p<b;p++){var x=a[p];if(!s.length)break;var X=s.indexOf(x);if(X===-1)return!1;s.splice(X,1)}return!0}function Hr(s){for(var a={},p=0,b=s.length;p<b;p++)a[s[p]]=!0;return a}function Xs(s,a){for(var p=null,b=-1,x=0,X=s.length;x<X;x++){var ne=s[x],Oe=a(ne);Oe>b&&(b=Oe,p=ne)}return p}function ji(s,a){if(s.length!==a.length)return!1;for(var p=0,b=s.length;p<b;p++)if(s[p]!==a[p])return!1;return!0}function _s(s){for(var a={},p=0;p<s.length;p++)a["$"+s[p]]=!0;return Object.keys(a).map(function(b){return b.substring(1)})}function Fr(){this.promise=new Promise(function(s){s()})}Fr.prototype.add=function(s){return this.promise=this.promise.catch(function(){}).then(function(){return s()}),this.promise},Fr.prototype.finish=function(){return this.promise};function qi(s){if(!s)return"undefined";switch(typeof s){case"function":return s.toString();case"string":return s.toString();default:return JSON.stringify(s)}}function Zs(s,a){return qi(s)+qi(a)+"undefined"}function gs(s,a,p,b,x,X){var ne=Zs(p,b),Oe;if(!x&&(Oe=s._cachedViews=s._cachedViews||{},Oe[ne]))return Oe[ne];var Me=s.info().then(function(Ve){var It=Ve.db_name+"-mrview-"+(x?"temp":Zn(ne));function tt(St){St.views=St.views||{};var sn=a;sn.indexOf("/")===-1&&(sn=a+"/"+a);var vn=St.views[sn]=St.views[sn]||{};if(!vn[It])return vn[It]=!0,St}return ni(s,"_local/"+X,tt).then(function(){return s.registerDependentDatabase(It).then(function(St){var sn=St.db;sn.auto_compaction=!0;var vn={name:It,db:sn,sourceDB:s,adapter:s.adapter,mapFun:p,reduceFun:b};return vn.db.get("_local/lastSeq").catch(function(mn){if(mn.status!==404)throw mn}).then(function(mn){return vn.seq=mn?mn.seq:0,Oe&&vn.db.once("destroyed",function(){delete Oe[ne]}),vn})})})});return Oe&&(Oe[ne]=Me),Me}function cn(s){this.status=400,this.name="query_parse_error",this.message=s,this.error=!0;try{Error.captureStackTrace(this,cn)}catch{}}W(cn,Error);function Fn(s){this.status=404,this.name="not_found",this.message=s,this.error=!0;try{Error.captureStackTrace(this,Fn)}catch{}}W(Fn,Error);function Dn(s){this.status=500,this.name="invalid_value",this.message=s,this.error=!0;try{Error.captureStackTrace(this,Dn)}catch{}}W(Dn,Error);function Ui(s,a){return a&&s.then(function(p){w(function(){a(null,p)})},function(p){w(function(){a(p)})}),s}function Dr(s){return N(function(a){var p=a.pop(),b=s.apply(this,a);return typeof p=="function"&&Ui(b,p),b})}function Kr(s,a){return s.then(function(p){return a().then(function(){return p})},function(p){return a().then(function(){throw p})})}function di(s,a){return function(){var p=arguments,b=this;return s.add(function(){return a.apply(b,p)})}}function Nr(s){var a=new _(s),p=new Array(a.size),b=-1;return a.forEach(function(x){p[++b]=x}),p}function Hi(s){var a=new Array(s.size),p=-1;return s.forEach(function(b,x){a[++p]=x}),a}var ys={},ws=new Fr,bs=50;function pi(s){return s.indexOf("/")===-1?[s,s]:s.split("/")}function eo(s){return s.length===1&&/^1-/.test(s[0].rev)}function Tt(s,a){try{s.emit("error",a)}catch{Q("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),Q("error",a)}}function Qn(s,a,p,b){function x(ce,fe,we){try{fe(we)}catch(Re){Tt(ce,Re)}}function X(ce,fe,we,Re,Xe){try{return{output:fe(we,Re,Xe)}}catch(We){return Tt(ce,We),{error:We}}}function ne(ce,fe){var we=un(ce.key,fe.key);return we!==0?we:un(ce.value,fe.value)}function Oe(ce,fe,we){return we=we||0,typeof fe=="number"?ce.slice(we,fe+we):we>0?ce.slice(we):ce}function Me(ce){var fe=ce.value,we=fe&&typeof fe=="object"&&fe._id||ce.id;return we}function Ve(ce){ce.rows.forEach(function(fe){var we=fe.doc&&fe.doc._attachments;!we||Object.keys(we).forEach(function(Re){var Xe=we[Re];we[Re].data=Ni(Xe.data,Xe.content_type)})})}function It(ce){return function(fe){return ce.include_docs&&ce.attachments&&ce.binary&&Ve(fe),fe}}function tt(ce,fe,we,Re){var Xe=fe[ce];typeof Xe!="undefined"&&(Re&&(Xe=encodeURIComponent(JSON.stringify(Xe))),we.push(ce+"="+Xe))}function St(ce){if(typeof ce!="undefined"){var fe=Number(ce);return!isNaN(fe)&&fe===parseInt(ce,10)?fe:ce}}function sn(ce){return ce.group_level=St(ce.group_level),ce.limit=St(ce.limit),ce.skip=St(ce.skip),ce}function vn(ce){if(ce){if(typeof ce!="number")return new cn('Invalid value for integer: "'+ce+'"');if(ce<0)return new cn('Invalid value for positive integer: "'+ce+'"')}}function mn(ce,fe){var we=ce.descending?"endkey":"startkey",Re=ce.descending?"startkey":"endkey";if(typeof ce[we]!="undefined"&&typeof ce[Re]!="undefined"&&un(ce[we],ce[Re])>0)throw new cn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(fe.reduce&&ce.reduce!==!1){if(ce.include_docs)throw new cn("{include_docs:true} is invalid for reduce");if(ce.keys&&ce.keys.length>1&&!ce.group&&!ce.group_level)throw new cn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Xe){var We=vn(ce[Xe]);if(We)throw We})}function gr(ce,fe,we){var Re=[],Xe,We="GET",wt,$t;if(tt("reduce",we,Re),tt("include_docs",we,Re),tt("attachments",we,Re),tt("limit",we,Re),tt("descending",we,Re),tt("group",we,Re),tt("group_level",we,Re),tt("skip",we,Re),tt("stale",we,Re),tt("conflicts",we,Re),tt("startkey",we,Re,!0),tt("start_key",we,Re,!0),tt("endkey",we,Re,!0),tt("end_key",we,Re,!0),tt("inclusive_end",we,Re),tt("key",we,Re,!0),tt("update_seq",we,Re),Re=Re.join("&"),Re=Re===""?"":"?"+Re,typeof we.keys!="undefined"){var mt=2e3,Rt="keys="+encodeURIComponent(JSON.stringify(we.keys));Rt.length+Re.length+1<=mt?Re+=(Re[0]==="?"?"&":"?")+Rt:(We="POST",typeof fe=="string"?Xe={keys:we.keys}:fe.keys=we.keys)}if(typeof fe=="string"){var Lt=pi(fe);return ce.fetch("_design/"+Lt[0]+"/_view/"+Lt[1]+Re,{headers:new oe({"Content-Type":"application/json"}),method:We,body:JSON.stringify(Xe)}).then(function(Ke){return wt=Ke.ok,$t=Ke.status,Ke.json()}).then(function(Ke){if(!wt)throw Ke.status=$t,Ht(Ke);return Ke.rows.forEach(function(Ot){if(Ot.value&&Ot.value.error&&Ot.value.error==="builtin_reduce_error")throw new Error(Ot.reason)}),Ke}).then(It(we))}return Xe=Xe||{},Object.keys(fe).forEach(function(Ke){Array.isArray(fe[Ke])?Xe[Ke]=fe[Ke]:Xe[Ke]=fe[Ke].toString()}),ce.fetch("_temp_view"+Re,{headers:new oe({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Xe)}).then(function(Ke){return wt=Ke.ok,$t=Ke.status,Ke.json()}).then(function(Ke){if(!wt)throw Ke.status=$t,Ht(Ke);return Ke}).then(It(we))}function yr(ce,fe,we){return new Promise(function(Re,Xe){ce._query(fe,we,function(We,wt){if(We)return Xe(We);Re(wt)})})}function Si(ce){return new Promise(function(fe,we){ce._viewCleanup(function(Re,Xe){if(Re)return we(Re);fe(Xe)})})}function ln(ce){return function(fe){if(fe.status===404)return ce;throw fe}}function wr(ce,fe,we){var Re="_local/doc_"+ce,Xe={_id:Re,keys:[]},We=we.get(ce),wt=We[0],$t=We[1];function mt(){return eo($t)?Promise.resolve(Xe):fe.db.get(Re).catch(ln(Xe))}function Rt(Ke){return Ke.keys.length?fe.db.allDocs({keys:Ke.keys,include_docs:!0}):Promise.resolve({rows:[]})}function Lt(Ke,Ot){for(var Dt=[],Yt=new _,Ut=0,Kt=Ot.rows.length;Ut<Kt;Ut++){var Qt=Ot.rows[Ut],on=Qt.doc;if(!!on&&(Dt.push(on),Yt.add(on._id),on._deleted=!wt.has(on._id),!on._deleted)){var ar=wt.get(on._id);"value"in ar&&(on.value=ar.value)}}var jn=Hi(wt);return jn.forEach(function(qn){if(!Yt.has(qn)){var ur={_id:qn},Er=wt.get(qn);"value"in Er&&(ur.value=Er.value),Dt.push(ur)}}),Ke.keys=Nr(jn.concat(Ke.keys)),Dt.push(Ke),Dt}return mt().then(function(Ke){return Rt(Ke).then(function(Ot){return Lt(Ke,Ot)})})}function qt(ce,fe,we){var Re="_local/lastSeq";return ce.db.get(Re).catch(ln({_id:Re,seq:0})).then(function(Xe){var We=Hi(fe);return Promise.all(We.map(function(wt){return wr(wt,ce,fe)})).then(function(wt){var $t=Pn(wt);return Xe.seq=we,$t.push(Xe),ce.db.bulkDocs({docs:$t})})})}function Mt(ce){var fe=typeof ce=="string"?ce:ce.name,we=ys[fe];return we||(we=ys[fe]=new Fr),we}function tn(ce){return di(Mt(ce),function(){return Mn(ce)})()}function Mn(ce){var fe,we;function Re(Ot,Dt){var Yt={id:we._id,key:zt(Ot)};typeof Dt!="undefined"&&Dt!==null&&(Yt.value=zt(Dt)),fe.push(Yt)}var Xe=a(ce.mapFun,Re),We=ce.seq||0;function wt(Ot,Dt){return function(){return qt(ce,Ot,Dt)}}var $t=new Fr;function mt(){return ce.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:We,limit:bs}).then(Rt)}function Rt(Ot){var Dt=Ot.results;if(!!Dt.length){var Yt=Lt(Dt);if($t.add(wt(Yt,We)),!(Dt.length<bs))return mt()}}function Lt(Ot){for(var Dt=new Ie,Yt=0,Ut=Ot.length;Yt<Ut;Yt++){var Kt=Ot[Yt];if(Kt.doc._id[0]!=="_"){fe=[],we=Kt.doc,we._deleted||x(ce.sourceDB,Xe,we),fe.sort(ne);var Qt=Ke(fe);Dt.set(Kt.doc._id,[Qt,Kt.changes])}We=Kt.seq}return Dt}function Ke(Ot){for(var Dt=new Ie,Yt,Ut=0,Kt=Ot.length;Ut<Kt;Ut++){var Qt=Ot[Ut],on=[Qt.key,Qt.id];Ut>0&&un(Qt.key,Yt)===0&&on.push(Ut),Dt.set(bn(on),Qt),Yt=Qt.key}return Dt}return mt().then(function(){return $t.finish()}).then(function(){ce.seq=We})}function rn(ce,fe,we){we.group_level===0&&delete we.group_level;var Re=we.group||we.group_level,Xe=p(ce.reduceFun),We=[],wt=isNaN(we.group_level)?Number.POSITIVE_INFINITY:we.group_level;fe.forEach(function(Ke){var Ot=We[We.length-1],Dt=Re?Ke.key:null;if(Re&&Array.isArray(Dt)&&(Dt=Dt.slice(0,wt)),Ot&&un(Ot.groupKey,Dt)===0){Ot.keys.push([Ke.key,Ke.id]),Ot.values.push(Ke.value);return}We.push({keys:[[Ke.key,Ke.id]],values:[Ke.value],groupKey:Dt})}),fe=[];for(var $t=0,mt=We.length;$t<mt;$t++){var Rt=We[$t],Lt=X(ce.sourceDB,Xe,Rt.keys,Rt.values,!1);if(Lt.error&&Lt.error instanceof Dn)throw Lt.error;fe.push({value:Lt.error?null:Lt.output,key:Rt.groupKey})}return{rows:Oe(fe,we.limit,we.skip)}}function kn(ce,fe){return di(Mt(ce),function(){return Ji(ce,fe)})()}function Ji(ce,fe){var we,Re=ce.reduceFun&&fe.reduce!==!1,Xe=fe.skip||0;typeof fe.keys!="undefined"&&!fe.keys.length&&(fe.limit=0,delete fe.keys);function We(Ut){return Ut.include_docs=!0,ce.db.allDocs(Ut).then(function(Kt){return we=Kt.total_rows,Kt.rows.map(function(Qt){if("value"in Qt.doc&&typeof Qt.doc.value=="object"&&Qt.doc.value!==null){var on=Object.keys(Qt.doc.value).sort(),ar=["id","key","value"];if(!(on<ar||on>ar))return Qt.doc.value}var jn=jr(Qt.doc._id);return{key:jn[0],id:jn[1],value:"value"in Qt.doc?Qt.doc.value:null}})})}function wt(Ut){var Kt;if(Re?Kt=rn(ce,Ut,fe):Kt={total_rows:we,offset:Xe,rows:Ut},fe.update_seq&&(Kt.update_seq=ce.seq),fe.include_docs){var Qt=Nr(Ut.map(Me));return ce.sourceDB.allDocs({keys:Qt,include_docs:!0,conflicts:fe.conflicts,attachments:fe.attachments,binary:fe.binary}).then(function(on){var ar=new Ie;return on.rows.forEach(function(jn){ar.set(jn.id,jn.doc)}),Ut.forEach(function(jn){var qn=Me(jn),ur=ar.get(qn);ur&&(jn.doc=ur)}),Kt})}else return Kt}if(typeof fe.keys!="undefined"){var $t=fe.keys,mt=$t.map(function(Ut){var Kt={startkey:bn([Ut]),endkey:bn([Ut,{}])};return fe.update_seq&&(Kt.update_seq=!0),We(Kt)});return Promise.all(mt).then(Pn).then(wt)}else{var Rt={descending:fe.descending};fe.update_seq&&(Rt.update_seq=!0);var Lt,Ke;if("start_key"in fe&&(Lt=fe.start_key),"startkey"in fe&&(Lt=fe.startkey),"end_key"in fe&&(Ke=fe.end_key),"endkey"in fe&&(Ke=fe.endkey),typeof Lt!="undefined"&&(Rt.startkey=fe.descending?bn([Lt,{}]):bn([Lt])),typeof Ke!="undefined"){var Ot=fe.inclusive_end!==!1;fe.descending&&(Ot=!Ot),Rt.endkey=bn(Ot?[Ke,{}]:[Ke])}if(typeof fe.key!="undefined"){var Dt=bn([fe.key]),Yt=bn([fe.key,{}]);Rt.descending?(Rt.endkey=Dt,Rt.startkey=Yt):(Rt.startkey=Dt,Rt.endkey=Yt)}return Re||(typeof fe.limit=="number"&&(Rt.limit=fe.limit),Rt.skip=Xe),We(Rt).then(wt)}}function Jr(ce){return ce.fetch("_view_cleanup",{headers:new oe({"Content-Type":"application/json"}),method:"POST"}).then(function(fe){return fe.json()})}function Ns(ce){return ce.get("_local/"+s).then(function(fe){var we=new Ie;Object.keys(fe.views).forEach(function(Xe){var We=pi(Xe),wt="_design/"+We[0],$t=We[1],mt=we.get(wt);mt||(mt=new _,we.set(wt,mt)),mt.add($t)});var Re={keys:Hi(we),include_docs:!0};return ce.allDocs(Re).then(function(Xe){var We={};Xe.rows.forEach(function(mt){var Rt=mt.key.substring(8);we.get(mt.key).forEach(function(Lt){var Ke=Rt+"/"+Lt;fe.views[Ke]||(Ke=Lt);var Ot=Object.keys(fe.views[Ke]),Dt=mt.doc&&mt.doc.views&&mt.doc.views[Lt];Ot.forEach(function(Yt){We[Yt]=We[Yt]||Dt})})});var wt=Object.keys(We).filter(function(mt){return!We[mt]}),$t=wt.map(function(mt){return di(Mt(mt),function(){return new ce.constructor(mt,ce.__opts).destroy()})()});return Promise.all($t).then(function(){return{ok:!0}})})},ln({ok:!0}))}function _n(ce,fe,we){if(typeof ce._query=="function")return yr(ce,fe,we);if(Ft(ce))return gr(ce,fe,we);if(typeof fe!="string")return mn(we,fe),ws.add(function(){var $t=gs(ce,"temp_view/temp_view",fe.map,fe.reduce,!0,s);return $t.then(function(mt){return Kr(tn(mt).then(function(){return kn(mt,we)}),function(){return mt.db.destroy()})})}),ws.finish();var Re=fe,Xe=pi(Re),We=Xe[0],wt=Xe[1];return ce.get("_design/"+We).then(function($t){var mt=$t.views&&$t.views[wt];if(!mt)throw new Fn("ddoc "+$t._id+" has no view named "+wt);b($t,wt),mn(we,mt);var Rt=gs(ce,Re,mt.map,mt.reduce,!1,s);return Rt.then(function(Lt){return we.stale==="ok"||we.stale==="update_after"?(we.stale==="update_after"&&w(function(){tn(Lt)}),kn(Lt,we)):tn(Lt).then(function(){return kn(Lt,we)})})})}function Xi(ce,fe,we){var Re=this;typeof fe=="function"&&(we=fe,fe={}),fe=fe?sn(fe):{},typeof ce=="function"&&(ce={map:ce});var Xe=Promise.resolve().then(function(){return _n(Re,ce,fe)});return Ui(Xe,we),Xe}var br=Dr(function(){var ce=this;return typeof ce._viewCleanup=="function"?Si(ce):Ft(ce)?Jr(ce):Ns(ce)});return{query:Xi,viewCleanup:br}}function vi(s,a){return function(p){for(var b=[],x=0,X=s.length;x<X;x++){for(var ne=er(s[x]),Oe=p,Me=0,Ve=ne.length;Me<Ve;Me++){var It=ne[Me];if(Oe=Oe[It],typeof Oe=="undefined")return}b.push(Oe)}a(b)}}function mi(s,a){var p=er(s);return function(b){for(var x=b,X=0,ne=p.length;X<ne;X++){var Oe=p[X];if(x=x[Oe],typeof x=="undefined")return}a(x)}}function at(s,a){return function(p){a(p[s])}}function to(s,a){return function(p){for(var b=[],x=0,X=s.length;x<X;x++)b.push(p[s[x]]);a(b)}}function Es(s){for(var a=0,p=s.length;a<p;a++){var b=s[a];if(b.indexOf(".")!==-1)return!1}return!0}function Kn(s,a){var p=Es(s),b=s.length===1;return p?b?at(s[0],a):to(s,a):b?mi(s[0],a):vi(s,a)}function Bn(s,a){var p=Object.keys(s.fields);return Kn(p,a)}function Sn(){throw new Error("reduce not supported")}function Nn(s,a){var p=s.views[a];if(!p.map||!p.map.fields)throw new Error("ddoc "+s._id+" with view "+a+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var Cn=Qn("indexes",Bn,Sn,Nn);function pn(s){return s._customFindAbstractMapper||Cn}function Gr(s){if(!Array.isArray(s))throw new Error("invalid sort json - should be an array");return s.map(function(a){if(typeof a=="string"){var p={};return p[a]="asc",p}else return a})}function $r(s){var a=[];return typeof s=="string"?a.push(s):a=s,a.map(function(p){return p.replace("_design/","")})}function Jn(s){return s.fields=s.fields.map(function(a){if(typeof a=="string"){var p={};return p[a]="asc",p}return a}),s}function Vr(s,a){for(var p=[],b=0;b<a.def.fields.length;b++){var x=wn(a.def.fields[b]);p.push(s[x])}return p}function As(s,a,p){for(var b=p.def.fields,x=0,X=s.length;x<X;x++){var ne=s[x],Oe=Vr(ne.doc,p);if(b.length===1)Oe=Oe[0];else for(;Oe.length>a.length;)Oe.pop();if(Math.abs(un(Oe,a))>0)break}return x>0?s.slice(x):s}function vr(s){var a=Ne(s);return delete a.startkey,delete a.endkey,delete a.inclusive_start,delete a.inclusive_end,"endkey"in s&&(a.startkey=s.endkey),"startkey"in s&&(a.endkey=s.startkey),"inclusive_start"in s&&(a.inclusive_end=s.inclusive_start),"inclusive_end"in s&&(a.inclusive_start=s.inclusive_end),a}function Lr(s){var a=s.fields.filter(function(p){return Li(p)==="asc"});if(a.length!==0&&a.length!==s.fields.length)throw new Error("unsupported mixed sorting")}function Ss(s,a){if(a.defaultUsed&&s.sort){var p=s.sort.filter(function(b){return Object.keys(b)[0]!=="_id"}).map(function(b){return Object.keys(b)[0]});if(p.length>0)throw new Error('Cannot sort on field(s) "'+p.join(",")+'" when using the default index')}!a.defaultUsed}function Fi(s){if(typeof s.selector!="object")throw new Error("you must provide a selector when you find()")}function Ki(s,a){var p=Object.keys(s),b=a?a.map(wn):[],x;return p.length>=b.length?x=p:x=b,b.length===0?{fields:x}:(x=x.sort(function(X,ne){var Oe=b.indexOf(X);Oe===-1&&(Oe=Number.MAX_VALUE);var Me=b.indexOf(ne);return Me===-1&&(Me=Number.MAX_VALUE),Oe<Me?-1:Oe>Me?1:0}),{fields:x,sortOrder:a.map(wn)})}function Gi(s,a){a=zn(a);var p=Ne(a.index);a.index=Jn(a.index),Lr(a.index);var b;function x(){return b||(b=Zn(JSON.stringify(a)))}var X=a.name||"idx-"+x(),ne=a.ddoc||"idx-"+x(),Oe="_design/"+ne,Me=!1,Ve=!1;function It(tt){return tt._rev&&tt.language!=="query"&&(Me=!0),tt.language="query",tt.views=tt.views||{},Ve=!!tt.views[X],Ve?!1:(tt.views[X]={map:{fields:Mi(a.index.fields)},reduce:"_count",options:{def:p}},tt)}return s.constructor.emit("debug",["find","creating index",Oe]),ni(s,Oe,It).then(function(){if(Me)throw new Error('invalid language for ddoc with id "'+Oe+'" (should be "query")')}).then(function(){var tt=ne+"/"+X;return pn(s).query.call(s,tt,{limit:0,reduce:!1}).then(function(){return{id:Oe,name:X,result:Ve?"exists":"created"}})})}function _i(s){return s.allDocs({startkey:"_design/",endkey:"_design/\uFFFF",include_docs:!0}).then(function(a){var p={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return p.indexes=Ur(p.indexes,a.rows.filter(function(b){return b.doc.language==="query"}).map(function(b){var x=b.doc.views!==void 0?Object.keys(b.doc.views):[];return x.map(function(X){var ne=b.doc.views[X];return{ddoc:b.id,name:X,type:"json",def:Jn(ne.options.def)}})})),p.indexes.sort(function(b,x){return si(b.name,x.name)}),p.total_rows=p.indexes.length,p})}var Wr=null,gi={"\uFFFF":{}};const Cs={queryOpts:{limit:0,startkey:gi,endkey:Wr},inMemoryFields:[]};function Vi(s,a){for(var p=s.def.fields.map(wn),b=0,x=p.length;b<x;b++){var X=p[b];if(a===X)return!0}return!1}function yi(s,a){var p=s[a],b=wn(p);return b!=="$eq"}function zr(s,a){var p=a.def.fields.map(wn);return s.slice().sort(function(b,x){var X=p.indexOf(b),ne=p.indexOf(x);return X===-1&&(X=Number.MAX_VALUE),ne===-1&&(ne=Number.MAX_VALUE),si(X,ne)})}function en(s,a,p){p=zr(p,s);for(var b=!1,x=0,X=p.length;x<X;x++){var ne=p[x];if(b||!Vi(s,ne))return p.slice(x);x<X-1&&yi(a,ne)&&(b=!0)}return[]}function ir(s){var a=[];return Object.keys(s).forEach(function(p){var b=s[p];Object.keys(b).forEach(function(x){x==="$ne"&&a.push(p)})}),a}function Gn(s,a,p,b){var x=Ur(s,en(a,p,b),ir(p));return zr(_s(x),a)}function Wt(s,a,p){if(a){var b=Qs(a,s),x=ms(p,s);return b&&x}return Js(p,s)}var Yr=["$eq","$gt","$gte","$lt","$lte"];function $n(s){return Yr.indexOf(s)===-1}function Ts(s,a){var p=s[0],b=a[p];if(typeof b=="undefined")return!0;var x=Object.keys(b).length===1&&wn(b)==="$ne";return!x}function no(s,a,p,b){var x=s.def.fields.map(wn),X=Wt(x,a,p);return X?Ts(x,b):!1}function ro(s,a,p,b){return b.filter(function(x){return no(x,p,a,s)})}function Wi(s,a,p,b,x){var X=ro(s,a,p,b);if(X.length===0){if(x)throw{error:"no_usable_index",message:"There is no index available for this selector."};var ne=b[0];return ne.defaultUsed=!0,ne}if(X.length===1&&!x)return X[0];var Oe=Hr(a);function Me(St){for(var sn=St.def.fields.map(wn),vn=0,mn=0,gr=sn.length;mn<gr;mn++){var yr=sn[mn];Oe[yr]&&vn++}return vn}if(x){var Ve="_design/"+x[0],It=x.length===2?x[1]:!1,tt=X.find(function(St){return!!(It&&St.ddoc===Ve&&It===St.name||St.ddoc===Ve)});if(!tt)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return tt}return Xs(X,Me)}function Ln(s,a){switch(s){case"$eq":return{key:a};case"$lte":return{endkey:a};case"$gte":return{startkey:a};case"$lt":return{endkey:a,inclusive_end:!1};case"$gt":return{startkey:a,inclusive_start:!1}}return{startkey:Wr}}function kr(s,a){var p=wn(a.def.fields[0]),b=s[p]||{},x=[],X=Object.keys(b),ne;return X.forEach(function(Oe){$n(Oe)&&x.push(p);var Me=b[Oe],Ve=Ln(Oe,Me);ne?ne=Mi([ne,Ve]):ne=Ve}),{queryOpts:ne,inMemoryFields:x}}function zi(s,a){switch(s){case"$eq":return{startkey:a,endkey:a};case"$lte":return{endkey:a};case"$gte":return{startkey:a};case"$lt":return{endkey:a,inclusive_end:!1};case"$gt":return{startkey:a,inclusive_start:!1}}}function Os(s,a){var p=a.def.fields.map(wn),b=[],x=[],X=[],ne,Oe;function Me(rn){ne!==!1&&x.push(Wr),Oe!==!1&&X.push(gi),b=p.slice(rn)}for(var Ve=0,It=p.length;Ve<It;Ve++){var tt=p[Ve],St=s[tt];if(!St||!Object.keys(St).length){Me(Ve);break}else if(Object.keys(St).some($n)){Me(Ve);break}else if(Ve>0){var sn="$gt"in St||"$gte"in St||"$lt"in St||"$lte"in St,vn=Object.keys(s[p[Ve-1]]),mn=ji(vn,["$eq"]),gr=ji(vn,Object.keys(St)),yr=sn&&!mn&&!gr;if(yr){Me(Ve);break}}for(var Si=Object.keys(St),ln=null,wr=0;wr<Si.length;wr++){var qt=Si[wr],Mt=St[qt],tn=zi(qt,Mt);ln?ln=Mi([ln,tn]):ln=tn}x.push("startkey"in ln?ln.startkey:Wr),X.push("endkey"in ln?ln.endkey:gi),"inclusive_start"in ln&&(ne=ln.inclusive_start),"inclusive_end"in ln&&(Oe=ln.inclusive_end)}var Mn={startkey:x,endkey:X};return typeof ne!="undefined"&&(Mn.inclusive_start=ne),typeof Oe!="undefined"&&(Mn.inclusive_end=Oe),{queryOpts:Mn,inMemoryFields:b}}function En(s){return Object.keys(s).map(function(p){return s[p]}).some(function(p){return typeof p=="object"&&Object.keys(p).length===0})}function Yi(s){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(s)]}}function sr(s,a){return a.defaultUsed?Yi(s):a.def.fields.length===1?kr(s,a):Os(s,a)}function wi(s,a){var p=s.selector,b=s.sort;if(En(p))return ke({},Cs,{index:a[0]});var x=Ki(p,b),X=x.fields,ne=x.sortOrder,Oe=Wi(p,X,ne,a,s.use_index),Me=sr(p,Oe),Ve=Me.queryOpts,It=Me.inMemoryFields,tt=Gn(It,Oe,p,X),St={queryOpts:Ve,index:Oe,inMemoryFields:tt};return St}function xr(s){return s.ddoc.substring(8)+"/"+s.name}function mr(s,a){var p=Ne(a);return p.descending?("endkey"in p&&typeof p.endkey!="string"&&(p.endkey=""),"startkey"in p&&typeof p.startkey!="string"&&(p.limit=0)):("startkey"in p&&typeof p.startkey!="string"&&(p.startkey=""),"endkey"in p&&typeof p.endkey!="string"&&(p.limit=0)),"key"in p&&typeof p.key!="string"&&(p.limit=0),p.limit>0&&p.indexes_count&&(p.original_limit=p.limit,p.limit+=p.indexes_count),s.allDocs(p).then(function(b){return b.rows=b.rows.filter(function(x){return!/^_design\//.test(x.id)}),p.original_limit&&(p.limit=p.original_limit),b.rows=b.rows.slice(0,p.limit),b})}function Pr(s,a,p){return a.selector&&(a.selector=Ks(a.selector)),a.sort&&(a.sort=Gr(a.sort)),a.use_index&&(a.use_index=$r(a.use_index)),Fi(a),_i(s).then(function(b){s.constructor.emit("debug",["find","planning query",a]);var x=wi(a,b.indexes);s.constructor.emit("debug",["find","query plan",x]);var X=x.index;Ss(a,X);var ne=ke({include_docs:!0,reduce:!1,indexes_count:b.total_rows},x.queryOpts);if("startkey"in ne&&"endkey"in ne&&un(ne.startkey,ne.endkey)>0)return{docs:[]};var Oe=a.sort&&typeof a.sort[0]!="string"&&Li(a.sort[0])==="desc";return Oe&&(ne.descending=!0,ne=vr(ne)),x.inMemoryFields.length||("limit"in a&&(ne.limit=a.limit),"skip"in a&&(ne.skip=a.skip)),p?Promise.resolve(x,ne):Promise.resolve().then(function(){if(X.name==="_all_docs")return mr(s,ne);var Me=xr(X);return pn(s).query.call(s,Me,ne)}).then(function(Me){ne.inclusive_start===!1&&(Me.rows=As(Me.rows,ne.startkey,X)),x.inMemoryFields.length&&(Me.rows=fs(Me.rows,a,x.inMemoryFields));var Ve={docs:Me.rows.map(function(It){var tt=It.doc;return a.fields?vs(tt,a.fields):tt})};return X.defaultUsed&&(Ve.warning="No matching index found, create an index to optimize query time."),Ve})})}function bi(s,a){return Pr(s,a,!0).then(function(p){return{dbname:s.name,index:p.index,selector:a.selector,range:{start_key:p.queryOpts.startkey,end_key:p.queryOpts.endkey},opts:{use_index:a.use_index||[],bookmark:"nil",limit:a.limit,skip:a.skip,sort:a.sort||{},fields:a.fields,conflicts:!1,r:[49]},limit:a.limit,skip:a.skip||0,fields:a.fields}})}function or(s,a){if(!a.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!a.name)throw new Error("you must supply an index.name when deleting");var p=a.ddoc,b=a.name;function x(X){return Object.keys(X.views).length===1&&X.views[b]?{_id:p,_deleted:!0}:(delete X.views[b],X)}return ni(s,p,x).then(function(){return pn(s).viewCleanup.apply(s)}).then(function(){return{ok:!0}})}var Qr=Rn(Gi),Ei=Rn(Pr),Ai=Rn(bi),Qi=Rn(_i),Ds=Rn(or),_r={};_r.createIndex=Z(function(s,a){if(typeof s!="object")return a(new Error("you must provide an index to create"));var p=Ft(this)?Cr:Qr;p(this,s,a)}),_r.find=Z(function(s,a){if(typeof a=="undefined"&&(a=s,s=void 0),typeof s!="object")return a(new Error("you must provide search parameters to find()"));var p=Ft(this)?Tn:Ei;p(this,s,a)}),_r.explain=Z(function(s,a){if(typeof a=="undefined"&&(a=s,s=void 0),typeof s!="object")return a(new Error("you must provide search parameters to explain()"));var p=Ft(this)?Hs:Ai;p(this,s,a)}),_r.getIndexes=Z(function(s){var a=Ft(this)?$o:Qi;a(this,s)}),_r.deleteIndex=Z(function(s,a){if(typeof s!="object")return a(new Error("you must provide an index to delete"));var p=Ft(this)?ri:Ds;p(this,s,a)}),typeof PouchDB=="undefined"?Q("error",'pouchdb-find plugin error: Cannot find global "PouchDB" object! Did you remember to include pouchdb.js?'):PouchDB.plugin(_r)},{"1":1,"10":10,"11":11,"13":13,"3":3,"4":4}]},{},[22]);var Do=(M,f)=>{const P=M.__vccOpts||M;for(const[K,w]of f)P[K]=w;return P};const ac={props:["user"],inject:["localDB","localBtnDB"],data(){return{genderbtns:[],residencybtns:[],maritalbtns:[],educationbtns:[],relativesbtns:[],suicidebtns:[],familybtns:[],childrenbtns:[],pphbtns:[],pmshbtns:[],drugsbtns:[],specialistbtns:[],alcoholbtns:[],substancebtns:[],appearancebtns:[],speechbtns:[],moodbtns:[],cognitivebtns:[],perceptionbtns:[],thoughtbtns:[],patientName:null,birthdate:null,occupation:null,maritalStatusNotes:null,gender:null,residency:null,marital:null,education:null,relatives:null,chief:null,hopi:null,precipitant:null,suicide:null,specialist:null,family:[],children:null,psh:[],pmsh:[],drugs:[],alcohol:null,substance:[],forensic:null,social:null,ddx:null,speech:[],mood:[],thought:[],perception:[],cognitive:[],appearance:[],suicidenotes:null,familynotes:null,childrennotes:null,pshnotes:null,pmshnotes:null,drugsnotes:null,alcoholnotes:null,substancenotes:null,perceptionnotes:null,thoughtnotes:null,management:null}},methods:{push(M,f){switch(M){case"family":if(f==="None"){this.family=["None"];break}this.family=this.family.filter(L=>L!=="None"),this.family.find(L=>L===f)?this.family=this.family.filter(L=>L!==f):this.family.push(f);break;case"psh":if(f==="None"){this.psh=["None"];break}this.psh=this.psh.filter(L=>L!=="None"),this.psh.find(L=>L===f)?this.psh=this.psh.filter(L=>L!==f):this.psh.push(f);break;case"pmsh":if(f==="None"){this.pmsh=["None"];break}this.pmsh=this.pmsh.filter(L=>L!=="None"),this.pmsh.find(L=>L===f)?this.pmsh=this.pmsh.filter(L=>L!==f):this.pmsh.push(f);break;case"drugs":if(f==="None"){this.drugs=["None"];break}this.drugs=this.drugs.filter(L=>L!=="None"),this.drugs.find(L=>L===f)?this.drugs=this.drugs.filter(L=>L!==f):this.drugs.push(f);break;case"substance":if(f==="None"){this.substance=["None"];break}this.substance=this.substance.filter(L=>L!=="None"),this.substance.find(L=>L===f)?this.substance=this.substance.filter(L=>L!==f):this.substance.push(f);break;case"appearance":if(f==="None"){this.appearance=["None"];break}this.appearance=this.appearance.filter(L=>L!=="None"),this.appearance.find(L=>L===f)?this.appearance=this.appearance.filter(L=>L!==f):this.appearance.push(f);break;case"speech":if(f==="None"){this.speech=["None"];break}this.speech=this.speech.filter(L=>L!=="None"),this.speech.find(L=>L===f)?this.speech=this.speech.filter(L=>L!==f):this.speech.push(f);break;case"mood":if(f==="None"){this.mood=["None"];break}this.mood=this.mood.filter(L=>L!=="None"),this.mood.find(L=>L===f)?this.mood=this.mood.filter(L=>L!==f):this.mood.push(f);break;case"cognitive":if(f==="None"){this.cognitive=["None"];break}this.cognitive=this.cognitive.filter(L=>L!=="None"),this.cognitive.find(L=>L===f)?this.cognitive=this.cognitive.filter(L=>L!==f):this.cognitive.push(f);break;case"perception":if(f==="None"){this.perception=["None"];break}this.perception=this.perception.filter(L=>L!=="None"),this.perception.find(L=>L===f)?this.perception=this.perception.filter(L=>L!==f):this.perception.push(f);break;case"thought":if(f==="None"){this.thought=["None"];break}this.thought=this.thought.filter(L=>L!=="None"),this.thought.find(L=>L===f)?this.thought=this.thought.filter(L=>L!==f):this.thought.push(f);break}},submitPatient(){let M={"Added by":this.user,Name:this.patientName,"Birth Date":this.birthdate,Occupation:this.occupation?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.occupation}]:null,Gender:this.gender,Residency:this.residency,"Marietal Status":this.marital,"Marital Notes":this.maritalStatusNotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.marital?this.marital:""} - ${this.maritalStatusNotes}`}]:null,Education:this.education,Relatives:this.relatives,"Chief Complaint":this.chief?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.chief}]:null,"History of Present Illness":this.hopi?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.hopi}]:null,Precipitants:this.precipitant?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.precipitant}]:null,Suicide:this.suicide,"Suicide Notes":this.suicidenotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.suicidenotes}]:null,"Family History":this.family,"Family History Notes":this.familynotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.familynotes}]:null,Children:this.children,"Children Notes":this.childrennotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.childrennotes}]:null,"Past Psychiatric History":this.psh,"Past Psychiatric History Notes":this.pshnotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.pshnotes}]:null,"Past Medical & Surgical History":this.pmsh,"Past Medical & Surgical History Notes":this.pmshnotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.pmshnotes}]:null,Drugs:this.drugs,"Drugs Notes":this.drugsnotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.drugsnotes}]:null,Alcohol:this.alcohol,"Alcohol Notes":this.alcoholnotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.alcoholnotes}]:null,"Substance Abuse":this.substance,"Substance Abuse Notes":this.substancenotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.substancenotes}]:null,"Forensic Hx":this.forensic?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.forensic}]:null,"Social Hx":this.social?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.social}]:null,DDX:this.ddx?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.ddx}]:null,"Appearance/Behavior":this.appearance,Speech:this.speech,Mood:this.mood,"Cognitive State":this.cognitive,Perception:this.perception,"Perception Notes":this.perceptionnotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.perceptionnotes}]:null,"Thought Content":this.thought,"Thought Content Notes":this.thoughtnotes?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.thoughtnotes}]:null,Management:this.management?[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.management}]:null,Specialist:this.specialist};M._id=new Date().toJSON(),console.log(M._id),this.localDB.put(M),this.$emit("tab","patients")}},mounted(){this.localBtnDB.get("allbtns").then(M=>{this.genderbtns=M.genderbtns,this.residencybtns=M.residencybtns,this.maritalbtns=M.maritalbtns,this.educationbtns=M.educationbtns,this.relativesbtns=M.relativesbtns,this.suicidebtns=M.suicidebtns,this.residencybtns=M.residencybtns,this.familybtns=M.familybtns,this.childrenbtns=M.childrenbtns,this.pphbtns=M.pphbtns,this.pmshbtns=M.pmshbtns,this.drugsbtns=M.drugsbtns,this.specialistbtns=M.specialistbtns,this.alcoholbtns=M.alcoholbtns,this.substancebtns=M.substancebtns,this.appearancebtns=M.appearancebtns,this.speechbtns=M.speechbtns,this.moodbtns=M.moodbtns,this.cognitivebtns=M.cognitivebtns,this.perceptionbtns=M.perceptionbtns,this.thoughtbtns=M.thoughtbtns}).catch(M=>console.log(M))}},Et=M=>(Pa("data-v-6ecc8638"),M=M(),Ia(),M),uc={class:"container my-3"},cc={class:"py-2 arabic"},lc=Et(()=>k("h5",null,"Name",-1)),fc={class:"py-2"},hc=Et(()=>k("h5",null,"Birth Date",-1)),dc={class:"py-2 pb-4 group"},pc=Et(()=>k("h5",null,"Occupation",-1)),vc={class:"py-4 group"},mc=Et(()=>k("h5",null,"Gender",-1)),_c=["onClick"],gc={class:"py-4 group"},yc=Et(()=>k("h5",null,"Residency",-1)),wc=["onClick"],bc={class:"py-4 group"},Ec=Et(()=>k("h5",null,"Marital Status",-1)),Ac=["onClick"],Sc={class:"py-4"},Cc=Et(()=>k("h5",null,"Marital Notes",-1)),Tc={class:"py-4 group"},Oc=Et(()=>k("h5",null,"Education",-1)),Dc=["onClick"],Nc={class:"py-4 group"},$c=Et(()=>k("h5",null,"Relatives",-1)),Lc=["onClick"],kc={class:"py-4 group"},xc=Et(()=>k("h5",null,"Chief Complaint",-1)),Pc={class:"py-4 group"},Ic=Et(()=>k("h5",null,"History Of Present Illness",-1)),Rc={class:"py-4 group"},Bc=Et(()=>k("h5",null,"Precipitants",-1)),Mc={class:"py-4 group"},jc=Et(()=>k("h5",null,"Suicide",-1)),qc=["onClick"],Uc=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),Hc={class:"py-4 group"},Fc=Et(()=>k("h5",null,"Family History",-1)),Kc=["onClick"],Gc=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),Vc={class:"py-4 group"},Wc=Et(()=>k("h5",null,"Children",-1)),zc=["onClick"],Yc=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),Qc={class:"py-4 group"},Jc=Et(()=>k("h5",null,"Past Psychiatric History",-1)),Xc=["onClick"],Zc=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),el={class:"py-4 group"},tl=Et(()=>k("h5",null,"Past Medical & Surgical History",-1)),nl=["onClick"],rl=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),il={class:"py-4 group"},sl=Et(()=>k("h5",null,"Drugs",-1)),ol=["onClick"],al=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),ul={class:"py-4 group"},cl=Et(()=>k("h5",null,"Alcohol",-1)),ll=["onClick"],fl=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),hl={class:"py-4 group"},dl=Et(()=>k("h5",null,"Substance Abuse",-1)),pl=["onClick"],vl=Et(()=>k("h5",{class:"pt-4"},"Notes",-1)),ml={class:"py-4 group"},_l=Et(()=>k("h5",{class:""},"Forensic History",-1)),gl={class:"py-4 group"},yl=Et(()=>k("h5",null,"Social History",-1)),wl={class:"py-4 group"},bl=Et(()=>k("h5",null,"Differential Diagnosis",-1)),El={class:"py-4 group"},Al=Et(()=>k("h5",null,"Appearance/Behavior",-1)),Sl=["onClick"],Cl={class:"py-4 group"},Tl=Et(()=>k("h5",null,"Speech",-1)),Ol=["onClick"],Dl={class:"py-4 group"},Nl=Et(()=>k("h5",null,"Mood",-1)),$l=["onClick"],Ll={class:"py-4 group"},kl=Et(()=>k("h5",null,"Cognitive State",-1)),xl=["onClick"],Pl={class:"py-4 group"},Il=Et(()=>k("h5",null,"Perception",-1)),Rl=["onClick"],Bl={class:"py-4 group"},Ml=Et(()=>k("h5",null,"Though Content",-1)),jl=["onClick"],ql={class:"py-4 group"},Ul=Et(()=>k("h5",null,"Management",-1)),Hl={class:"py-4"},Fl=Et(()=>k("h5",null,"Specialist",-1)),Kl=["onClick"],Gl={class:"row m-4"};function Vl(M,f,P,K,w,D){return Ae(),Se("div",uc,[k("div",cc,[lc,dt(k("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>w.patientName=h),type:"text",class:"form-control"},null,512),[[pt,w.patientName]])]),k("div",fc,[hc,dt(k("input",{"onUpdate:modelValue":f[1]||(f[1]=h=>w.birthdate=h),type:"date",class:"form-control"},null,512),[[pt,w.birthdate]])]),k("div",dc,[pc,dt(k("input",{"onUpdate:modelValue":f[2]||(f[2]=h=>w.occupation=h),type:"text",class:"form-control"},null,512),[[pt,w.occupation]])]),k("div",vc,[mc,(Ae(!0),Se(vt,null,gt(w.genderbtns,h=>(Ae(),Se("button",{onClick:N=>w.gender=h,key:h,class:ct(["btn btn-single",w.gender===h?"clicked":""])},ot(h),11,_c))),128))]),k("div",gc,[yc,(Ae(!0),Se(vt,null,gt(w.residencybtns,h=>(Ae(),Se("button",{onClick:N=>w.residency=h,key:h,class:ct(["btn btn-single arabic",w.residency===h?"clicked":""])},ot(h),11,wc))),128))]),k("div",bc,[Ec,(Ae(!0),Se(vt,null,gt(w.maritalbtns,h=>(Ae(),Se("button",{onClick:N=>w.marital=h,key:h,class:ct(["btn btn-single",w.marital===h?"clicked":""])},ot(h),11,Ac))),128)),k("div",Sc,[Cc,dt(k("textarea",{"onUpdate:modelValue":f[3]||(f[3]=h=>w.maritalStatusNotes=h),class:"form-control",rows:"3"},null,512),[[pt,w.maritalStatusNotes]])])]),k("div",Tc,[Oc,(Ae(!0),Se(vt,null,gt(w.educationbtns,h=>(Ae(),Se("button",{onClick:N=>w.education=h,key:h,class:ct(["btn btn-single",w.education===h?"clicked":""])},ot(h),11,Dc))),128))]),k("div",Nc,[$c,(Ae(!0),Se(vt,null,gt(w.relativesbtns,h=>(Ae(),Se("button",{onClick:N=>w.relatives=h.value,key:h.title,class:ct(["btn btn-single",w.relatives===h.value?"clicked":""])},ot(h.title),11,Lc))),128))]),k("div",kc,[xc,dt(k("textarea",{"onUpdate:modelValue":f[4]||(f[4]=h=>w.chief=h),class:"form-control",rows:"3"},null,512),[[pt,w.chief]])]),k("div",Pc,[Ic,dt(k("textarea",{"onUpdate:modelValue":f[5]||(f[5]=h=>w.hopi=h),class:"form-control",rows:"3"},null,512),[[pt,w.hopi]])]),k("div",Rc,[Bc,dt(k("textarea",{"onUpdate:modelValue":f[6]||(f[6]=h=>w.precipitant=h),class:"form-control",rows:"3"},null,512),[[pt,w.precipitant]])]),k("div",Mc,[jc,(Ae(!0),Se(vt,null,gt(w.suicidebtns,h=>(Ae(),Se("button",{onClick:N=>w.suicide=h,key:h,class:ct(["btn btn-single",w.suicide===h?"clicked":""])},ot(h),11,qc))),128)),Uc,dt(k("textarea",{"onUpdate:modelValue":f[7]||(f[7]=h=>w.suicidenotes=h),class:"form-control",id:"suicide",rows:"3"},null,512),[[pt,w.suicidenotes]])]),k("div",Hc,[Fc,(Ae(!0),Se(vt,null,gt(w.familybtns,h=>(Ae(),Se("button",{onClick:N=>D.push("family",h),key:h,class:ct(["btn btn-multiple",w.family.find(N=>N===h)?"clicked":""])},ot(h),11,Kc))),128)),Gc,dt(k("textarea",{"onUpdate:modelValue":f[8]||(f[8]=h=>w.familynotes=h),class:"form-control",id:"family",rows:"3"},null,512),[[pt,w.familynotes]])]),k("div",Vc,[Wc,(Ae(!0),Se(vt,null,gt(w.childrenbtns,h=>(Ae(),Se("button",{onClick:N=>w.children=h.value,key:h.title,class:ct(["btn btn-single",w.children===h.value?"clicked":""])},ot(h.title),11,zc))),128)),Yc,dt(k("textarea",{"onUpdate:modelValue":f[9]||(f[9]=h=>w.childrennotes=h),class:"form-control",id:"children",rows:"3"},null,512),[[pt,w.childrennotes]])]),k("div",Qc,[Jc,(Ae(!0),Se(vt,null,gt(w.pphbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("psh",h),key:h,class:ct(["btn btn-multiple",w.psh.find(N=>N===h)?"clicked":""])},ot(h),11,Xc))),128)),Zc,dt(k("textarea",{"onUpdate:modelValue":f[10]||(f[10]=h=>w.pshnotes=h),class:"form-control",rows:"3"},null,512),[[pt,w.pshnotes]])]),k("div",el,[tl,(Ae(!0),Se(vt,null,gt(w.pmshbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("pmsh",h),key:h,class:ct(["btn btn-multiple",w.pmsh.find(N=>N===h)?"clicked":""])},ot(h),11,nl))),128)),rl,dt(k("textarea",{"onUpdate:modelValue":f[11]||(f[11]=h=>w.pmshnotes=h),class:"form-control",rows:"3"},null,512),[[pt,w.pmshnotes]])]),k("div",il,[sl,(Ae(!0),Se(vt,null,gt(w.drugsbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("drugs",h),key:h,class:ct(["btn btn-multiple",w.drugs.find(N=>N===h)?"clicked":""])},ot(h),11,ol))),128)),al,dt(k("textarea",{"onUpdate:modelValue":f[12]||(f[12]=h=>w.drugsnotes=h),class:"form-control",id:"children",rows:"3"},null,512),[[pt,w.drugsnotes]])]),k("div",ul,[cl,(Ae(!0),Se(vt,null,gt(w.alcoholbtns,h=>(Ae(),Se("button",{onClick:N=>w.alcohol=h.value,key:h.title,class:ct(["btn btn-single",w.alcohol===h.value?"clicked":""])},ot(h.title),11,ll))),128)),fl,dt(k("textarea",{"onUpdate:modelValue":f[13]||(f[13]=h=>w.alcoholnotes=h),class:"form-control",id:"children",rows:"3"},null,512),[[pt,w.alcoholnotes]])]),k("div",hl,[dl,(Ae(!0),Se(vt,null,gt(w.substancebtns,h=>(Ae(),Se("button",{onClick:N=>D.push("substance",h),key:h,class:ct(["btn btn-multiple",w.substance.find(N=>N===h)?"clicked":""])},ot(h),11,pl))),128)),vl,dt(k("textarea",{"onUpdate:modelValue":f[14]||(f[14]=h=>w.substancenotes=h),class:"form-control",rows:"3"},null,512),[[pt,w.substancenotes]])]),k("div",ml,[_l,dt(k("textarea",{"onUpdate:modelValue":f[15]||(f[15]=h=>w.forensic=h),class:"form-control",rows:"3"},null,512),[[pt,w.forensic]])]),k("div",gl,[yl,dt(k("textarea",{"onUpdate:modelValue":f[16]||(f[16]=h=>w.social=h),class:"form-control",rows:"3"},null,512),[[pt,w.social]])]),k("div",wl,[bl,dt(k("textarea",{"onUpdate:modelValue":f[17]||(f[17]=h=>w.ddx=h),class:"form-control",rows:"3"},null,512),[[pt,w.ddx]])]),k("div",El,[Al,(Ae(!0),Se(vt,null,gt(w.appearancebtns,h=>(Ae(),Se("button",{onClick:N=>D.push("appearance",h),key:h,class:ct(["btn btn-multiple",w.appearance.find(N=>N===h)?"clicked":""])},ot(h),11,Sl))),128))]),k("div",Cl,[Tl,(Ae(!0),Se(vt,null,gt(w.speechbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("speech",h),key:h,class:ct(["btn btn-multiple",w.speech.find(N=>N===h)?"clicked":""])},ot(h),11,Ol))),128))]),k("div",Dl,[Nl,(Ae(!0),Se(vt,null,gt(w.moodbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("mood",h),key:h,class:ct(["btn btn-multiple",w.mood.find(N=>N===h)?"clicked":""])},ot(h),11,$l))),128))]),k("div",Ll,[kl,(Ae(!0),Se(vt,null,gt(w.cognitivebtns,h=>(Ae(),Se("button",{onClick:N=>D.push("cognitive",h),key:h,class:ct(["btn btn-multiple",w.cognitive.find(N=>N===h)?"clicked":""])},ot(h),11,xl))),128))]),k("div",Pl,[Il,(Ae(!0),Se(vt,null,gt(w.perceptionbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("perception",h),key:h,class:ct(["btn btn-multiple",w.perception.find(N=>N===h)?"clicked":""])},ot(h),11,Rl))),128)),dt(k("textarea",{"onUpdate:modelValue":f[18]||(f[18]=h=>w.perceptionnotes=h),class:"form-control mt-4",rows:"3"},null,512),[[pt,w.perceptionnotes]])]),k("div",Bl,[Ml,(Ae(!0),Se(vt,null,gt(w.thoughtbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("thought",h),key:h,class:ct(["btn btn-multiple",w.thought.find(N=>N===h)?"clicked":""])},ot(h),11,jl))),128)),dt(k("textarea",{"onUpdate:modelValue":f[19]||(f[19]=h=>w.thoughtnotes=h),class:"form-control mt-4",rows:"3"},null,512),[[pt,w.thoughtnotes]])]),k("div",ql,[Ul,dt(k("textarea",{"onUpdate:modelValue":f[20]||(f[20]=h=>w.management=h),class:"form-control mt-4",rows:"3"},null,512),[[pt,w.management]])]),k("div",Hl,[Fl,(Ae(!0),Se(vt,null,gt(w.specialistbtns,h=>(Ae(),Se("button",{key:h,class:ct(["btn btn-single arabic",w.specialist===h?"clicked":""]),onClick:N=>w.specialist=h},ot(h),11,Kl))),128))]),k("div",Gl,[k("button",{onClick:f[21]||(f[21]=(...h)=>D.submitPatient&&D.submitPatient(...h)),class:"btn text-light clicked"}," Submit ")])])}var Wl=Do(ac,[["render",Vl],["__scopeId","data-v-6ecc8638"]]);const zl={inject:["localDB","localBtnDB"],props:{user:String,patient:Object},emits:["close"],data(){return{genderbtns:["Male","Female"],residencybtns:["\u0627\u0644\u0631\u0635\u0627\u0641\u0629","\u0627\u0644\u0643\u0631\u062E","\u0627\u0644\u0643\u0627\u0638\u0645\u064A\u0629","\u0627\u0644\u0646\u062C\u0641 \u0627\u0644\u0627\u0634\u0631\u0641","\u0627\u0644\u062F\u064A\u0648\u0627\u0646\u064A\u0629","\u0628\u0627\u0628\u0644","\u0627\u0644\u0645\u062B\u0646\u0649","\u0630\u064A \u0642\u0627\u0631","\u0627\u0644\u0628\u0635\u0631\u0629","\u0645\u064A\u0633\u0627\u0646","\u0648\u0627\u0633\u0637","\u0627\u0644\u0627\u0646\u0628\u0627\u0631","\u062F\u064A\u0627\u0644\u0649","\u0643\u0631\u0628\u0644\u0627\u0621 \u0627\u0644\u0645\u0642\u062F\u0633\u0629","\u0627\u0644\u0633\u0644\u064A\u0645\u0627\u0646\u064A\u0629","\u0646\u064A\u0646\u0648\u0649","\u0643\u0631\u0643\u0648\u0643","\u062F\u0647\u0648\u0643","\u0623\u0631\u0628\u064A\u0644","\u0635\u0644\u0627\u062D \u0627\u0644\u062F\u064A\u0646"],maritalbtns:["Single","Married","Divorced","Widowed"],educationbtns:["Illeterate","primary School","Secondary School","College","High Degree"],relativesbtns:[{title:"With Relatives",value:!0},{title:"Without Relatives",value:!1}],suicidebtns:["Feels","Thinks","Plans","Attemps","None"],familybtns:["Same Illness","Other Illness","Physical Illness","None"],childrenbtns:[{title:"Have Children",value:!0},{title:"Dont Have Children",value:!1}],pphbtns:["Same Illness","Other Illness","Admission","Treatment","Self Harm","None"],pmshbtns:["Surgical History","Medical History","None"],drugsbtns:["Fluoxetine","Citalopram","Sertraline","Paroxetine","Escitalopram","Clonazepam","Alprazolam","Lorazepam","Buspirone","Methylphenidate","Amphetamine","Dextroamphetamine","Chlorpromazine","Haloperidol","Perphenazine","Fluphenazine","Risperidone","Olanzapine","Quetiapine","Ziprasidone","Aripiprazole","Paliperidone","Lurasidone","Carbamazepine","Lamotrigine","Oxcarbazepine","valproic acid"],specialistbtns:["\u062F. \u0639\u062F\u064A","\u062F. \u0632\u064A\u0646\u0628","\u062F. \u0641\u0644\u0627\u062D","\u062F. \u062D\u0646\u064A\u0646","\u062F. \u0646\u0648\u0631"],alcoholbtns:[{title:"Consume Alcohol",value:!0},{title:"Not Consuming Alcohol",value:!1}],substancebtns:["Meth","Tramadol"],appearancebtns:["Appropriate","Good eye contact","Bad eye contact","Good self care","Bad self care","Look depressed","Look anxious","Look elated","Restless","Cold","Warm","Over emotional","Little emotion","Meaningful behavior","Meaningless behavior"],speechbtns:["Loud","Quiet","Spontanous","Only answer","Slow","Quick","Hesitant","Prompt","Say little","Say much","To the point","Wide of the point","Intrupted","Hesitantly","Coherent","Change of topic","Sudden Silence","Not Appropriate","Strange Words","Mood congreunt","Monotonous","Lyrical"],moodbtns:["Depression","Tearfulness","Diurnal variation","Insomia","Early awakining","Hopelessness","Low self esteem","Worthlessness","Guilt","Weight loss","Low energy","Motor retardation","Congruent","Flat","Labile","Elated expansive","High self esteem","Decrease sleep","Overtalkative","Grandiose","Distractable","Loss of interest","Decreased eating","Risky behavior"],cognitivebtns:["Oriented","Concentrate","Have Attention","Distractable","Good memory","Bad memory","Insightful","No Insight"],perceptionbtns:["Hallucination","Illusion","Somatic"],thoughtbtns:["Phobia","Obsession","Compulsion","Rituals","Mood congruent","Overvalued Idea","Delusion"],patientName:this.patient.Name,birthdate:this.patient["Birth Date"],newOccupation:null,gender:this.patient.Gender,residency:this.patient.Residency,marital:this.patient["Marietal Status"],newMaritalStatusNotes:null,education:this.patient.Education,relatives:this.patient.Relatives,newChief:null,newhopi:null,newprecipitant:null,suicide:this.patient.Suicide,newsuicidenotes:null,family:this.patient["Family History"],newfamilynotes:null,children:this.patient.Children,newChildrennotes:null,psh:this.patient["Past Psychiatric History"],newpshnotes:null,pmsh:this.patient["Past Medical & Surgical History"],newpmshnotes:null,drugs:this.patient.Drugs,newdrugsnotes:null,alcohol:this.patient.Alcohol,newalcoholnotes:null,substance:this.patient["Substance Abuse"],newsubstancenotes:null,newforensic:null,newsocial:null,newddx:null,appearance:this.patient["Appearance/Behavior"],speech:this.patient.Speech,mood:this.patient.Mood,cognitive:this.patient["Cognitive State"],perception:this.patient.Perception,newperceptionnotes:null,thought:this.patient["Thought Content"],newthoughtnotes:null,newmanagement:null,specialist:this.patient.Specialist,sort:!0}},computed:{occupation(){return this.patient.Occupation?(this.sort?this.patient.Occupation.sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient.Occupation.sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},maritalStatusNotes(){return this.patient["Marital Notes"]?(this.sort?this.patient["Marital Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Marital Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},chief(){return this.patient["Chief Complaint"]?(this.sort?this.patient["Chief Complaint"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Chief Complaint"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},hopi(){return this.patient["History of Present Illness"]?(this.sort?this.patient["History of Present Illness"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["History of Present Illness"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},precipitant(){return this.patient.Precipitants?(this.sort?this.patient.Precipitants.sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient.Precipitants.sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},suicidenotes(){return this.patient["Suicide Notes"]?(this.sort?this.patient["Suicide Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Suicide Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},familynotes(){return this.patient["Family History Notes"]?(this.sort?this.patient["Family History Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Family History Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},childrennotes(){return this.patient["Children Notes"]?(this.sort?this.patient["Children Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Children Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},pshnotes(){return this.patient["Past Psychiatric History Notes"]?(this.sort?this.patient["Past Psychiatric History Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Past Psychiatric History Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},pmshnotes(){return this.patient["Past Medical & Surgical History Notes"]?(this.sort?this.patient["Past Medical & Surgical History Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Past Medical & Surgical History Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},drugsnotes(){return this.patient["Past Medical & Surgical History Notes"]?(this.sort?this.patient["Drugs Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Drugs Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},alcoholnotes(){return this.patient["Alcohol Notes"]?(this.sort?this.patient["Alcohol Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Alcohol Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},substancenotes(){return this.patient["Substance Abuse Notes"]?(this.sort?this.patient["Substance Abuse Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Substance Abuse Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},forensic(){return this.patient["Substance Abuse Notes"]?(this.sort?this.patient["Substance Abuse Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Substance Abuse Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},social(){return this.patient["Social Hx"]?(this.sort?this.patient["Social Hx"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Social Hx"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},ddx(){return this.patient["Social Hx"]?(this.sort?this.patient["Social Hx"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Social Hx"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},perceptionnotes(){return this.patient["Perception Notes"]?(this.sort?this.patient["Perception Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Perception Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},thoughtnotes(){return this.patient["Thought Content Notes"]?(this.sort?this.patient["Thought Content Notes"].sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient["Thought Content Notes"].sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0},management(){return this.patient.Management?(this.sort?this.patient.Management.sort(function(f,P){return new Date(P.date)-new Date(f.date)}):this.patient.Management.sort(function(f,P){return new Date(f.date)-new Date(P.date)})).map(f=>`(${f.user} @ ${f.date}) : ${f.comment} 
`):void 0}},methods:{push(M,f){switch(M){case"family":if(f==="None"){this.family=["None"];break}this.family=this.family.filter(L=>L!=="None"),this.family.find(L=>L===f)?this.family=this.family.filter(L=>L!==f):this.family.push(f);break;case"psh":if(f==="None"){this.psh=["None"];break}this.psh=this.psh.filter(L=>L!=="None"),this.psh.find(L=>L===f)?this.psh=this.psh.filter(L=>L!==f):this.psh.push(f);break;case"pmsh":if(f==="None"){this.pmsh=["None"];break}this.pmsh=this.pmsh.filter(L=>L!=="None"),this.pmsh.find(L=>L===f)?this.pmsh=this.pmsh.filter(L=>L!==f):this.pmsh.push(f);break;case"drugs":if(f==="None"){this.drugs=["None"];break}this.drugs=this.drugs.filter(L=>L!=="None"),this.drugs.find(L=>L===f)?this.drugs=this.drugs.filter(L=>L!==f):this.drugs.push(f);break;case"substance":if(f==="None"){this.substance=["None"];break}this.substance=this.substance.filter(L=>L!=="None"),this.substance.find(L=>L===f)?this.substance=this.substance.filter(L=>L!==f):this.substance.push(f);break;case"appearance":if(f==="None"){this.appearance=["None"];break}this.appearance=this.appearance.filter(L=>L!=="None"),this.appearance.find(L=>L===f)?this.appearance=this.appearance.filter(L=>L!==f):this.appearance.push(f);break;case"speech":if(f==="None"){this.speech=["None"];break}this.speech=this.speech.filter(L=>L!=="None"),this.speech.find(L=>L===f)?this.speech=this.speech.filter(L=>L!==f):this.speech.push(f);break;case"mood":if(f==="None"){this.mood=["None"];break}this.mood=this.mood.filter(L=>L!=="None"),this.mood.find(L=>L===f)?this.mood=this.mood.filter(L=>L!==f):this.mood.push(f);break;case"cognitive":if(f==="None"){this.cognitive=["None"];break}this.cognitive=this.cognitive.filter(L=>L!=="None"),this.cognitive.find(L=>L===f)?this.cognitive=this.cognitive.filter(L=>L!==f):this.cognitive.push(f);break;case"perception":if(f==="None"){this.perception=["None"];break}this.perception=this.perception.filter(L=>L!=="None"),this.perception.find(L=>L===f)?this.perception=this.perception.filter(L=>L!==f):this.perception.push(f);break;case"thought":if(f==="None"){this.thought=["None"];break}this.thought=this.thought.filter(L=>L!=="None"),this.thought.find(L=>L===f)?this.thought=this.thought.filter(L=>L!==f):this.thought.push(f);break}},submitPatient(){let M={_id:this.patient._id,_rev:this.patient._rev,Name:this.patientName,"Birth Date":this.birthdate,Occupation:this.newOccupation?this.patient.Occupation?[...this.patient.Occupation,{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newOccupation}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newOccupation}]:this.patient.Occupation?this.patient.Occupation:null,Gender:this.gender,Residency:this.residency,"Marietal Status":this.marital,"Marital Notes":this.newMaritalStatusNotes?this.patient["Marital Notes"]?[...this.patient["Marital Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.marital?this.marital:""} - ${this.newMaritalStatusNotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.marital?this.marital:""} - ${this.newMaritalStatusNotes}`}]:this.patient["Marital Notes"]?this.patient["Marital Notes"]:null,Education:this.education,Relatives:this.relatives,"Chief Complaint":this.newchief?this.patient["Chief Complaint"]?[...this.patient["Chief Complaint"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newchief}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newchief}]:this.patient["Chief Complaint"]?this.patient["Chief Complaint"]:null,"History of Present Illness":this.newhopi?this.patient["History of Present Illness"]?[...this.patient["History of Present Illness"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newhopi}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newhopi}]:this.patient["History of Present Illness"]?this.patient["History of Present Illness"]:null,Precipitants:this.newprecipitant?this.patient.Precipitants?[...this.patient.Precipitants,{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newprecipitant}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newprecipitant}]:this.patient.Precipitants?this.patient.Precipitants:null,Suicide:this.suicide,"Suicide Notes":this.newsuicidenotes?this.patient["Suicide Notes"]?[...this.patient["Suicide Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.suicide?this.suicide:""} - ${this.newsuicidenotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.suicide?this.suicide:""} - ${this.newsuicidenotes}`}]:this.patient["Suicide Notes"]?this.patient["Suicide Notes"]:null,"Family History":this.family,"Family History Notes":this.newfamilynotes?this.patient["Family History Notes"]?[...this.patient["Family History Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.family?this.family:""} - ${this.newfamilynotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.family?this.family:""} - ${this.newfamilynotes}`}]:this.patient["Family History Notes"]?this.patient["Family History Notes"]:null,Children:this.children,"Children Notes":this.newChildrennotes?this.patient["Children Notes"]?[...this.patient["Children Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newChildrennotes}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:this.newChildrennotes}]:this.patient["Children Notes"]?this.patient["Children Notes"]:null,"Past Psychiatric History":this.psh,"Past Psychiatric History Notes":this.newpshnotes?this.patient["Past Psychiatric History Notes"]?[...this.patient["Past Psychiatric History Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.psh?this.psh:""} - ${this.newpshnotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.psh?this.psh:""} - ${this.newpshnotes}`}]:this.patient["Past Psychiatric History Notes"]?this.patient["Past Psychiatric History Notes"]:null,"Past Medical & Surgical History":this.pmsh,"Past Medical & Surgical History Notes":this.newpmshnotes?this.patient["Past Medical & Surgical History Notes"]?[...this.patient["Past Medical & Surgical History Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.pmsh?this.pmsh:""} - ${this.newpmshnotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.pmsh?this.pmsh:""} - ${this.newpmshnotes}`}]:this.patient["Past Medical & Surgical History Notes"]?this.patient["Past Medical & Surgical History Notes"]:null,Drugs:this.drugs,"Drugs Notes":this.newdrugsnotes?this.patient["Drugs Notes"]?[...this.patient["Drugs Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newdrugsnotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newdrugsnotes}`}]:this.patient["Drugs Notes"]?this.patient["Drugs Notes"]:null,Alcohol:this.alcohol,"Alcohol Notes":this.newalcoholnotes?this.patient["Alcohol Notes"]?[...this.patient["Alcohol Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newalcoholnotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newalcoholnotes}`}]:this.patient["Alcohol Notes"]?this.patient["Alcohol Notes"]:null,"Substance Abuse":this.substance,"Substance Abuse Notes":this.newsubstancenotes?this.patient["Substance Abuse Notes"]?[...this.patient["Substance Abuse Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newsubstancenotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newsubstancenotes}`}]:this.patient["Substance Abuse Notes"]?this.patient["Substance Abuse Notes"]:null,"Forensic Hx":this.newforensic?this.patient["Forensic Hx"]?[...this.patient["Forensic Hx"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newforensic}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newforensic}`}]:this.patient["Forensic Hx"]?this.patient["Forensic Hx"]:null,"Social Hx":this.newsocial?this.patient["Social Hx"]?[...this.patient["Social Hx"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newsocial}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newsocial}`}]:this.patient["Social Hx"]?this.patient["Social Hx"]:null,DDX:this.newddx?this.patient.DDX?[...this.patient.DDX,{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newddx}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newddx}`}]:this.patient.DDX?this.patient.DDX:null,Speech:this.speech,Mood:this.mood,Perception:this.perception,"Cognitive State":this.cognitive,"Appearance/Behavior":this.appearance,"Perception Notes":this.newperceptionnotes?this.patient["Perception Notes"]?[...this.patient["Perception Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newperceptionnotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newperceptionnotes}`}]:this.patient["Perception Notes"]?this.patient["Perception Notes"]:null,"Thought Content":this.thought,"Thought Content Notes":this.newthoughtnotes?this.patient["Thought Content Notes"]?[...this.patient["Thought Content Notes"],{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newthoughtnotes}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newthoughtnotes}`}]:this.patient["Thought Content Notes"]?this.patient["Thought Content Notes"]:null,Specialist:this.specialist,Management:this.newmanagement?this.patient.Management?[...this.patient.Management,{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newmanagement}`}]:[{user:this.user,date:new Date().toLocaleDateString("en-GB"),comment:`${this.newmanagement}`}]:this.patient.Management?this.patient.Management:null};this.localDB.put(M),this.$emit("close")}}},At=M=>(Pa("data-v-12d218ea"),M=M(),Ia(),M),Yl={class:"btn color"},Ql={key:0,class:"bi bi-arrow-up text-light"},Jl={key:1,class:"bi bi-arrow-down text-light"},Xl={class:"font container mt-3"},Zl={class:"py-2 shadow sticky-top mb-3"},ef={class:"py-2 arabic"},tf=At(()=>k("h5",null,"Name",-1)),nf=["placeholder"],rf={class:"py-2"},sf=At(()=>k("h5",null,"Birth Date",-1)),of=["placeholder"],af={class:"py-2 group"},uf=At(()=>k("h5",null,"Occupation",-1)),cf=["placeholder"],lf={class:"py-4 group"},ff=At(()=>k("h5",null,"Gender",-1)),hf=["onClick"],df={class:"py-4 group"},pf=At(()=>k("h5",null,"Residency",-1)),vf=["onClick"],mf={class:"py-4 group"},_f=At(()=>k("h5",null,"Marital Status",-1)),gf=["onClick"],yf={class:"py-4"},wf=At(()=>k("h5",null,"Marital Notes",-1)),bf=["placeholder"],Ef={class:"py-4 group"},Af=At(()=>k("h5",null,"Education",-1)),Sf=["onClick"],Cf={class:"py-4 group"},Tf=At(()=>k("h5",null,"Relatives",-1)),Of=["onClick"],Df={class:"py-4 group"},Nf=At(()=>k("h5",null,"Chief Complaint",-1)),$f=["placeholder"],Lf={class:"py-4 group"},kf=At(()=>k("h5",null,"History Of Present Illness",-1)),xf=["placeholder"],Pf={class:"py-4 group"},If=At(()=>k("h5",null,"Precipitants",-1)),Rf=["placeholder"],Bf={class:"py-4 group"},Mf=At(()=>k("h5",null,"Suicide",-1)),jf=["onClick"],qf=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),Uf=["placeholder"],Hf={class:"py-4 group"},Ff=At(()=>k("h5",null,"Family History",-1)),Kf=["onClick"],Gf=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),Vf=["placeholder"],Wf={class:"py-4 group"},zf=At(()=>k("h5",null,"Children",-1)),Yf=["onClick"],Qf=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),Jf=["placeholder"],Xf={class:"py-4 group"},Zf=At(()=>k("h5",null,"Past Psychiatric History",-1)),eh=["onClick"],th=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),nh=["placeholder"],rh={class:"py-4 group"},ih=At(()=>k("h5",null,"Past Medical & Surgical History",-1)),sh=["onClick"],oh=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),ah=["placeholder"],uh={class:"py-4 group"},ch=At(()=>k("h5",null,"Drugs",-1)),lh=["onClick"],fh=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),hh=["placeholder"],dh={class:"py-4 group"},ph=At(()=>k("h5",null,"Alcohol",-1)),vh=["onClick"],mh=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),_h=["placeholder"],gh={class:"py-4 group"},yh=At(()=>k("h5",null,"Substance Abuse",-1)),wh=["onClick"],bh=At(()=>k("h5",{class:"pt-4"},"Notes",-1)),Eh=["placeholder"],Ah={class:"py-4 group"},Sh=At(()=>k("h5",{class:""},"Forensic History",-1)),Ch=["placeholder"],Th={class:"py-4 group"},Oh=At(()=>k("h5",null,"Social History",-1)),Dh=["placeholder"],Nh={class:"py-4 group"},$h=At(()=>k("h5",null,"Differential Diagnosis",-1)),Lh=["placeholder"],kh={class:"py-4 group"},xh=At(()=>k("h5",null,"Appearance/Behavior",-1)),Ph=["onClick"],Ih={class:"py-4 group"},Rh=At(()=>k("h5",null,"Speech",-1)),Bh=["onClick"],Mh={class:"py-4 group"},jh=At(()=>k("h5",null,"Mood",-1)),qh=["onClick"],Uh={class:"py-4 group"},Hh=At(()=>k("h5",null,"Cognitive State",-1)),Fh=["onClick"],Kh={class:"py-4 group"},Gh=At(()=>k("h5",null,"Perception",-1)),Vh=["onClick"],Wh=["placeholder"],zh={class:"py-4 group"},Yh=At(()=>k("h5",null,"Though Content",-1)),Qh=["onClick"],Jh=["placeholder"],Xh={class:"py-4 group"},Zh=At(()=>k("h5",null,"Management",-1)),ed=["placeholder"],td={class:"py-4"},nd=At(()=>k("h5",null,"Specialist",-1)),rd=["onClick"],id={class:"row m-4"};function sd(M,f,P,K,w,D){return Ae(),Se(vt,null,[k("div",{onClick:f[0]||(f[0]=h=>w.sort=!w.sort),class:"sort"},[k("button",Yl,[w.sort?Di("",!0):(Ae(),Se("i",Ql)),w.sort?(Ae(),Se("i",Jl)):Di("",!0)])]),k("div",Xl,[k("div",Zl,[k("button",{onClick:f[1]||(f[1]=h=>M.$emit("close")),type:"button",class:"btn-close px-2"})]),k("div",ef,[tf,k("input",{placeholder:w.patientName,type:"text",class:"form-control",disabled:""},null,8,nf)]),k("div",rf,[sf,k("input",{type:"date",class:"form-control",placeholder:w.birthdate,disabled:""},null,8,of)]),k("div",af,[uf,dt(k("textarea",{"onUpdate:modelValue":f[2]||(f[2]=h=>w.newOccupation=h),type:"text",class:"form-control",placeholder:D.occupation,rows:"3"},null,8,cf),[[pt,w.newOccupation]])]),k("div",lf,[ff,(Ae(!0),Se(vt,null,gt(w.genderbtns,h=>(Ae(),Se("button",{onClick:N=>w.gender=h,key:h,class:ct(["btn btn-single",w.gender===h?"clicked":""])},ot(h),11,hf))),128))]),k("div",df,[pf,(Ae(!0),Se(vt,null,gt(w.residencybtns,h=>(Ae(),Se("button",{onClick:N=>w.residency=h,key:h,class:ct(["btn btn-single arabic",w.residency===h?"clicked":""])},ot(h),11,vf))),128))]),k("div",mf,[_f,(Ae(!0),Se(vt,null,gt(w.maritalbtns,h=>(Ae(),Se("button",{onClick:N=>w.marital=h,key:h,class:ct(["btn btn-single",w.marital===h?"clicked":""])},ot(h),11,gf))),128)),k("div",yf,[wf,dt(k("textarea",{"onUpdate:modelValue":f[3]||(f[3]=h=>w.newMaritalStatusNotes=h),placeholder:D.maritalStatusNotes,class:"form-control",rows:"3"},null,8,bf),[[pt,w.newMaritalStatusNotes]])])]),k("div",Ef,[Af,(Ae(!0),Se(vt,null,gt(w.educationbtns,h=>(Ae(),Se("button",{onClick:N=>w.education=h,key:h,class:ct(["btn btn-single",w.education===h?"clicked":""])},ot(h),11,Sf))),128))]),k("div",Cf,[Tf,(Ae(!0),Se(vt,null,gt(w.relativesbtns,h=>(Ae(),Se("button",{onClick:N=>w.relatives=h.value,key:h.title,class:ct(["btn btn-single",w.relatives===h.value?"clicked":""])},ot(h.title),11,Of))),128))]),k("div",Df,[Nf,dt(k("textarea",{"onUpdate:modelValue":f[4]||(f[4]=h=>w.newChief=h),placeholder:D.chief,class:"form-control",rows:"3"},null,8,$f),[[pt,w.newChief]])]),k("div",Lf,[kf,dt(k("textarea",{"onUpdate:modelValue":f[5]||(f[5]=h=>w.newhopi=h),placeholder:D.hopi,class:"form-control",rows:"3"},null,8,xf),[[pt,w.newhopi]])]),k("div",Pf,[If,dt(k("textarea",{"onUpdate:modelValue":f[6]||(f[6]=h=>w.newprecipitant=h),placeholder:D.precipitant,class:"form-control",rows:"3"},null,8,Rf),[[pt,w.newprecipitant]])]),k("div",Bf,[Mf,(Ae(!0),Se(vt,null,gt(w.suicidebtns,h=>(Ae(),Se("button",{onClick:N=>w.suicide=h,key:h,class:ct(["btn btn-single",w.suicide===h?"clicked":""])},ot(h),11,jf))),128)),qf,dt(k("textarea",{"onUpdate:modelValue":f[7]||(f[7]=h=>w.newsuicidenotes=h),placeholder:D.suicidenotes,class:"form-control",rows:"3"},null,8,Uf),[[pt,w.newsuicidenotes]])]),k("div",Hf,[Ff,(Ae(!0),Se(vt,null,gt(w.familybtns,h=>(Ae(),Se("button",{onClick:N=>D.push("family",h),key:h,class:ct(["btn btn-multiple",w.family.find(N=>N===h)?"clicked":""])},ot(h),11,Kf))),128)),Gf,dt(k("textarea",{"onUpdate:modelValue":f[8]||(f[8]=h=>w.newfamilynotes=h),placeholder:D.familynotes,class:"form-control",id:"family",rows:"3"},null,8,Vf),[[pt,w.newfamilynotes]])]),k("div",Wf,[zf,(Ae(!0),Se(vt,null,gt(w.childrenbtns,h=>(Ae(),Se("button",{onClick:N=>w.children=h.value,key:h.title,class:ct(["btn btn-single",w.children===h.value?"clicked":""])},ot(h.title),11,Yf))),128)),Qf,dt(k("textarea",{"onUpdate:modelValue":f[9]||(f[9]=h=>w.newChildrennotes=h),placeholder:D.childrennotes,class:"form-control",id:"children",rows:"3"},null,8,Jf),[[pt,w.newChildrennotes]])]),k("div",Xf,[Zf,(Ae(!0),Se(vt,null,gt(w.pphbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("psh",h),key:h,class:ct(["btn btn-multiple",w.psh.find(N=>N===h)?"clicked":""])},ot(h),11,eh))),128)),th,dt(k("textarea",{"onUpdate:modelValue":f[10]||(f[10]=h=>w.newpshnotes=h),placeholder:D.pshnotes,class:"form-control",rows:"3"},null,8,nh),[[pt,w.newpshnotes]])]),k("div",rh,[ih,(Ae(!0),Se(vt,null,gt(w.pmshbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("pmsh",h),key:h,class:ct(["btn btn-multiple",w.pmsh.find(N=>N===h)?"clicked":""])},ot(h),11,sh))),128)),oh,dt(k("textarea",{"onUpdate:modelValue":f[11]||(f[11]=h=>w.newpmshnotes=h),placeholder:D.pmshnotes,class:"form-control",rows:"3"},null,8,ah),[[pt,w.newpmshnotes]])]),k("div",uh,[ch,(Ae(!0),Se(vt,null,gt(w.drugsbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("drugs",h),key:h,class:ct(["btn btn-multiple",w.drugs.find(N=>N===h)?"clicked":""])},ot(h),11,lh))),128)),fh,dt(k("textarea",{"onUpdate:modelValue":f[12]||(f[12]=h=>w.newdrugsnotes=h),placeholder:D.drugsnotes,class:"form-control",id:"children",rows:"3"},null,8,hh),[[pt,w.newdrugsnotes]])]),k("div",dh,[ph,(Ae(!0),Se(vt,null,gt(w.alcoholbtns,h=>(Ae(),Se("button",{onClick:N=>w.alcohol=h.value,key:h.title,class:ct(["btn btn-single",w.alcohol===h.value?"clicked":""])},ot(h.title),11,vh))),128)),mh,dt(k("textarea",{"onUpdate:modelValue":f[13]||(f[13]=h=>w.newalcoholnotes=h),placeholder:D.alcoholnotes,class:"form-control",rows:"3"},null,8,_h),[[pt,w.newalcoholnotes]])]),k("div",gh,[yh,(Ae(!0),Se(vt,null,gt(w.substancebtns,h=>(Ae(),Se("button",{onClick:N=>D.push("substance",h),key:h,class:ct(["btn btn-multiple",w.substance.find(N=>N===h)?"clicked":""])},ot(h),11,wh))),128)),bh,dt(k("textarea",{"onUpdate:modelValue":f[14]||(f[14]=h=>D.substancenotes=h),placeholder:w.newsubstancenotes,class:"form-control",rows:"3"},null,8,Eh),[[pt,D.substancenotes]])]),k("div",Ah,[Sh,dt(k("textarea",{"onUpdate:modelValue":f[15]||(f[15]=h=>D.forensic=h),placeholder:w.newforensic,class:"form-control",rows:"3"},null,8,Ch),[[pt,D.forensic]])]),k("div",Th,[Oh,dt(k("textarea",{"onUpdate:modelValue":f[16]||(f[16]=h=>D.social=h),placeholder:w.newsocial,class:"form-control",rows:"3"},null,8,Dh),[[pt,D.social]])]),k("div",Nh,[$h,dt(k("textarea",{"onUpdate:modelValue":f[17]||(f[17]=h=>D.ddx=h),placeholder:w.newddx,class:"form-control",rows:"3"},null,8,Lh),[[pt,D.ddx]])]),k("div",kh,[xh,(Ae(!0),Se(vt,null,gt(w.appearancebtns,h=>(Ae(),Se("button",{onClick:N=>D.push("appearance",h),key:h,class:ct(["btn btn-multiple",w.appearance.find(N=>N===h)?"clicked":""])},ot(h),11,Ph))),128))]),k("div",Ih,[Rh,(Ae(!0),Se(vt,null,gt(w.speechbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("speech",h),key:h,class:ct(["btn btn-multiple",w.speech.find(N=>N===h)?"clicked":""])},ot(h),11,Bh))),128))]),k("div",Mh,[jh,(Ae(!0),Se(vt,null,gt(w.moodbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("mood",h),key:h,class:ct(["btn btn-multiple",w.mood.find(N=>N===h)?"clicked":""])},ot(h),11,qh))),128))]),k("div",Uh,[Hh,(Ae(!0),Se(vt,null,gt(w.cognitivebtns,h=>(Ae(),Se("button",{onClick:N=>D.push("cognitive",h),key:h,class:ct(["btn btn-multiple",w.cognitive.find(N=>N===h)?"clicked":""])},ot(h),11,Fh))),128))]),k("div",Kh,[Gh,(Ae(!0),Se(vt,null,gt(w.perceptionbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("perception",h),key:h,class:ct(["btn btn-multiple",w.perception.find(N=>N===h)?"clicked":""])},ot(h),11,Vh))),128)),dt(k("textarea",{"onUpdate:modelValue":f[18]||(f[18]=h=>D.perceptionnotes=h),placeholder:w.newperceptionnotes,class:"form-control mt-4",rows:"3"},null,8,Wh),[[pt,D.perceptionnotes]])]),k("div",zh,[Yh,(Ae(!0),Se(vt,null,gt(w.thoughtbtns,h=>(Ae(),Se("button",{onClick:N=>D.push("thought",h),key:h,class:ct(["btn btn-multiple",w.thought.find(N=>N===h)?"clicked":""])},ot(h),11,Qh))),128)),dt(k("textarea",{"onUpdate:modelValue":f[19]||(f[19]=h=>w.newthoughtnotes=h),placeholder:D.thoughtnotes,class:"form-control mt-4",rows:"3"},null,8,Jh),[[pt,w.newthoughtnotes]])]),k("div",Xh,[Zh,dt(k("textarea",{"onUpdate:modelValue":f[20]||(f[20]=h=>D.management=h),placeholder:w.newmanagement,class:"form-control mt-4",id:"children",rows:"3"},null,8,ed),[[pt,D.management]])]),k("div",td,[nd,(Ae(!0),Se(vt,null,gt(w.specialistbtns,h=>(Ae(),Se("button",{key:h,class:ct(["btn btn-single arabic",w.specialist===h?"clicked":""]),onClick:N=>w.specialist=h},ot(h),11,rd))),128))]),k("div",id,[k("button",{onClick:f[21]||(f[21]=(...h)=>D.submitPatient&&D.submitPatient(...h)),class:"btn btn-primary"},"Submit")])])],64)}var od=Do(zl,[["render",sd],["__scopeId","data-v-12d218ea"]]);const ad={inject:["localDB"],data(){return{patients:null,searchField:null}},methods:{getPatients(){this.localDB.allDocs({include_docs:!0,descending:!0}).then(M=>{let f=M.rows;this.patients=f.map(P=>P.doc)})},search(){this.localDB.createIndex({index:{fields:["Name"]}}).then(()=>this.localDB.find({selector:{Name:{$regex:this.searchField}}})).then(M=>{this.patients=M.docs}).catch(function(M){console.log(M)})}},mounted(){this.getPatients()}},ud=M=>(Pa("data-v-02180d74"),M=M(),Ia(),M),cd={class:"container mt-4"},ld={class:"navbar navbar-light"},fd={class:"d-flex"},hd={class:"table table-striped table-hover mt-4"},dd=ud(()=>k("thead",null,[k("tr",null,[k("th",{scope:"col"},"#"),k("th",{scope:"col"},"Name"),k("th",{scope:"col"},"Specialist"),k("th",{scope:"col"},"Date & Time")])],-1)),pd=["onClick"],vd={class:"arabic"},md={class:"arabic"},_d={scope:"row"};function gd(M,f,P,K,w,D){return Ae(),Se("div",cd,[k("nav",ld,[k("div",fd,[dt(k("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>w.searchField=h),class:"form-control me-2 arabic flex-fill",type:"search",placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064A\u0636"},null,512),[[pt,w.searchField]]),k("button",{onClick:f[1]||(f[1]=cu((...h)=>D.search&&D.search(...h),["prevent"])),class:"flex-fill btn btn-outline-success"}," Search ")])]),k("table",hd,[dd,k("tbody",null,[(Ae(!0),Se(vt,null,gt(w.patients,(h,N)=>(Ae(),Se("tr",{onClick:W=>M.$emit("patient",h),key:h._id},[k("td",null,ot(N+1),1),k("td",vd,ot(h.Name),1),k("td",md,ot(h.Specialist),1),k("td",_d,ot(new Date(h._id).toLocaleDateString()),1)],8,pd))),128))])])])}var yd=Do(ad,[["render",gd],["__scopeId","data-v-02180d74"]]);const wd={data(){return{username:"",password:"",error:!1}}},bd={class:"m-4"},Ed={class:"mb-3"},Ad=k("label",{for:"exampleInputEmail1",class:"form-label"},"Username",-1),Sd=k("div",{class:"form-text"},"Never share your username with anyone else.",-1),Cd={class:"mb-3"},Td=k("label",{for:"exampleInputPassword1",class:"form-label"},"Password",-1);function Od(M,f,P,K,w,D){return Ae(),Se("form",bd,[k("div",Ed,[Ad,dt(k("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>w.username=h),type:"text",class:"form-control"},null,512),[[pt,w.username]]),Sd]),k("div",Cd,[Td,dt(k("input",{"onUpdate:modelValue":f[1]||(f[1]=h=>w.password=h),type:"password",class:"form-control"},null,512),[[pt,w.password]])]),k("button",{onClick:f[2]||(f[2]=cu(h=>{M.$emit("submit",{username:w.username,password:w.password}),w.error=!0},["prevent"])),class:ct(["btn btn-primary",w.error?"btn-danger":"btn-profile"])}," Sign In ",2)])}var Dd=Do(wd,[["render",Od]]);const Nd={props:["user"]},$d={class:"modal-open show fade"},Ld={class:"modal-dialog"},kd={class:"modal-content"},xd={class:"modal-header"},Pd={class:"modal-title"},Id=k("div",{class:"modal-body"},[k("p",null,"you can log out")],-1),Rd={class:"modal-footer"};function Bd(M,f,P,K,w,D){return Ae(),Se("div",$d,[k("div",Ld,[k("div",kd,[k("div",xd,[k("h5",Pd,ot(P.user),1),k("button",{onClick:f[0]||(f[0]=h=>M.$emit("close")),class:"btn-close"})]),Id,k("div",Rd,[k("button",{onClick:f[1]||(f[1]=h=>M.$emit("logout")),type:"button",class:"btn btn-secondary"}," Log Out ")])])])])}var Md=Do(Nd,[["render",Bd]]);const jd={class:"shadow nav sticky-top color pt-2 flex-row d-flex justify-content-between"},qd={class:"flex-fill"},Ud={key:0},Hd={key:1};function Fd(M){return(f,P)=>(Ae(),Se("div",null,[k("div",jd,[k("div",qd,[k("button",{onClick:P[0]||(P[0]=K=>f.tabs("new")),class:ct(["btn mx-2 text-light gg",f.tab==="sign"||f.tab==="new"?"active":""])},ot(f.user?"New Patient":"Login"),3),f.user?(Ae(),Se("button",{key:0,onClick:P[1]||(P[1]=K=>f.tabs("patients")),class:ct(["btn mx-2 text-light gg",f.tab==="patients"?"active":""])}," patients ",2)):Di("",!0),f.tab==="edit"?(Ae(),Se("button",{key:1,class:ct(["btn mx-2 gg",f.tab==="edit"?"active":""])}," Edit Patient ",2)):Di("",!0)]),k("button",{onClick:P[2]||(P[2]=K=>f.tab="profile"),class:ct(["btn mx-2 text-light gg",f.tab==="profile"?"active":""])},ot(f.user),3)]),f.user?(Ae(),Se("div",Hd,[k("div",null,[f.tab==="profile"?(Ae(),fa(Md,{key:0,onClose:P[3]||(P[3]=K=>f.tab="new"),onLogout:f.logout},null,8,["onLogout"])):Di("",!0),f.tab==="patients"?(Ae(),fa(yd,{key:1,onPatient:f.edit},null,8,["onPatient"])):Di("",!0),f.tab==="edit"?(Ae(),fa(od,{key:2,user:f.user,patient:f.obj,onClose:P[4]||(P[4]=K=>f.tab="patients")},null,8,["user","patient"])):Di("",!0),f.tab==="new"?(Ae(),fa(Wl,{key:3,user:f.user,onTab:f.tabs},null,8,["user","onTab"])):Di("",!0)])])):(Ae(),Se("div",Ud,[ic(Dd,{onSubmit:f.sign},null,8,["onSubmit"])]))]))}const lu=new PouchDB("patients"),Kd=new PouchDB(),fu=new PouchDB("buttons"),Gd=new PouchDB(),hu=new PouchDB("admin"),Vd=new PouchDB();lu.sync(Kd,{live:!0,retry:!0});fu.sync(Gd,{live:!0,retry:!0});hu.sync(Vd,{live:!0,retry:!0});const Wd={data(){return{tab:"sign",obj:null,user:""}},provide(){return{localDB:lu,localBtnDB:fu}},methods:{tabs(M){this.tab=M},edit(M){this.tab="edit",this.obj=M},sign({username:M,password:f}){hu.get(M).then(P=>{if(P.password===f)this.user=M,this.tab="new";else return})},logout(){this.user="",this.tab="sign"}}},zd=Object.assign(Wd,{setup:Fd});sc(zd).mount("#app")});export default Yd();
